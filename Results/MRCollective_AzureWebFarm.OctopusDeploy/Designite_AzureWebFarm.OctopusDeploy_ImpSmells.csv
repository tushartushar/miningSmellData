Implementation smell,Namespace,Class,File,Method,Description
Long Parameter List,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,OctopusDeploy,The method has 5 parameters. Parameters: machineName' config' repository' processRunner' registryEditor
Long Identifier,AzureWebFarm.OctopusDeploy.Infrastructure,ConfigSettings,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\ConfigSettings.cs,,The length of the parameter TentacleDeploymentsPathConfigName is 33.
Long Identifier,AzureWebFarm.OctopusDeploy.Infrastructure,ConfigSettings,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\ConfigSettings.cs,,The length of the parameter TentacleMachineNameSuffixConfigName is 35.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,AzureEnvironment,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\AzureEnvironment.cs,GetAzureLogger,The length of the statement  "                .WriteTo.AzureTableStorage(CloudStorageAccount.Parse(RoleEnvironment.GetConfigurationSettingValue(DiagnosticsConfigSetting))) " is 125.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,ConfigureTentacle,The length of the statement  "            _processRunner.Run(_tentaclePath' string.Format("create-instance {0} --config \"{1}\" --console"' InstanceArg' Path.Combine(_tentacleInstallPath' "Tentacle.config"))); " is 167.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,ConfigureTentacle,The length of the statement  "            _processRunner.Run(_tentaclePath' string.Format("configure {0} --home \"{1}\" --console"' InstanceArg' tentacleDeploymentsPath.Substring(0' tentacleDeploymentsPath.Length - 1))); " is 178.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,ConfigureTentacle,The length of the statement  "            _processRunner.Run(_tentaclePath' string.Format("configure {0} --app \"{1}\" --console"' InstanceArg' Path.Combine(tentacleDeploymentsPath' "Applications"))); " is 158.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,ConfigureTentacle,The length of the statement  "            _processRunner.Run(_tentaclePath' string.Format("register-with {0} --server \"{1}\" --environment \"{2}\" --role \"{3}\" --apiKey \"{4}\" --name \"{5}\" --comms-style TentacleActive --force --console"' InstanceArg' _config.OctopusServer' _config.TentacleEnvironment' _config.TentacleRole' _config.OctopusApiKey' _machineName)); " is 327.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,DeployAllCurrentReleasesToThisMachine,The length of the statement  "                throw new Exception("Failed to deploy to this role - at least one necessary deployment either failed or timed out - recycling role to try again"); " is 146.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,UninstallTentacle,The length of the statement  "            _processRunner.Run("msiexec"' string.Format("/uninstall \"{0}{1}\" /quiet"' _tentacleInstallPath' "Octopus.Tentacle.msi")); " is 123.
Long Statement,AzureWebFarm.OctopusDeploy.Infrastructure,ProcessRunner,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\ProcessRunner.cs,Run,The length of the statement  "                    throw new Exception(string.Format("Non-zero exit code returned ({0}). Stdout: {1} StdErr: {2}"' process.ExitCode' stdout' stderr)); " is 131.
Empty Catch Block,AzureWebFarm.OctopusDeploy,WebFarmRole,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\WebFarmRole.cs,Run,The method has an empty catch block.
Magic Number,AzureWebFarm.OctopusDeploy.Infrastructure,OctopusDeploy,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\Infrastructure\OctopusDeploy.cs,DeployAllCurrentReleasesToThisMachine,The following statement contains a magic number: try              {                  var machineId = _repository.Machines.FindByName(_machineName).Id;                  var environment = _repository.Environments.FindByName(_config.TentacleEnvironment).Id;                    var projects = _repository.Projects.FindAll()                      .Where(p => _repository.DeploymentProcesses                                 .Get(p.DeploymentProcessId)                                 .Steps                                 .Any(s =>                                 {                                     string value;                                     return s.Properties.TryGetValue(targetRolePropertyName' out value) && value == _config.TentacleRole;                                 }))                      .Select(p => p.Id);                    var dashboard = _repository.Dashboards.GetDashboard();                  var dashboardItems = dashboard.Items                      .Where(i => i.EnvironmentId == environment)                      .Where(i => projects.Contains(i.ProjectId))                      .ToList();                    var releaseTasks = new List<string>();                  foreach (var currentRelease in dashboardItems)                  {                      try                      {                          var deployment = _repository.Deployments.Create(new DeploymentResource                          {                              Comments = "Automated startup deployment by " + _machineName'                              EnvironmentId = currentRelease.EnvironmentId'                              ReleaseId = currentRelease.ReleaseId'                              SpecificMachineIds = new ReferenceCollection(new[] { machineId })                          });                          releaseTasks.Add(deployment.TaskId);                      }                      catch (OctopusValidationException ex)                      {                          Log.Error("Attempted to create a deployment that the OctopusDeploy server didn't like."' ex);                          // Rethowing the exception here so Azure doesn't fail trying to serialize it                          throw new Exception("Attempted to create a deployment that the OctopusDeploy server didn't like."' ex);                      }                  }                    Log.Information("Triggered deployments with task ids: {taskIds}"' releaseTasks);                    var taskStatuses = releaseTasks.Select(taskId => _repository.Tasks.Get(taskId).State);                    // ReSharper disable once PossibleMultipleEnumeration                  currentStatuses = taskStatuses.ToList();                  while (currentStatuses.Any(s => s == TaskState.Executing || s == TaskState.Queued))                  {                      Log.Debug("Waiting for deployments; current statuses: {statuses}"' currentStatuses);                      Thread.Sleep(1000);                      // ReSharper disable once PossibleMultipleEnumeration                      currentStatuses = taskStatuses.ToList();                  }                    Log.Information("Deployments completed with statuses: {statuses}"' currentStatuses);              }              catch (Exception e)              {                  Log.Error(e' "Error configuring tentacle");                  throw;              }
Magic Number,AzureWebFarm.OctopusDeploy,WebFarmRole,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\WebFarmRole.cs,Run,The following statement contains a magic number: try              {                  if (RoleEnvironment.IsEmulated)                  {                      while (!token.IsCancellationRequested)                      {                          await Task.Delay(100' token);                      }                  }                    while (!token.IsCancellationRequested)                  {                      try                      {                          IisEnvironment.ActivateAppInitialisationModuleForAllSites();                      }                      catch (Exception e)                      {                          Log.Warning(e' "Failure to configure IIS");                      }                        await Task.Delay(TimeSpan.FromMinutes(10)' token);                  }              }              catch (TaskCanceledException)              {              }
Magic Number,AzureWebFarm.OctopusDeploy,WebFarmRole,C:\repos\MRCollective_AzureWebFarm.OctopusDeploy\AzureWebFarm.OctopusDeploy\WebFarmRole.cs,Run,The following statement contains a magic number: try              {                  if (RoleEnvironment.IsEmulated)                  {                      while (!token.IsCancellationRequested)                      {                          await Task.Delay(100' token);                      }                  }                    while (!token.IsCancellationRequested)                  {                      try                      {                          IisEnvironment.ActivateAppInitialisationModuleForAllSites();                      }                      catch (Exception e)                      {                          Log.Warning(e' "Failure to configure IIS");                      }                        await Task.Delay(TimeSpan.FromMinutes(10)' token);                  }              }              catch (TaskCanceledException)              {              }
