Implementation smell,Namespace,Class,File,Method,Description
Long Method,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The method has 177 lines of code.
Long Method,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The method has 131 lines of code.
Long Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The method has 122 lines of code.
Long Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The method has 178 lines of code.
Long Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetContentType,The method has 657 lines of code.
Long Method,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The method has 128 lines of code.
Long Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The method has 270 lines of code.
Long Method,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The method has 290 lines of code.
Complex Method,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,EditDntConfig,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,CheckPayment,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,Cyclomatic complexity of the method is 11
Complex Method,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,GetForumSpecialUser,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsPathList,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,Cyclomatic complexity of the method is 22
Complex Method,Discuz.Forum,SpaceThemes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\SpaceThemes.cs,GetThemeAboutInfo,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,Cyclomatic complexity of the method is 14
Complex Method,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,Cyclomatic complexity of the method is 19
Complex Method,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetMessageWithAttachInfo,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumListMenuDivCache,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumLinkList,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,EditDntConfig,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetArchiverForumIndexList,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumIndexCollection,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetModerators,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,Cyclomatic complexity of the method is 41
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,Cyclomatic complexity of the method is 40
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,Cyclomatic complexity of the method is 34
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetContentType,Cyclomatic complexity of the method is 325
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,Cyclomatic complexity of the method is 24
Complex Method,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,Cyclomatic complexity of the method is 27
Complex Method,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,Cyclomatic complexity of the method is 17
Complex Method,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,Cyclomatic complexity of the method is 33
Complex Method,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,SelectTemplate,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,FindMenuID,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,Cyclomatic complexity of the method is 14
Complex Method,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,Cyclomatic complexity of the method is 30
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,Cyclomatic complexity of the method is 19
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateVerifyCode,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,LoadUrlConfig,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,Cyclomatic complexity of the method is 14
Complex Method,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,Cyclomatic complexity of the method is 15
Complex Method,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTableIdArray,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,LoadPostMessage,Cyclomatic complexity of the method is 14
Complex Method,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,WriteAggregationHotTopicsData,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,BetweenTime,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,GetSearchCacheList,Cyclomatic complexity of the method is 15
Complex Method,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,Cyclomatic complexity of the method is 23
Complex Method,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,Cyclomatic complexity of the method is 47
Complex Method,Discuz.Forum,Tags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Tags.cs,WriteTagsCacheFile,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,Cyclomatic complexity of the method is 16
Complex Method,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,Cyclomatic complexity of the method is 40
Complex Method,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,Cyclomatic complexity of the method is 22
Complex Method,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,Cyclomatic complexity of the method is 15
Complex Method,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,CheckPostTimeSpan,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,Search,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,Cyclomatic complexity of the method is 8
Long Parameter List,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetHotTopicList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetFocusTopicList,The method has 6 parameters.
Long Parameter List,Discuz.Forum,BBCodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BBCodes.cs,UpdateBBCode,The method has 11 parameters.
Long Parameter List,Discuz.Forum,BBCodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BBCodes.cs,CreateBBCCode,The method has 10 parameters.
Long Parameter List,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,CreateCreditOrder,The method has 6 parameters.
Long Parameter List,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,GetCreditOrderCount,The method has 8 parameters.
Long Parameter List,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,GetCreditOrderList,The method has 9 parameters.
Long Parameter List,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImages,The method has 6 parameters.
Long Parameter List,Discuz.Forum,CatchSoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SetupSoftInfo,The method has 16 parameters.
Long Parameter List,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,CreateForums,The method has 7 parameters.
Long Parameter List,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,CreateSmilies,The method has 9 parameters.
Long Parameter List,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateSmilies,The method has 10 parameters.
Long Parameter List,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,DeleteSmilies,The method has 6 parameters.
Long Parameter List,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetFourmTopicAPost,The method has 9 parameters.
Long Parameter List,Discuz.Forum,AdminModeratorLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminModeratorLogs.cs,InsertLog,The method has 12 parameters.
Long Parameter List,Discuz.Forum,AdminRateLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminRateLogs.cs,InsertLog,The method has 6 parameters.
Long Parameter List,Discuz.Forum,AdminTemplates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTemplates.cs,RemoveTemplateInDB,The method has 6 parameters.
Long Parameter List,Discuz.Forum,AdminTemplates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTemplates.cs,DeleteTemplate,The method has 6 parameters.
Long Parameter List,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchMoveTopics,The method has 7 parameters.
Long Parameter List,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchDeleteTopics,The method has 7 parameters.
Long Parameter List,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchChangeTopicsDisplayOrderLevel,The method has 7 parameters.
Long Parameter List,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchChangeTopicsDigest,The method has 7 parameters.
Long Parameter List,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchDeleteTopicAttachs,The method has 6 parameters.
Long Parameter List,Discuz.Forum,AdminVistLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminVistLogs.cs,InsertLog,The method has 7 parameters.
Long Parameter List,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,CreateAd,The method has 9 parameters.
Long Parameter List,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,UpdateAdvertisement,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Announcements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Announcements.cs,CreateAnnouncement,The method has 7 parameters.
Long Parameter List,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetMessageWithAttachInfo,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,SearchAttachment,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateAttachment,The method has 8 parameters.
Long Parameter List,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The method has 8 parameters.
Long Parameter List,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,ReSetHotTopicList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,ReSetFocusTopicList,The method has 6 parameters.
Long Parameter List,Discuz.Forum,CreditsLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditsLogs.cs,AddCreditsLog,The method has 8 parameters.
Long Parameter List,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,RestoreDatabase,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,BackUpDatabase,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatePostList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetHotTopicList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The method has 9 parameters.
Long Parameter List,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The method has 10 parameters.
Long Parameter List,Discuz.Forum,ForumLinks,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumLinks.cs,CreateForumLink,The method has 5 parameters.
Long Parameter List,Discuz.Forum,ForumLinks,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumLinks.cs,UpdateForumLink,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumIndexCollection,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetSubForumCollection,The method has 5 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,The method has 5 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,The method has 5 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The method has 6 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The method has 7 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The method has 10 parameters.
Long Parameter List,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateTextImage,The method has 6 parameters.
Long Parameter List,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,TestConnect,The method has 7 parameters.
Long Parameter List,Discuz.Forum,Helps,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Help.cs,UpdateHelp,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,EditBanIp,The method has 5 parameters.
Long Parameter List,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,EditMenuItem,The method has 5 parameters.
Long Parameter List,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The method has 6 parameters.
Long Parameter List,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,GetForumOnlineUserCollection,The method has 5 parameters.
Long Parameter List,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,BuyTopic,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The method has 9 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetUnauditPost,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,LoadPostMessage,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,AuditPost,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,WriteAggregationPostData,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicAuditCondition,The method has 8 parameters.
Long Parameter List,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,SearchPost,The method has 8 parameters.
Long Parameter List,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetPrivateMessageCollection,The method has 5 parameters.
Long Parameter List,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,DeletePrivateMessages,The method has 7 parameters.
Long Parameter List,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,Search,The method has 11 parameters.
Long Parameter List,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,GetSearchCacheList,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetTrendGraph,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,NewTopic,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,Reply,The method has 7 parameters.
Long Parameter List,Discuz.Forum,Templates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Templates.cs,CreateTemplate,The method has 7 parameters.
Long Parameter List,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,MoveTopics,The method has 5 parameters.
Long Parameter List,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,RatePosts,The method has 7 parameters.
Long Parameter List,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,SetPostRate,The method has 5 parameters.
Long Parameter List,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,CancelRatePosts,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicsByReplyUserId,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicsByUserId,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopTopicList,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The method has 9 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The method has 11 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicListByCondition,The method has 10 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicListCount,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The method has 8 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetHotTopicsList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTitleDisplayOrder,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetSearchTopicsCondition,The method has 15 parameters.
Long Parameter List,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicListExtraInfo,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,Parsecode,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,CheckPostTimeSpan,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,GetTopicPostInvisible,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,NeedAudit,The method has 6 parameters.
Long Parameter List,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,Search,The method has 5 parameters.
Long Parameter List,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,The method has 6 parameters.
Long Parameter List,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPasswordAndSecques,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPassword,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPassword,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,UpdateUserPreference,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,UpdateMedals,The method has 6 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,SendPMByGroupidList,The method has 9 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,SendEmailByGroupidList,The method has 5 parameters.
Long Parameter List,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUsersSearchCondition,The method has 14 parameters.
Long Statement,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,EditDntConfig,The length of the statement  "			BaseConfigInfoCollection bcc = (BaseConfigInfoCollection)SerializationHelper.Load (typeof(BaseConfigInfoCollection)' filename); " is 127.
Long Statement,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,The length of the statement  "	string physicsAvatarPath = string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size); " is 148.
Long Statement,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,ExistAvatar,The length of the statement  "	return File.Exists (GetPhysicsAvatarPath (uid' AvatarSize.Large)) && File.Exists (GetPhysicsAvatarPath (uid' AvatarSize.Medium)) && File.Exists (GetPhysicsAvatarPath (uid' AvatarSize.Small)); " is 191.
Long Statement,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The length of the statement  "	return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ())); " is 195.
Long Statement,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,The length of the statement  "		return string.Format ("{0}tools/avatar.aspx?uid={1}&size={2}"' Utils.GetRootUrl (Discuz.Config.BaseConfigs.GetForumPath)' uid' size); " is 133.
Long Statement,Discuz.Forum,BBCodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BBCodes.cs,UpdateBBCode,The length of the statement  "		tag = System.Text.RegularExpressions.Regex.Replace (tag.Replace ("<"' "").Replace (">"' "")' @"^[\>]|[\{]|[\}]|[\[]|[\]]|[\']|[\.]"' ""); " is 137.
Long Statement,Discuz.Forum,BBCodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BBCodes.cs,UpdateBBCode,The length of the statement  "		Data.BBCodes.UpdateBBCode (available' tag' icon' replacement' example' explanation' param' nest' paramsDescription' paramsDefaultValue' id); " is 140.
Long Statement,Discuz.Forum,BBCodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BBCodes.cs,CreateBBCCode,The length of the statement  "	Data.BBCodes.CreateBBCCode (available' tag' icon' replacement' example' explanation' param' nest' paramsDescript' paramsDefvalue); " is 130.
Long Statement,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,CreateCreditOrder,The length of the statement  "	if (uId < 0 || string.IsNullOrEmpty (buyer) || credit < 1 || credit > 8 || amount < 1 || string.IsNullOrEmpty (outTradeNo)) " is 123.
Long Statement,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,GetCreditOrderCount,The length of the statement  "	return Data.CreditOrders.GetCreditOrderCount (status' orderId' tradeNo' buyer' submitStartTime' submitLastTime' confirmStartTime' confirmLastTime); " is 147.
Long Statement,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,GetCreditOrderList,The length of the statement  "	return Data.CreditOrders.GetCreditOrderList (pageIndex' status' orderId' tradeNo' buyer' submitStartTime' submitLastTime' confirmStartTime' confirmLastTime); " is 157.
Long Statement,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The length of the statement  "	string keyc = ckey_length > 0 ? (operation.Equals ("DECODE") ? str.Substring (0' ckey_length) : md5MT.Substring (md5MT.Length - ckey_length)) : string.Empty; " is 157.
Long Statement,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The length of the statement  "	str = operation.Equals ("DECODE") ? Base64Decode (str.Substring (ckey_length)) : (expiry > 0 ? expiry + Time () : 0).ToString ("D10") + (Utils.MD5 (str + keyb)).Substring (0' 16) + str; " is 185.
Long Statement,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The length of the statement  "		if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16))) " is 197.
Long Statement,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,CheckPayment,The length of the statement  "		string aliPayNotifyUrl = "http://pay.discuz.net/gateway/alipay.php?_type=alipay&_action=verify&_product=Discuz!NT&_version=" + Discuz.Common.Utils.GetAssemblyVersion (); " is 169.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The length of the statement  "	forumHotItemInfo.Dataitemcount = forumHotItemInfo.Dataitemcount > 50 ? 50 : (forumHotItemInfo.Dataitemcount < 1 ? 1 : forumHotItemInfo.Dataitemcount); " is 150.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The length of the statement  "		string forumList = string.IsNullOrEmpty (forumHotItemInfo.Forumlist) ? Forums.GetVisibleForum () : forumHotItemInfo.Forumlist; " is 126.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The length of the statement  "		string orderFieldName = Focuses.GetFieldName ((TopicOrderType)Enum.Parse (typeof(TopicOrderType)' forumHotItemInfo.Sorttype)); " is 126.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The length of the statement  "		dt = Discuz.Data.Topics.GetTopicList (forumHotItemInfo.Dataitemcount' -1' 0' ""' Focuses.GetStartDate ((TopicTimeType)Enum.Parse (typeof(TopicTimeType)' forumHotItemInfo.Datatimetype))' orderFieldName' forumList' orderFieldName == "digest"' false); " is 248.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The length of the statement  "			DNTCache.GetCacheService ().AddObject ("/Forum/ForumHostList-" + forumHotItemInfo.Id' dt' forumHotItemInfo.Cachetimeout); " is 121.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "	string forumList = string.IsNullOrEmpty (forumHotItemInfo.Forumlist) ? Forums.GetVisibleForum () : forumHotItemInfo.Forumlist; " is 126.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "	foreach (DataRow dr in HotImages (forumHotItemInfo.Dataitemcount' forumHotItemInfo.Cachetimeout' forumHotItemInfo.Sorttype' forumHotItemInfo.Id' forumList' forumHotItemInfo.Enabled).Rows) { " is 189.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "			Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240); " is 161.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "			hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0)); " is 151.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "		if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) { " is 134.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "			Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240); " is 138.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The length of the statement  "		hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName)' Urls.ShowTopicAspxRewrite (tid' 0)); " is 155.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,RemoveUbb,The length of the statement  "	message = Regex.Replace (message' @"\[img=(\d{1'4})[x|\'](\d{1'4})\]\s*([^\[\<\r\n]+?)\s*\[\/img\]"' "{ͼƬ}"' RegexOptions.IgnoreCase); " is 134.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,RemoveUbb,The length of the statement  "	message = Regex.Replace (message' @"\s*\[hide\][\n\r]*([\s\S]+?)[\n\r]*\[\/hide\]\s*"' "{��������}"' RegexOptions.IgnoreCase); " is 126.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,RemoveUbb,The length of the statement  "	message = Regex.Replace (message' @"\s*\[hide=(\d+?)\][\n\r]*([\s\S]+?)[\n\r]*\[\/hide\]\s*"' "{��������}"' RegexOptions.IgnoreCase); " is 133.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,RemoveUbb,The length of the statement  "	return Utils.GetSubString (Utils.ClearUBB (Utils.RemoveHtml (message)).Replace ("{"' "[").Replace ("}"' "]")' length' "......"); " is 128.
Long Statement,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,DeleteCacheImageFile,The length of the statement  "	FileInfo[] files = new DirectoryInfo (Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/")).GetFiles (); " is 122.
Long Statement,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The length of the statement  "			XmlNodeList list = lastupdate.SelectNodes ("/localupgrade/optionalupgrade/dnt" + Utils.GetAssemblyVersion () + "/item"); " is 120.
Long Statement,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The length of the statement  "		csi.SetupSoftInfo (forumname' member' topcis' posts' serversoftware' Utils.AssemblyFileVersion.FileMajorPart' Utils.AssemblyFileVersion.FileMinorPart' Utils.AssemblyFileVersion.FileBuildPart' dotnetmajor' dotnetminor' dotnetbuild' dbtype' build' osversion' serverip' servername); " is 279.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,GetForumSpecialUser,The length of the statement  "						foruminfo [i].Permuserlist = foruminfo [i].Permuserlist.ToString ().Substring (0' foruminfo [i].Permuserlist.ToString ().Length - 1); " is 133.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,GetForumSpecialUser,The length of the statement  "					foruminfo [i].Permuserlist = foruminfo [i].Permuserlist.ToString ().Substring (0' foruminfo [i].Permuserlist.ToString ().Length - 1); " is 133.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,CreateForums,The length of the statement  "	moderatorsInfo = SetForumsModerators (fid.ToString ()' forumInfo.Moderators' forumInfo.Inheritedmod).Replace ("'"' "’"); " is 120.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,CreateForums,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGruopId' adminUserGroupTitle' adminIp' "添加论坛版块"' "添加论坛版块'名称为:" + forumInfo.Name); " is 140.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsPathList,The length of the statement  "	GeneralConfigInfo config = GeneralConfigs.Deserialize (Utils.GetMapPath (BaseConfigs.GetForumPath + "config/general.config")); " is 126.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsPathList,The length of the statement  "			pathList = "<a href=\"" + (dr ["rewritename"].ToString ().Trim () == string.Empty ? string.Empty : forumPath) + Urls.ShowForumAspxRewrite (Utils.StrToInt (dr ["fid"]' 0)' 0' dr ["rewritename"].ToString ()) + "\">" + dr ["name"].ToString ().Trim () + "</a>"; " is 257.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsPathList,The length of the statement  "						pathList += "<a href=\"" + (drs [0] ["rewritename"].ToString ().Trim () == string.Empty ? string.Empty : forumPath) + Urls.ShowForumAspxRewrite (Utils.StrToInt (drs [0] ["fid"]' 0)' 0' drs [0] ["rewritename"].ToString ()) + "\">" + drs [0] ["name"].ToString ().Trim () + "</a>"; " is 278.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsPathList,The length of the statement  "			pathList += "<a href=\"" + (dr ["rewritename"].ToString ().Trim () == "" ? "" : forumPath) + Urls.ShowForumAspxRewrite (Utils.StrToInt (dr ["fid"]' 0)' 0' dr ["rewritename"].ToString ()) + "\">" + dr ["name"].ToString ().Trim () + "</a>"; " is 238.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,MovingForumsPos,The length of the statement  "	string extname = GeneralConfigs.Deserialize (Utils.GetMapPath (BaseConfigs.GetForumPath + "config/general.config")).Extname; " is 124.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,CompareOldAndNewModerator,The length of the statement  "		if ((oldmoderator != "") && ("'" + newmoderators + "'").IndexOf ("'" + oldmoderator + "'") < 0)//当不存在，则表示当前老的版主已被删除，则执行删除当前老版主 " is 126.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsSubForumCountAndDispalyorder,The length of the statement  "		Discuz.Data.Forums.UpdateSubForumCount (int.Parse (dt.Select ("parentid=" + dr ["fid"].ToString ()).Length.ToString ())' int.Parse (dr ["fid"].ToString ())); " is 157.
Long Statement,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,DeleteSmilies,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGruopId' adminUserGroupTitle' adminIp' "表情文件删除"' "ID:" + idList); " is 124.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,GetPostsCountByFid,The length of the statement  "			todaypostcount += Data.Posts.GetTodayPostCount (fid' Data.Posts.GetPostTableName (TypeConverter.StrToInt (posttableid))); " is 121.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,GetPostsCountByUid,The length of the statement  "			todaypostcount += Data.Posts.GetTodayPostCountByUid (uid' Data.Posts.GetPostTableName (TypeConverter.StrToInt (posttableid))); " is 126.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetTopicPosts,The length of the statement  "	//        IDataReader readerTopic = Data.Posts.GetLastPostByFid(lasttid' BaseConfigs.GetTablePrefix + "posts" + posttableid); " is 125.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetTopicPosts,The length of the statement  "	//                    Discuz.Data.Topics.UpdateTopic(lasttid' postcount' Utils.StrToInt(readerTopic["pid"]' 0)' readerTopic["postdatetime"].ToString()' Utils.StrToInt(readerTopic["posterid"]' 0)' readerTopic["poster"].ToString()); " is 230.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetTopicPosts,The length of the statement  "			//IDataReader readerTopic = Data.Posts.GetLastPostByFid(current_tid' BaseConfigs.GetTablePrefix + "posts" + posttableid); " is 121.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetTopicPosts,The length of the statement  "					Discuz.Data.Topics.UpdateTopic (current_tid' postcount' Utils.StrToInt (post.Pid' 0)' post.Postdatetime.ToString ()' Utils.StrToInt (post.Posterid' 0)' post.Poster.ToString ()); " is 177.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetFourmTopicPost,The length of the statement  "			IDataReader postreader = Discuz.Data.Posts.GetForumLastPost (fid' Posts.GetPostTableName ()' topiccount' postcount' lasttid' lasttitle' lastpost' lastposterid' lastposter' todaypostcount); " is 188.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetFourmTopicPost,The length of the statement  "			Discuz.Data.Forums.UpdateForum (fid' topiccount' postcount' lasttid' lasttitle' lastpost' lastposterid' lastposter' todaypostcount); " is 132.
Long Statement,Discuz.Forum,AdminForumStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForumStats.cs,ReSetFourmTopicAPost,The length of the statement  "	Discuz.Data.Forums.UpdateForum (fid' topiccount' postcount' lasttid' lasttitle' lastpost' lastposterid' lastposter' todaypostcount); " is 132.
Long Statement,Discuz.Forum,AdminModeratorLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminModeratorLogs.cs,InsertLog,The length of the statement  "	return Discuz.Data.ModeratorManageLog.InsertLog (moderatoruid' moderatorname' groupid' grouptitle' ip' postdatetime' fid' fname' tid' title' actions' reason); " is 158.
Long Statement,Discuz.Forum,AdminModeratorLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminModeratorLogs.cs,GetSearchModeratorManageLogCondition,The length of the statement  "	return Data.ModeratorManageLog.GetSearchModeratorManageLogCondition (postDateTimeStart' postDateTimeEnd' userName' others); " is 123.
Long Statement,Discuz.Forum,AdminPaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminPaymentLogs.cs,RecordCount,The length of the statement  "	return Discuz.Common.Utils.StrIsNullOrEmpty (condition) ? Discuz.Data.PaymentLogs.RecordCount () : Discuz.Data.PaymentLogs.RecordCount (condition); " is 147.
Long Statement,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchMoveTopics,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGroupId' adminUserGroupTitle' adminIp' "�����ƶ�����"' "����ID:" + tidList + " <br />Ŀ����̳fid:" + targetForumId); " is 172.
Long Statement,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchDeleteTopics,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGroupId' adminUserGroupTitle' adminIp' "����ɾ������"' "����ID:" + tidList); " is 134.
Long Statement,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchChangeTopicsDisplayOrderLevel,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGroupId' adminUserGroupTitle' adminIp' "�����ö�����"' "����ID:" + tidList + "<br /> �ö���Ϊ:" + displayOrderLevel); " is 173.
Long Statement,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchChangeTopicsDigest,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGroupId' adminUserGroupTitle' adminIp' "�����Ӿ�����"' "����ID:" + tidList + "<br /> �Ӿ���Ϊ:" + digestLevel); " is 167.
Long Statement,Discuz.Forum,AdminTopics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminTopics.cs,BatchDeleteTopicAttachs,The length of the statement  "	AdminVistLogs.InsertLog (adminUid' adminUserName' adminUserGroupId' adminUserGroupTitle' adminIp' "ɾ�������еĸ���"' "����ID:" + tidList); " is 136.
Long Statement,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The length of the statement  "				Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (currentGroupOldCreatesHigher' currentGroupOldCreatesLower); " is 128.
Long Statement,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The length of the statement  "				Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (currentGroupOldCreatesLower' currentGroupOldCreatesHigher); " is 126.
Long Statement,Discuz.Forum,AdminUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUsers.cs,UserNameChange,The length of the statement  "	//        Forums.UpdateForumField(Utils.StrToInt(dr["fid"]' 0)'"moderators"'dr["moderators"].ToString().Trim().Replace(oldusername' userInfo.Username)); " is 152.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The length of the statement  "				adsMsg += string.Format ("<div class=\"ad_textlink1\" id=\"ad_thread1_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code); " is 139.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The length of the statement  "				adsMsg += string.Format ("<div class=\"ad_textlink2\" id=\"ad_thread2_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code); " is 139.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The length of the statement  "				adsMsg += string.Format ("<div class=\"ad_pip\" id=\"ad_thread3_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code); " is 133.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetFloatAd,The length of the statement  "	return "<script type='text/javascript'>theFloaters.addItem('floatAdv''10''(document.body.clientHeight>document.documentElement.clientHeight ? document.documentElement.clientHeight :document.body.clientHeight)-" + (parameter [3] == "" ? "0" : parameter [3]) + "-40'''" + result + "');</script>"; " is 294.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdsMsg,The length of the statement  "		result = string.Format ("<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'19'0\" width=\"{0}\" height=\"{1}\"><param name=\"movie\" value=\"{2}\" /><param name=\"quality\" value=\"high\" /><param name=\"wmode\" value=\"opaque\">{3}<embed src=\"{2}\" wmode=\"opaque\" quality=\"high\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"{0}\" height=\"{1}\"></embed></object>"' parameter [2]' parameter [3]' parameter [1]' adshowArray [number].Code); " is 609.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetDoubleAd,The length of the statement  "	doublestr.AppendFormat ("\ntheFloaters.addItem('coupleBannerAdv1'''(document.body.clientWidth>document.documentElement.clientWidth ? document.documentElement.clientWidth :document.body.clientWidth )-" + (parameter [2] == "" ? "0" : parameter [2]) + "-10''10''" + result + "<br /><img src=\"images/common/advclose.gif\" onMouseOver=\"this.style.cursor=\\\'hand\\\'\" onClick=\"closeBanner();\">');"); " is 399.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetDoubleAd,The length of the statement  "	doublestr.AppendFormat ("\ntheFloaters.addItem('coupleBannerAdv2''10'10''" + result + "<br /><img src=\"images/common/advclose.gif\" onMouseOver=\"this.style.cursor=\\\'hand\\\'\" onClick=\"closeBanner();\">');"); " is 213.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetInForumAd,The length of the statement  "			result.AppendFormat ("<div class=\"ad_column\" id=\"ad_intercat_{0}_none\">{1}</div>\r\n"' topforum [i].Fid' adshowArray [i].Code); " is 131.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,CreateAd,The length of the statement  "	Discuz.Data.Advertisenments.CreateAd (available' type' displayorder' title' targets' parameters' code' startTime.IndexOf ("1900") >= 0 ? "1900-1-1" : startTime' endTime.IndexOf ("1900") >= 0 ? "2555-1-1" : endTime); " is 215.
Long Statement,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,UpdateAdvertisement,The length of the statement  "		Data.Advertisenments.UpdateAdvertisement (adId' available' type' displayorder' title' targets' parameters' code' startTime' endTime); " is 133.
Long Statement,Discuz.Forum,Announcements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Announcements.cs,UpdateAnnouncementDisplayOrder,The length of the statement  "				Data.Announcements.UpdateAnnouncementDisplayOrder (TypeConverter.StrToInt (displayorder.Split (''') [i])' TypeConverter.ObjectToInt (announcementlist.Rows [i] ["id"])); " is 168.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,FilterLocalTags,The length of the statement  "			r = new Regex (@"\[localimg=(\d{1'})'(\d{1'})\]" + attachmentinfo [i].Sys_index + @"\[\/localimg\]"' RegexOptions.IgnoreCase); " is 126.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,FilterLocalTags,The length of the statement  "	tempMessage = Regex.Replace (tempMessage' @"\[localimg=(\d{1'})'\s*(\d{1'})\][\s\S]+?\[/localimg\]"' string.Empty' RegexOptions.IgnoreCase); " is 140.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The length of the statement  "	//string[] readperm = String.IsNullOrEmpty(DNTRequest.GetString("readperm")) ? null : DNTRequest.GetString("readperm").Split('''); " is 130.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The length of the statement  "	//string[] attachdesc = DNTRequest.GetString("attachdesc") == null ? null : DNTRequest.GetString("attachdesc").Split('''); " is 122.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The length of the statement  "	//string[] attachprice = DNTRequest.GetString("attachprice") == null ? null : DNTRequest.GetString("attachprice").Split('''); " is 125.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The length of the statement  "		//attachmentInfo[i].Attachprice = attachprice != null ? UserGroups.CheckUserGroupMaxPrice(userGroupInfo' Utils.StrToInt(attachprice[i]' 0)) : 0; " is 144.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetThumbnailByTid,The length of the statement  "	string attCachePath = string.Format ("{0}cache/thumbnail/t_{1}_{2}_{3}.jpg"' BaseConfigs.GetForumPath' tid' theMaxsize' (int)type); " is 131.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The length of the statement  "		string[] attachprice = DNTRequest.GetString ("sl_attachprice") == null ? null : DNTRequest.GetString ("sl_attachprice").Split ('''); " is 132.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The length of the statement  "				attachmentInfo.Attachprice = attachprice.Length == attachidArray.Length ? UserGroups.CheckUserGroupMaxPrice (usergroupinfo' Utils.StrToInt (attachprice [i]' 0)) : 0; " is 165.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "				return string.Format ("<img src=\"{0}\" {1} {2}/>"' attachInfo.Filename' GetImageShowWidth (postPramsInfo.TemplateWidth' attachInfo.Width)' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' true)); " is 219.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "			return string.Format ("<img src=\"{0}upload/{1}\" {2} {3}/>"' forumPath' attachInfo.Filename' GetImageShowWidth (postPramsInfo.TemplateWidth' attachInfo.Width)' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' true)); " is 240.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1) { " is 159.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "				content = string.Format (imageAttachTemplate' tipImg' attachInfo.Filename' attachInfo.Aid' forumPath' attachInfo.Attachment.Trim ()' fileSize' attachInfo.Postdatetime' imageAttachWidth' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' false)' attachInfo.Uid); " is 282.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "			content = string.Format (imageAttachTemplate' tipImg' forumPath + "upload/" + attachInfo.Filename' attachInfo.Aid' forumPath' attachInfo.Attachment.Trim ()' fileSize' attachInfo.Postdatetime' imageAttachWidth' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' false)' attachInfo.Uid); " is 306.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "		string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid))); " is 239.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "		return string.Format ("<img src=\"{0}attachment.aspx?attachmentid={1}\" {2} {3}/>"' forumPath' attachInfo.Aid' GetImageShowWidth (postPramsInfo.TemplateWidth' attachInfo.Width)' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' true)); " is 257.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "	if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1) { " is 159.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "		return string.Format (imageAttachTemplate' tipImg' forumPath + "attachment.aspx?attachmentid=" + attachInfo.Aid' attachInfo.Aid' forumPath' attachInfo.Attachment.Trim ()' fileSize' attachInfo.Postdatetime' imageAttachWidth' GetAutoImageWidthScript (postPramsInfo.TemplateWidth' attachInfo.Width' false)' attachInfo.Uid); " is 320.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The length of the statement  "	return string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid))); " is 246.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "	//string needPayAttachTemplateRow1 = "<p><img alt=\"\" src=\"{0}images/attachicons/{2}\" border=\"0\"/><span class=\"bold\">收费附件</span>: <strong>{1}</strong><em class=\"xg1\">(<script type=\"text/javascript\">ShowFormatBytesStr({3});</script>' 下载次数:{4})</em></p>"; " is 264.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "	//string needPayAttachTemplateRow2 = "<p>售价(" + Scoresets.GetTopicAttachCreditsTransName() + "):<strong>{5} </strong>[<a onclick=\"loadattachpaymentlog({6});\" href=\"javascript:void(0);\">记录</a>] [<a onclick=\"loadbuyattach({6});\" href=\"javascript:void(0);\">购买</a>]</p>"; " is 275.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "		replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' "<span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>")); " is 152.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "	//replacement = string.Format("<br /><img src=\"{0}images/attachicons/{1}\" alt=\"\">&nbsp;附件: <span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"' forumPath' attachIcon); " is 174.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "		//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment); " is 221.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "			if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1) " is 157.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "				replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm)); " is 310.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "			//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid); " is 420.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "				replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid))); " is 253.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "			//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid); " is 214.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "			replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm); " is 166.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The length of the statement  "			replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath); " is 371.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetMessageWithAttachInfo,The length of the statement  "	if ((attachInfo.Readperm <= postPramsInfo.Usergroupreadaccess || postInfo.Posterid == postPramsInfo.CurrentUserid) && allowGetAttach == 1) " is 138.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetMessageWithAttachInfo,The length of the statement  "	if (message.IndexOf ("[attach]" + attachInfo.Aid + "[/attach]") != -1 || message.IndexOf ("[attachimg]" + attachInfo.Aid + "[/attachimg]") != -1) { " is 147.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,SearchAttachment,The length of the statement  "	return Data.Attachments.SearchAttachment (forumid' posttablename' filesizemin' filesizemax' downloadsmin' downloadsmax' postdatetime' filename' description' poster); " is 165.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateAttachment,The length of the statement  "		returnMsg.AppendFormat ("您添加了{0}个图片/附件'多于系统设置的{1}个.<br/>请重新编辑该帖并删除多余图片/附件."' attachmentArray.Length' config.Maxattachments); " is 124.
Long Statement,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateAttachment,The length of the statement  "	//int errorAttachment = Attachments.BindAttachment(attachmentinfoarray' postid' sb' topicid' userid' usergroupinfo' out newAttachCount); " is 136.
Long Statement,Discuz.Forum,AttachPaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\AttachPaymentLogs.cs,GetAttachPaymentLogJsonByAid,The length of the statement  "	return aid > 0 ? Newtonsoft.Json.JavaScriptConvert.SerializeObject (Data.AttachPaymentLogs.GetAttachPaymentLogList (aid).ToArray ()) : ""; " is 138.
Long Statement,Discuz.Forum,AttachPaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\AttachPaymentLogs.cs,HasBoughtAttach,The length of the statement  "	return attachmentinfo.Attachprice > 0 && attachmentinfo.Uid != userid && radminid != 1 && !Data.AttachPaymentLogs.HasBoughtAttach (userid' attachmentinfo.Aid); " is 159.
Long Statement,Discuz.Forum,BanWords,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\BanWords.cs,ConvertRegexCode,The length of the statement  "	//string[] code = { "\\"' "."' "+"' "*"' "?"' "["' "^"' "]"' "$"' "("' ")"' "{"' "}"' "="' "!"' "<"' ">"' "|"' ":" }; //该正则字符数组集要求"\\"必须在数组的第一位'否则会出问题 " is 150.
Long Statement,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The length of the statement  "		Discuz.Data.Bonus.AddLog (topicinfo.Tid' topicinfo.Posterid' winerIdArray [i]' winnerNameArray [i]' postIdArray [i]' bonus' Scoresets.GetBonusCreditsTrans ()' isbest); " is 167.
Long Statement,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,GetLogs,The length of the statement  "	return (topic.Tid > 0 && topic.Special == 3) ? Discuz.Data.Bonus.GetLogs (topic.Tid' Posts.GetPostTableId (topic.Tid)) : null; " is 126.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumListMenuDivCache,The length of the statement  "							sb.AppendFormat ("<dl><dt><a href=\"{0}\">{1}</a></dt><dd><ul>"' BaseConfigs.GetForumPath + Urls.ShowForumAspxRewrite (info.Fid' 0' info.Rewritename)' info.Name); " is 162.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumListMenuDivCache,The length of the statement  "									sb.AppendFormat ("<li><a href=\"{0}\">{1}</a></li>"' BaseConfigs.GetForumPath + Urls.ShowForumAspxRewrite (forum.Fid' 0' forum.Rewritename)' forum.Name.Trim ()); " is 161.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetTemplateListBoxOptionsCache,The length of the statement  "		string str = topMenu ? cache.RetrieveObject ("/Forum/UI/TemplateListBoxOptionsForForumIndex") as string : cache.RetrieveObject ("/Forum/UI/TemplateListBoxOptions") as string; " is 174.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetTemplateListBoxOptionsCache,The length of the statement  "					sb.AppendFormat ("<li><a onclick=\"window.location.href='{0}showtemplate.aspx?templateid={1}';return false;\" href=\"###\"><i style=\"background: url(&quot;templates/{2}/about.png&quot;) no-repeat scroll 0% 0% transparent;\">&nbsp;</i><span>{3}</span><em></em></a></li>"' BaseConfigs.GetForumPath' dr ["templateid"]' dr ["directory"]' dr ["name"].ToString ().Trim ()); " is 368.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetTemplateListBoxOptionsCache,The length of the statement  "					sb.AppendFormat ("<li><a onclick=\"window.location.href='{0}showtemplate.aspx?templateid={1}';return false;\" href=\"###\">{2}</a></li>"' BaseConfigs.GetForumPath' dr ["templateid"]' dr ["name"].ToString ().Trim ()); " is 216.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetOnlineGroupIconList,The length of the statement  "				sb.AppendFormat ("<img src=\"{0}images/groupicons/{1}\" /> {2} &nbsp; &nbsp; &nbsp; "' forumpath' dr ["img"]' dr ["title"]); " is 124.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumLinkList,The length of the statement  "						textLinkBuilder.AppendFormat ("<li><a title=\"{0}\" href=\"{1}\" target=\"_blank\">{0}</a></li>\r\n"' dr ["name"]' dr ["url"]); " is 127.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetForumLinkList,The length of the statement  "						logoLinkBuilder.AppendFormat ("<li><a title=\"{0}\" href=\"{1}\" target=\"_blank\"><img alt=\"{0}\" class=\"friendlinkimg\" src=\"{2}\" /></a></li>\r\n"' dr ["name"]' dr ["url"]' dr ["logo"]); " is 192.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetMedalsList,The length of the statement  "						dr ["image"] = "<img border=\"0\" src=\"" + EntLibConfigs.GetConfig ().Medaldir + dr ["image"] + "\" alt=\"" + dr ["name"] + "\" title=\"" + dr ["name"] + "\" />"; " is 163.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetMedalsList,The length of the statement  "						dr ["image"] = "<img border=\"0\" src=\"" + forumpath + "images/medals/" + dr ["image"] + "\" alt=\"" + dr ["name"] + "\" title=\"" + dr ["name"] + "\" />"; " is 156.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetTopicIdentifyCollection,The length of the statement  "	Discuz.Common.Generic.List<TopicIdentify> topicidentifyList = cache.RetrieveObject ("/Forum/TopicIdentifys") as Discuz.Common.Generic.List<TopicIdentify>; " is 154.
Long Statement,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,EditDntConfig,The length of the statement  "			BaseConfigInfoCollection bcc = (BaseConfigInfoCollection)SerializationHelper.Load (typeof(BaseConfigInfoCollection)' filename); " is 127.
Long Statement,Discuz.Forum,CreditsLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditsLogs.cs,AddCreditsLog,The length of the statement  "	return uid > 0 ? Discuz.Data.CreditsLogs.AddCreditsLog (uid' fromto' sendcredits' receivecredits' send' receive' paydate' operation) : 0; " is 137.
Long Statement,Discuz.Forum,CreditsLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditsLogs.cs,GetCreditsLogList,The length of the statement  "	return (uid > 0 && currentpage > 0) ? Discuz.Data.CreditsLogs.GetCreditsLogList (pagesize' currentpage' uid) : new DataTable (); " is 128.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,RestoreDatabase,The length of the statement  "	return Discuz.Data.Databases.RestoreDatabase (backupPath' serverName' userName' password' dbName' fileName.Replace (" "' "_")); " is 127.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,BackUpDatabase,The length of the statement  "	return Discuz.Data.Databases.BackUpDatabase (backupPath' serverName' userName' password' dbName' fileName.Replace (" "' "_")); " is 126.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,TestFullTextIndex,The length of the statement  "			msg = "<script>alert('您的数据库帖子表[" + Discuz.Config.BaseConfigs.GetTablePrefix + "posts" + dr ["id"] + "]中暂未进行全文索引设置'因此使用数据库全文搜索无效');</script>"; " is 141.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,FormatMessage,The length of the statement  "	return message.Replace ("'"' " ").Replace ("\\"' "/").Replace ("\r\n"' "\\r\\n").Replace ("\r"' "\\r").Replace ("\n"' "\\n"); " is 125.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,ShrinkDataBase,The length of the statement  "		return "<script language=\"javascript\">alert('" + FormatMessage (ex.Message) + "!');window.location.href='global_logandshrinkdb.aspx';</script>"; " is 146.
Long Statement,Discuz.Forum,Databases,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Databases.cs,ClearDBLog,The length of the statement  "		return "<script language=\"javascript\">alert('" + FormatMessage (ex.Message) + "!');window.location.href='global_logandshrinkdb.aspx';</script>"; " is 146.
Long Statement,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The length of the statement  "		else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2])) " is 142.
Long Statement,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The length of the statement  "		return Discuz.Data.Debates.GetDebatesJsonList (callback' debatesrule [0]' TypeConverter.StrToInt (debatesrule [1])' TypeConverter.StrToInt (debatesrule [2])); " is 158.
Long Statement,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,CommentDabetas,The length of the statement  "		Discuz.Data.Debates.CommentDabetas (tid' TypeConverter.ObjectToInt (Data.PostTables.GetPostTableId (tid))' Utils.HtmlEncode (ForumUtils.BanWordFilter (message))); " is 162.
Long Statement,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,IsValidDebates,The length of the statement  "		xmlnode.Append ("<error>����������·����ȷ���޷��ύ���������װ��ĳ��Ĭ��������·��Ϣ�ĸ��˷���ǽ���(�� Norton Internet Security)���������䲻Ҫ��ֹ��·��Ϣ�����ԡ�</error>"); " is 154.
Long Statement,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatePostList,The length of the statement  "		postpramsInfo.Pageindex = postcount % postpramsInfo.Pagesize == 0 ? postcount / postpramsInfo.Pagesize : postcount / postpramsInfo.Pagesize + 1; " is 144.
Long Statement,Discuz.Forum,Editors,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Editors.cs,GetCustomEditButtonListWithInfo,The length of the statement  "	CustomEditorButtonInfo[] buttonArray = cache.RetrieveObject ("/Forum/UI/CustomEditButtonInfo") as CustomEditorButtonInfo[]; " is 123.
Long Statement,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,DiscuzSmtpMail,The length of the statement  "		ESM.Body = "<pre style=\"width:100%;word-wrap:break-word\">" + body.ToString () + "\r\n\r\n" + "激活您帐户的链接为:<a href=" + forumurl + "activationuser.aspx?authstr=" + authstr.Trim () + "  target=_blank>" + forumurl + "activationuser.aspx?authstr=" + authstr.Trim () + "</a></pre>"; " is 276.
Long Statement,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The length of the statement  "		EmailMultiThread emt = new EmailMultiThread (dr ["username"].ToString ().Trim ()' dr ["email"].ToString ().Trim ()' subject' body); " is 131.
Long Statement,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetBaiduSitemap,The length of the statement  "		sitemap = Discuz.Data.Feeds.GetBaiduSitemap (sbforumlist.ToString ()' Users.GetShortUserInfo (BaseConfigs.GetFounderUid)); " is 122.
Long Statement,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The length of the statement  "	string cacheKey = string.Format ("/Forum/TopicList-{0}-{1}-{2}-{3}-{4}-{5}-{6}-{7}"' count' views' fid' timetype' ordertype' isdigest' onlyimg' typeIdList.Replace ('''' 'd')); " is 175.
Long Statement,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The length of the statement  "		//dt = Discuz.Data.Topics.GetTopicList(count' views' fid' typeIdList' GetStartDate(timetype)' GetFieldName(ordertype)' Forums.GetVisibleForum()' isdigest' onlyimg); " is 164.
Long Statement,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The length of the statement  "		dt = Discuz.Data.Topics.GetTopicList (count' views' fid' typeIdList' GetStartDate (timetype)' GetFieldName (ordertype)' fidlist' isdigest' onlyimg); " is 148.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The length of the statement  "					builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]); " is 145.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The length of the statement  "					dropbuilder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]); " is 149.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumIndexCollection,The length of the statement  "		if (Utils.StrIsNullOrEmpty (info.Lastpost) || (TypeConverter.StrToDateTime (info.Lastpost).ToString ("yyyy-MM-dd") != DateTime.Now.ToString ("yyyy-MM-dd"))) " is 156.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetModerators,The length of the statement  "				string link = string.Format ("<a href=\"{0}userinfo.aspx?username={1}\" target=\"_blank\">{2}</a>'"' BaseConfigs.GetForumPath' Utils.UrlEncode (moderators.Trim ())' moderators.Trim ()); " is 185.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetModerators,The length of the statement  "		sb.Insert (0' string.Format ("<select style=\"width: 100px;\" onchange=\"window.open('{0}userinfo.aspx?username=' + escape(this.value));\">"' BaseConfigs.GetForumPath)); " is 169.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetModerators,The length of the statement  "		subModeratorsBuilder.Insert (0' string.Format ("<a id=\"forum{0}_submoderators\" href=\"###\" onclick=\"showMenu({{'ctrlid':this.id' 'pos':'21'}})\">......</a><ul id=\"forum{0}_submoderators_menu\" class=\"p_pop moders\" style=\"position: absolute; z-index: 301; left: 998.5px; top: 93px; display: none;\">"' info.Fid)); " is 320.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetSubForumCollection,The length of the statement  "			if (Utils.StrIsNullOrEmpty (info.Lastpost) || (TypeConverter.StrToDateTime (info.Lastpost).ToString ("yyyy-MM-dd") != DateTime.Now.ToString ("yyyy-MM-dd"))) " is 156.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetDropdownOptions,The length of the statement  "			stringbuilder.AppendFormat ("<option value=\"{0}\" disabled='true'>{1}</option>"' dr [0].ToString ().Trim ()' dr [1].ToString ().Trim ()); " is 138.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,BindNode,The length of the statement  "		stringbuilder.AppendFormat ("<option value=\"{0}\">{1}{2}</option>"' dr [0].ToString ().Trim ()' blank' dr [1].ToString ().Trim ()); " is 132.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,BindNode,The length of the statement  "		stringbuilder.Append (BindNode (dr [0].ToString ().Trim ()' dt' Utils.HtmlDecode ("&nbsp;&nbsp;&nbsp;&nbsp;") + blank)); " is 120.
Long Statement,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumLinkOfAssociatedTopicType,The length of the statement  "				linkString += "<a href='" + BaseConfigs.GetForumPath + "showforum.aspx?forumid=" + dr ["fid"] + "&typeid=" + topicTypeId + "&search=1' target='_blank'>" + dr ["name"].ToString ().Trim () + "</a>"; " is 196.
Long Statement,Discuz.Forum,ForumPageTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumPageTemplate.cs,ReplaceSpecialTemplate,The length of the statement  "	Regex r = new Regex (@"({([^\[\]/\{\}='\s]+)})"' RegexOptions.IgnoreCase | RegexOptions.Multiline | RegexOptions.Compiled); " is 123.
Long Statement,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetTagsListByTopic,The length of the statement  "	if ((MemCachedConfigs.GetConfig () != null && MemCachedConfigs.GetConfig ().ApplyMemCached) || (RedisConfigs.GetConfig () != null && RedisConfigs.GetConfig ().ApplyRedis)) { " is 173.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteCookie,The length of the statement  "				cookie.Expires = DateTime.Now.AddMinutes (Utils.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0)); " is 131.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteCookie,The length of the statement  "	if (cookieDomain != string.Empty && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain.TrimStart ('.')) > -1 && IsValidDomain (HttpContext.Current.Request.Url.Host)) " is 173.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,The length of the statement  "	if (cookieDomain != string.Empty && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain.TrimStart ('.')) > -1 && IsValidDomain (HttpContext.Current.Request.Url.Host)) { " is 175.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetCookie,The length of the statement  "	if (HttpContext.Current.Request.Cookies != null && HttpContext.Current.Request.Cookies ["dnt"] != null && HttpContext.Current.Request.Cookies ["dnt"] [strName] != null) " is 168.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ClearUserCookie,The length of the statement  "	if (cookieDomain != string.Empty && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain.TrimStart ('.')) > -1 && IsValidDomain (HttpContext.Current.Request.Url.Host)) " is 173.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The length of the statement  "		if (GeneralConfigs.GetConfig ().Guestcachepagetimeout > 0 && (pageid == 1 || (mcci != null && mcci.ApplyMemCached && (pageid > 0 && pageid <= mcci.CacheShowTopicPageNumber)))) " is 175.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The length of the statement  "		if (GeneralConfigs.GetConfig ().Guestcachepagetimeout > 0 && (pageid == 1 || (rci != null && rci.ApplyRedis && (pageid > 0 && pageid <= rci.CacheShowTopicPageNumber)))) " is 168.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The length of the statement  "		if (mcci != null && mcci.ApplyMemCached && pageid > 0 && pageid <= mcci.CacheShowForumPageNumber && mcci.CacheShowForumCacheTime > 0) " is 133.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The length of the statement  "		if (rci != null && rci.ApplyRedis && pageid > 0 && pageid <= rci.CacheShowForumPageNumber && rci.CacheShowForumCacheTime > 0) " is 125.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowTopicCacheFile,The length of the statement  "			cache.AddObject ("/Forum/ShowTopicGuestCachePage/Tid_" + tid + "/Page_" + pageid + "/"' pagetext' GeneralConfigs.GetConfig ().Guestcachepagetimeout * 60); " is 154.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The length of the statement  "			cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60); " is 190.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The length of the statement  "	g.DrawImage (watermark' new Rectangle (xpos' ypos' watermark.Width' watermark.Height)' 0' 0' watermark.Width' watermark.Height' GraphicsUnit.Pixel' imageAttributes); " is 165.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "		if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) { " is 132.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "		if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) { " is 132.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "			if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) { " is 153.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "				if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) { " is 160.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "					newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName); " is 164.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "					//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname; " is 124.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "						if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) { " is 135.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "									if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) { " is 130.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "											AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency); " is 209.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "											AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency); " is 208.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "											AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize); " is 165.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "											AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize); " is 164.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "							ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach); " is 134.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "							ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach); " is 133.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The length of the statement  "					if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0) " is 157.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,BanWordFilter,The length of the statement  "			sb = new StringBuilder ().Append (Regex.Replace (sb.ToString ()' str [i' 0]' str [i' 1]' Utils.GetRegexCompiledOptions ())); " is 124.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAssemblyVersion,The length of the statement  "	return string.Format ("{0}.{1}.{2}"' Utils.AssemblyFileVersion.FileMajorPart' Utils.AssemblyFileVersion.FileMinorPart' Utils.AssemblyFileVersion.FileBuildPart); " is 160.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ShowTopicMagic,The length of the statement  "	return "\r\n<!-- DNT Magic (ID:" + magic.ToString () + ") -->\r\n<object width=\"400\" height=\"300\" id=\"dntmagic\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'0'0\" align=\"middle\" style=\"position:absolute;z-index:111;display:none;\"> \r\n<param name=\"allowScriptAccess\" value=\"sameDomain\" />\r\n<param name=\"movie\" value=\"magic/swf/" + magic.ToString () + ".swf\" />\r\n<param name=\"loop\" value=\"false\" />\r\n<param name=\"menu\" value=\"false\" />\r\n<param name=\"quality\" value=\"high\" />\r\n<param name=\"scale\" value=\"noscale\" />\r\n<param name=\"salign\" value=\"lt\" />\r\n<param name=\"wmode\" value=\"transparent\" /><param name=\"PLAY\" value=\"false\" /> \r\n<embed src=\"magic/swf/" + magic.ToString () + ".swf\" width=\"400\" height=\"300\" loop=\"false\" align=\"middle\" menu=\"false\" quality=\"high\" scale=\"noscale\" salign=\"lt\" wmode=\"transparent\" play=\"false\" allowScriptAccess=\"sameDomain\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" /> \r\n</object>\r\n<script language=\"javascript\">\r\nfunction $(id){\r\n\treturn document.getElementById(id);\r\n}\r\nfunction playFlash(){\r\n\tdivElement = $('dntmagic');\r\n\tdivElement.style.display = '';\r\n\tdivElement.style.left = (document.documentElement.clientWidth /2 - parseInt(divElement.offsetWidth)/2)+\"px\";\r\n\tdivElement.style.top = (document.documentElement.clientHeight /2 - parseInt(divElement.offsetHeight)/2 )+\"px\";\r\n\tsetTimeout(\"hiddenFlash()\"' 5000);\r\n}\r\n\r\nfunction hiddenFlash() {\r\n\t$('dntmagic').style.display = 'none';\r\n}\r\nplayFlash();\r\n</script>\r\n<!-- DNT Magic End -->\r\n"; " is 1778.
Long Statement,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The length of the statement  "	if (currentDateTime.Year == time.Year && currentDateTime.Month == time.Month)//���date�͵�ǰʱ����ݻ����·ݲ�һ�£���ֱ�ӷ���"yyyy-MM-dd HH:mm"��ʽ���� " is 140.
Long Statement,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The length of the statement  "		ftpupload = new FTP (GetForumAttachInfo.Serveraddress' GetForumAttachInfo.Serverport' GetForumAttachInfo.Username' GetForumAttachInfo.Password' 1' GetForumAttachInfo.Timeout); " is 175.
Long Statement,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The length of the statement  "		ftpupload = new FTP (GetSpaceAttachInfo.Serveraddress' GetSpaceAttachInfo.Serverport' GetSpaceAttachInfo.Username' GetSpaceAttachInfo.Password' 1' GetSpaceAttachInfo.Timeout); " is 175.
Long Statement,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The length of the statement  "		ftpupload = new FTP (GetAlbumAttachInfo.Serveraddress' GetAlbumAttachInfo.Serverport' GetAlbumAttachInfo.Username' GetAlbumAttachInfo.Password' 1' GetAlbumAttachInfo.Timeout); " is 175.
Long Statement,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The length of the statement  "		ftpupload = new FTP (GetMallAttachInfo.Serveraddress' GetMallAttachInfo.Serverport' GetMallAttachInfo.Username' GetMallAttachInfo.Password' 1' GetMallAttachInfo.Timeout); " is 170.
Long Statement,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The length of the statement  "		ftpupload = new FTP (GetForumAvatarInfo.Serveraddress' GetForumAvatarInfo.Serverport' GetForumAvatarInfo.Username' GetForumAvatarInfo.Password' 1' GetForumAvatarInfo.Timeout); " is 175.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The length of the statement  "		EventLogs.LogFileName = Utils.GetMapPath (string.Format ("{0}cache/scheduleeventfaildlog.config"' BaseConfigs.GetForumPath)); " is 125.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The length of the statement  "		eventTimer = new Timer (new TimerCallback (ScheduledEventWorkCallback)' context.Context' 60000' EventManager.TimerMinutesInterval * 60000); " is 139.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Application_OnError,The length of the statement  "	if (GeneralConfigs.GetConfig ().Installation == 0 && requestUrl.IndexOf ("install") == -1)//当该站点未运行过安装并且当前页面不是安装程序目录下的页面时 " is 121.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "	if (requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0) { " is 379.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "				context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid); " is 141.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "		context.Response.Redirect (baseconfig.Forumpath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=" + Templates.GetTemplateItem (Utils.StrToInt (strTemplateid' 0)).Directory + "&msg=" + Utils.UrlEncode ("您请求的版块信息无效!")); " is 244.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "forumindex.aspx"' int.Parse (strTemplateid)); " is 138.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "website.aspx"' int.Parse (strTemplateid)); " is 135.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						string newUrl = Regex.Replace (requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase); " is 185.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "							CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' url.Page.Replace ("/"' "")' int.Parse (strTemplateid)); " is 147.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						context.RewritePath (forumPath + "aspx/" + strTemplateid + url.Page' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid); " is 132.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "					CreateTemplate (forumPath' Templates.GetTemplateItem (DNTRequest.GetInt ("templateid"' 1)).Directory' config.Indexpage == 0 ? "forumindex.aspx" : "website.aspx"' DNTRequest.GetInt ("templateid"' 1)); " is 199.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "				CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' requestPath.Substring (context.Request.Path.LastIndexOf ("/")).Replace ("/"' "")' int.Parse (strTemplateid)); " is 201.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "			context.RewritePath (forumPath + "aspx/" + strTemplateid + requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' string.Empty' context.Request.QueryString.ToString () + "&selectedtemplateid=" + strTemplateid); " is 219.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase); " is 127.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "						string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase); " is 145.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The length of the statement  "		else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) { " is 172.
Long Statement,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,SelectTemplate,The length of the statement  "	string pagenamelist = "showforum'showtopic'showdebate'showbonus'posttopic'postreply'showtree'editpost'delpost'topicadmin"; " is 122.
Long Statement,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The length of the statement  "	if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) { " is 219.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,DeleteSubMenu,The length of the statement  "			menuItem ["mainmenulist"].InnerText = ("'" + menuItem ["mainmenulist"].InnerText + "'").Replace ("'" + submenuid + "'"' "'"); " is 125.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,DeleteSubMenu,The length of the statement  "			menuItem ["mainmenuidlist"].InnerText = ("'" + menuItem ["mainmenuidlist"].InnerText + "'").Replace ("'" + menuid + "'"' "'"); " is 126.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,FindMenuID,The length of the statement  "		if (("'" + mainmenulist + "'").IndexOf ("'" + menuItem ["id"].InnerText + "'") != -1 && menuItem ["menutitle"].InnerText == subMenuTitle) { " is 139.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,FindMenuID,The length of the statement  "		if (("'" + mainmenulist + "'").IndexOf ("'" + menuItem1 ["id"].InnerText + "'") != -1 && menuItem1 ["menutitle"].InnerText == subMenuTitle) { " is 141.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,FindMenuMenuid,The length of the statement  "		if (("'" + mainmenulist + "'").IndexOf ("'" + menuItem ["id"].InnerText + "'") != -1 && menuItem ["menutitle"].InnerText == subMenuTitle) { " is 139.
Long Statement,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,BackupMenuFile,The length of the statement  "	Utils.BackupFile (configPath' Utils.GetMapPath (BaseConfigs.GetForumPath.ToLower () + "admin/xml/backup/" + DateTime.Now.ToString ("yyyy-MM-dd HH_mm_ss") + ".config")); " is 168.
Long Statement,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,ChangeStyleForCurrentUrl,The length of the statement  "	if (Utils.InArray (url' "/'index.aspx") && DNTRequest.GetPageName () == (GeneralConfigs.GetConfig ().Indexpage == 0 ? "forumindex.aspx" : "website.aspx")) " is 154.
Long Statement,Discuz.Forum,Notices,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Notices.cs,GetNoticeinfoCollectionByUid,The length of the statement  "	return (uid > 0 && pageid > 0) ? Discuz.Data.Notices.GetNoticeinfoCollectionByUid (uid' noticetype' pageid' pagesize) : null; " is 125.
Long Statement,Discuz.Forum,Notices,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Notices.cs,SendPostReplyNotice,The length of the statement  "	noticeinfo.Note = Utils.HtmlEncode (string.Format ("<a href=\"userinfo.aspx?userid={0}\">{1}</a> 给您回帖' <a href =\"showtopic.aspx?topicid={2}&postid={3}#{3}\">{4}</a>."' postinfo.Posterid' postinfo.Poster' topicinfo.Tid' postinfo.Pid' topicinfo.Title)); " is 252.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,GetGroupImg,The length of the statement  "			if ((int.Parse (dr ["groupid"].ToString ()) == 0 && img == "") || (int.Parse (dr ["groupid"].ToString ()) == groupid)) { " is 120.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The length of the statement  "						cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0)); " is 139.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The length of the statement  "			if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host)) " is 178.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateInfo,The length of the statement  "		string password = (Utils.StrIsNullOrEmpty (passwd) ? ForumUtils.GetCookiePassword (passwordkey) : ForumUtils.GetCookiePassword (passwd' passwordkey)); " is 150.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckIp,The length of the statement  "			if ((TypeConverter.StrToInt (ip.Split ('.') [0]' -1) == ipinfo.Ip1) && (TypeConverter.StrToInt (ip.Split ('.') [1]' -1) == ipinfo.Ip2) && (TypeConverter.StrToInt (ip.Split ('.') [2]' -1) == ipinfo.Ip3)) { " is 204.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckIp,The length of the statement  "		HttpContext.Current.Response.Redirect (BaseConfigs.GetForumPath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=default&msg=" + Utils.UrlEncode (errmsg)); " is 181.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The length of the statement  "	if ((timeout < 0) && (Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' Environment.TickCount) < 300000)) " is 137.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The length of the statement  "		if (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) >= 300000)// ����ϴ�ˢ��cookie���С��5����' ��ˢ�����ݿ����ʱ�� " is 181.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The length of the statement  "			if (action == UserAction.ShowForum.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.PostReply.ActionID) " is 173.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateLastTime,The length of the statement  "	if ((timeout < 0) && (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) < 300000)) " is 151.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The length of the statement  "		int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount); " is 146.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The length of the statement  "			oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount); " is 138.
Long Statement,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The length of the statement  "			if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) { " is 168.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The length of the statement  "		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) { " is 151.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The length of the statement  "		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid)) " is 149.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The length of the statement  "	if (onlineusercount >= config.Maxonlines && useradminid != 1 && pagename != "login.aspx" && pagename != "logout.aspx") { " is 120.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The length of the statement  "	if (usergroupinfo.Allowvisit != 1 && useradminid != 1 && pagename != "login.aspx" && pagename != "register.aspx" && pagename != "logout.aspx" && pagename != "activationuser.aspx" && pagename != "getpassword.aspx") { " is 215.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The length of the statement  "	if (useradminid != 1 && pagename != "login.aspx" && pagename != "logout.aspx" && usergroupinfo.Disableperiodctrl != 1) { " is 120.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,AddLinkRss,The length of the statement  "	link = link + "\r\n<link rel=\"alternate\" type=\"application/rss+xml\" title=\"" + Utils.RemoveHtml (title) + "\" href=\"" + url + "\" />"; " is 140.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,AddMetaInfo,The length of the statement  "		meta = meta + "<meta name=\"description\" content=\"" + Utils.RemoveHtml (Seodescription).Replace ("\""' " ") + "\" />\r\n"; " is 124.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,The length of the statement  "	System.Web.HttpContext.Current.Response.Write ("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head><title>"); " is 242.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,The length of the statement  "	System.Web.HttpContext.Current.Response.Write (" - Powered by Discuz!NT</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">"); " is 153.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,The length of the statement  "	System.Web.HttpContext.Current.Response.Write ("<style type=\"text/css\"><!-- body { margin: 20px; font-family: Tahoma' Verdana; font-size: 14px; color: #333333; background-color: #FFFFFF; }a {color: #1F4881;text-decoration: none;}--></style></head><body><div style=\"border: #cccccc solid 1px; padding: 20px; width: 500px; margin:auto\" align=\"center\">"); " is 358.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,The length of the statement  "	System.Web.HttpContext.Current.Response.Write ("</div><br /><br /><br /><div style=\"border: 0px; padding: 0px; width: 500px; margin:auto\"><strong>当前服务器时间:</strong> "); " is 169.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The length of the statement  "			if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) { " is 127.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The length of the statement  "			if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) { " is 127.
Long Statement,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The length of the statement  "		System.Web.HttpContext.Current.Response.Write (templateBuilder.Replace ("</body>"' "<div>注意: 以下为数据查询分析工具，正式站点使用请使用官方发布版本或自行Release编译。</div>" + querydetail + "</body>").ToString ()); " is 181.
Long Statement,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetPaymentLogByTid,The length of the statement  "	return (tid > 0 && currentpage > 0) ? Discuz.Data.PaymentLogs.GetPaymentLogByTid (pagesize' currentpage' tid) : new DataTable (); " is 129.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The length of the statement  "					polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0); " is 127.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The length of the statement  "				polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0); " is 127.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The length of the statement  "		rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00"); " is 121.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The length of the statement  "				votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> "; " is 123.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetVoters,The length of the statement  "			sbVoters.AppendFormat ("<li><a href=\"userinfo.aspx?username={0}\">{1}</a></li>"' Utils.UrlEncode (votername [i].Trim ())' votername [i]); " is 138.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetVoters,The length of the statement  "			sbVoters.Append (votername [i].Substring (0' votername [i].LastIndexOf (".") + 1).Trim ().Replace (" "' string.Empty) + "]"); " is 125.
Long Statement,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The length of the statement  "		if (!Polls.CreatePoll (tid' multiple' pollitem.Length' PollItemname.Trim ()' itemvaluelist.ToString ().Trim ()' enddatetime' userid' maxchoices' visiblepoll' allowview)) " is 169.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTableIdArray,The length of the statement  "		DataRow[] dr = dt.Select (string.Format ("[mintid]<={0} AND ([maxtid]<=0 OR [maxtid]>={1})"' maxTid.ToString ()' minTid.ToString ())); " is 134.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,CreatePost,The length of the statement  "		GetSphinxSqlService ().CreatePost (GetPostTableName ()' pid' postInfo.Tid' postInfo.Fid' postInfo.Posterid' postInfo.Postdatetime' postInfo.Title' postInfo.Message); " is 165.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetSphinxSqlService,The length of the statement  "			sphinxSqlService = (SphinxConfig.ISqlService)Activator.CreateInstance (Type.GetType ("Discuz.EntLib.SphinxClient.SphinxSqlService' Discuz.EntLib"' false' true)); " is 161.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,UpdatePost,The length of the statement  "		GetSphinxSqlService ().UpdatePost (GetPostTableName ()' postInfo.Pid' postInfo.Tid' postInfo.Fid' postInfo.Posterid' postInfo.Postdatetime' postInfo.Title' postInfo.Message); " is 174.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostListTitle,The length of the statement  "	return Tid > 0 ? DatabaseProvider.GetInstance ().GetPostListTitle (Tid' PostTables.GetPostTableName (Tid)) : new DataTable (); " is 126.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The length of the statement  "			dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit); " is 123.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The length of the statement  "	TopicInfo topicInfo = postpramsInfo.Topicinfo == null ? Topics.GetTopicInfo (postpramsInfo.Tid) : postpramsInfo.Topicinfo; " is 122.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,LoadPostMessage,The length of the statement  "				//if (attach.Inserted == 1 && (postpramsInfo.CurrentUserGroup.Radminid == 1 || attach.Uid == postpramsInfo.CurrentUserid || attach.Attachprice <= 0 || attach.Isbought == 1)//当为发帖人或不为收费附件或已购买该收费附件时 " is 196.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,IsAD,The length of the statement  "	return (Regex.IsMatch (title' regular) || Regex.IsMatch (ForumUtils.RemoveSpecialChars (message' GeneralConfigs.GetConfig ().Antispamreplacement)' regular)); " is 157.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,AuditPost,The length of the statement  "		foreach (DataRow postInfo in GetPostListByCondition (BaseConfigs.GetTablePrefix + "posts" + postTableId' "[pid] IN (" + validate + ")").Rows) { " is 143.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPagedLastDataTable,The length of the statement  "			dr ["message"] = string.Format ("<div class=\"paystyle\">此帖为交易帖'要付 {0} <span class=\"bold\">{1}</span>{2} 才可查看</div>"' Scoresets.GetScoreSet (Scoresets.GetTopicAttachCreditsTrans ()).Name' postpramsInfo.Price' Scoresets.GetScoreSet (Scoresets.GetTopicAttachCreditsTrans ()).Unit); " is 280.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostMessage,The length of the statement  "			message = ishtmlon ? ForumUtils.BanWordFilter (postmessage) : Utils.HtmlEncode (ForumUtils.BanWordFilter (postmessage)); " is 120.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicAuditCondition,The length of the statement  "	return Data.Posts.GetTopicAuditCondition (fid' poster' title' moderatorName' postDateTimeStart' postDateTimeEnd' delDateTimeStart' delDateTimeEnd); " is 147.
Long Statement,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,SearchPost,The length of the statement  "	return Discuz.Data.Posts.SearchPost (forumid' posttableid' postdatetimeStart' postdatetimeEnd' poster' lowerupper' ip' message); " is 128.
Long Statement,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetPrivateMessageCollection,The length of the statement  "	return (userId > 0 && pageindex > 0 && pagesize > 0) ? Discuz.Data.PrivateMessages.GetPrivateMessageCollection (userId' folder' pagesize' pageindex' readStatus) : null; " is 168.
Long Statement,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetAnnouncePrivateMessageCollection,The length of the statement  "	return (pagesize > 0 && pageindex > 0) ? Discuz.Data.PrivateMessages.GetAnnouncePrivateMessageCollection (pagesize' pageindex) : null; " is 134.
Long Statement,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,DeletePrivateMessages,The length of the statement  "	return Data.PrivateMessages.DeletePrivateMessages (isNew' postDateTime' msgFromList' lowerUpper' subject' message' isUpdateUserNewPm); " is 134.
Long Statement,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The length of the statement  "	DataTable dt = (type == 0) ? cache.RetrieveObject ("/Forum/ScorePaySet") as DataTable : cache.RetrieveObject ("/Forum/ScorePaySet1") as DataTable; " is 146.
Long Statement,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetUserExtCredits,The length of the statement  "	creditsOperationType = creditsOperationType == CreditsOperationType.DeletePost ? CreditsOperationType.PostReply : creditsOperationType; " is 135.
Long Statement,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,BetweenTime,The length of the statement  "				if (System.Text.RegularExpressions.Regex.IsMatch (visittime' @"^((([0-1]?[0-9])|(2[0-3])):([0-5]?[0-9])-(([0-1]?[0-9])|(2[0-3])):([0-5]?[0-9]))$")) { " is 149.
Long Statement,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,Search,The length of the statement  "	return Discuz.Data.Searches.Search (spaceenabled' albumenable' posttableid' userid' usergroupid' keyword' posterid' searchType' searchforumid' searchtime' searchtimetype' resultorder' resultordertype); " is 201.
Long Statement,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,GetSearchCacheList,The length of the statement  "			return SpacePluginProvider.GetInstance () == null ? new DataTable () : SpacePluginProvider.GetInstance ().GetResult (pagesize' tids); " is 133.
Long Statement,Discuz.Forum,Searches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Searches.cs,GetSearchCacheList,The length of the statement  "			return AlbumPluginProvider.GetInstance () == null ? new DataTable () : AlbumPluginProvider.GetInstance ().GetResult (pagesize' tids); " is 133.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,UpdateStatCount,The length of the statement  "		visitorsadd = "OR ([type]='browser' AND [variable]='" + browser + "') OR ([type]='os' AND [variable]='" + os + "')" + (isguest ? " OR ([type]='total' AND [variable]='guests')" : " OR ([type]='total' AND [variable]='members')"); " is 227.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetHotTopicsHtml,The length of the statement  "		sbhtml.AppendFormat ("<li><em>{0}</em><a href=\"{1}\">{2}</a>\r\n"' topicInfo.Views' Urls.ShowTopicAspxRewrite (topicInfo.Tid' 0)' topicInfo.Title); " is 148.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetHotReplyTopicsHtml,The length of the statement  "		sbhtml.AppendFormat ("<li><em>{0}</em><a href=\"{1}\">{2}</a>\r\n"' topicInfo.Replies' Urls.ShowTopicAspxRewrite (topicInfo.Tid' 0)' topicInfo.Title); " is 150.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The length of the statement  "			variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key; " is 136.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The length of the statement  "		string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)"; " is 201.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetForumsRankHtml,The length of the statement  "		builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' type == "topics" ? f.Topics : f.Posts' Urls.ShowForumAspxRewrite (f.Fid' 0)' f.Name); " is 173.
Long Statement,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The length of the statement  "		builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username); " is 194.
Long Statement,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,GetLoginScript,The length of the statement  "		builder.AppendFormat ("<script src=\"{0}\" reload=\"1\"></script>"' GetUrl (appInfo.SyncUrl' appInfo.Secret' ASYNC_LOGIN' paramList.ToArray ())); " is 145.
Long Statement,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,GetLogoutScript,The length of the statement  "		builder.AppendFormat ("<script src=\"{0}\" reload=\"1\"></script>"' GetUrl (appInfo.SyncUrl' appInfo.Secret' ASYNC_LOGOUT' paramList.ToArray ())); " is 146.
Long Statement,Discuz.Forum,Tags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Tags.cs,WriteTagsCacheFile,The length of the statement  "				builder.Append (string.Format ("{{'tagid' : '{0}'' 'tagname' : '{1}'' 'fcount' : '{2}'' 'pcount' : '{3}'' 'scount' : '{4}'' 'vcount' : '{5}'' 'gcount' : '{6}'}}' "' tag.Tagid' tag.Tagname' tag.Fcount' tag.Pcount' tag.Scount' tag.Vcount' tag.Gcount)); " is 250.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1; " is 194.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "						topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString (); " is 201.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "						topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1; " is 192.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "						topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString (); " is 203.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "						topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1; " is 194.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "				string filterexpress = Discuz.Data.TopicAdmins.ResetTopTopicListSql (TypeConverter.ObjectToInt (dr ["layer"])' dr ["fid"].ToString ()' dr ["parentidlist"].ToString ().Trim ()); " is 176.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The length of the statement  "				tempDS.WriteXml (@Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/" + dr ["fid"].ToString () + ".xml")' XmlWriteMode.WriteSchema); " is 140.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The length of the statement  "			UserCredits.UpdateUserExtCredits (TypeConverter.ObjectToInt (dr ["posterid"])' -1' CreditsOperationType.Digest' 1' true); " is 121.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The length of the statement  "			if (configinfo.Losslessdel == 0 || Utils.StrDateDiffHours (dr ["postdatetime"].ToString ()' configinfo.Losslessdel * 24) < 0) { " is 127.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The length of the statement  "				CreditsOperationType creditsOperationType = TypeConverter.ObjectToInt (dr ["layer"]) == 0 ? CreditsOperationType.PostTopic : CreditsOperationType.PostReply; " is 156.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The length of the statement  "				float[] creditsValue = Forums.GetValues (creditsOperationType == CreditsOperationType.PostTopic ? Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Postcredits : Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Replycredits); " is 248.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The length of the statement  "				UserCredits.UpdateUserExtCredits (TypeConverter.ObjectToInt (dr ["posterid"])' creditsValue' 1' creditsOperationType' -1' true); " is 128.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,MoveTopics,The length of the statement  "		DatabaseProvider.GetInstance ().UpdatePost (topiclist' fid' PostTables.GetPostTableName (TypeConverter.StrToInt (tid))); " is 120.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,SplitTopics,The length of the statement  "	DatabaseProvider.GetInstance ().SetPrimaryPost (subject' tid' postIdArray' Discuz.Data.PostTables.GetPostTableId (tid)); " is 120.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,SplitTopics,The length of the statement  "		DataTable dt = DatabaseProvider.GetInstance ().GetLastPostNotInPidList (postidlist' originalTopicInfo.Tid' int.Parse (Posts.GetPostTableId ())); " is 144.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,RepairTopicList,The length of the statement  "		int reval = Discuz.Data.TopicAdmins.RepairTopics (tidlist [i]' BaseConfigs.GetTablePrefix + "posts" + (TypeConverter.StrToInt (idlist [i]))); " is 141.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,RatePosts,The length of the statement  "					SetPostRate (posttableid' TypeConverter.StrToInt (pid)' TypeConverter.StrToInt (tmpExtcreditslist [i])' TypeConverter.StrToFloat (tmpScorelist [i])' true); " is 155.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,CancelRatePosts,The length of the statement  "		SetPostRate (posttableid' TypeConverter.StrToInt (pid)' TypeConverter.ObjectToInt (dr ["extcredits"])' TypeConverter.ObjectToInt (dr ["score"])' false); " is 152.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,CancelRatePosts,The length of the statement  "		Discuz.Data.Users.UpdateUserExtCredits (rateduserid' TypeConverter.ObjectToInt (dr ["extcredits"])' (-1) * TypeConverter.ObjectToFloat (dr ["score"])); " is 151.
Long Statement,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,CancelRatePosts,The length of the statement  "	Discuz.Data.ModeratorManageLog.InsertModeratorLog (userid.ToString ()' username' groupid' grouptitle' Utils.GetRealIP ()' Utils.GetDateTime ()' forumid.ToString ()' forumname' tid.ToString ()' topicinfo == null ? "���ޱ���" : topicinfo.Title' "��������"' reason); " is 262.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,InSameForum,The length of the statement  "	return Utils.SplitString (topicidlist' "'").Length == Data.Topics.GetTopicCountInForumAndTopicIdList (topicidlist' fid); " is 120.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicTypeName,The length of the statement  "		dr ["topictypename"] = (typictypename != null && typictypename.ToString ().Trim () != "") ? "[" + typictypename.ToString ().Trim () + "]" : ""; " is 143.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The length of the statement  "	Discuz.Common.Generic.List<TopicInfo> list = Data.Topics.GetTopicList (fid' pageSize' pageIndex' startNumber' condition); " is 121.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The length of the statement  "	//Discuz.Common.Generic.List<TopicInfo> list = Data.Topics.GetTopicList(fid' pageSize' pageIndex' startNumber' condition' orderby' ascdesc); " is 140.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicListByCondition,The length of the statement  "	Discuz.Common.Generic.List<TopicInfo> list = Data.Topics.GetTopicListByCondition (pageSize' pageIndex' startNumber' condition' orderby' ascdesc); " is 145.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The length of the statement  "			return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic); " is 170.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The length of the statement  "			return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic); " is 218.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The length of the statement  "	if (!Utils.IsNumeric (postTableId) || (!string.IsNullOrEmpty (ignore) && !Utils.IsNumericList (ignore)) || (!string.IsNullOrEmpty (validate) && !Utils.IsNumericList (validate)) || (!string.IsNullOrEmpty (delete) && !Utils.IsNumericList (delete)) || (!string.IsNullOrEmpty (fidlist) && !Utils.IsNumericList (fidlist))) " is 317.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The length of the statement  "	if (oldtopic.IndexOf ("D" + topic.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * 600) < DateTime.Parse (topic.Lastpost)) { " is 137.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTitleDisplayOrder,The length of the statement  "	if (forum.Modnewtopics == 1 || usergroupinfo.ModNewTopics == 1 || Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods) && disablepost != 1 || ForumUtils.HasAuditWord (topicInfo.Title) || ForumUtils.HasAuditWord (message)) " is 235.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetSearchTopicsCondition,The length of the statement  "	return Data.Topics.GetSearchTopicsCondition (fid' keyWord' displayOrder' digest' attachment' poster' lowerUpper' viewsMin' viewsMax' repliesMax' repliesMin' rate' lastPost' postDateTimeStart' postDateTimeEnd); " is 209.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicFolder,The length of the statement  "		if (newMinutes > 0 && oldtopic.IndexOf ("D" + topicInfo.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * newMinutes) < TypeConverter.StrToDateTime (topicInfo.Lastpost)) " is 181.
Long Statement,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopTopicListExtraInfo,The length of the statement  "		if (topic.Closed == 0 && forumInfo.Autoclose > 0 && Utils.StrDateDiffHours (topic.Postdatetime' forumInfo.Autoclose * 24) > 0) { " is 128.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />"); " is 171.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline); " is 138.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options); " is 130.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options); " is 147.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options); " is 134.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options); " is 128.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options); " is 191.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options); " is 185.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "			sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value)); " is 248.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "			sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value)); " is 156.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>"); " is 126.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "			sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value)); " is 136.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "			sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options); " is 214.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options); " is 156.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options); " is 155.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "			string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>"; " is 147.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "						sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />"); " is 547.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />"); " is 547.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "				replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement); " is 190.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "				replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid"); " is 137.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "				replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement); " is 190.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"^((tencent|ed2k|thunder|vagaa):\/\/[\[\]\|A-Za-z0-9\.\/=\?%\-&_~`@':+!]+)"' "<a target=\"_blank\" href=\"$1\">$1</a>"' options); " is 164.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"((tencent|ed2k|thunder|vagaa):\/\/[\[\]\|A-Za-z0-9\.\/=\?%\-&_~`@':+!]+)$"' "<a target=\"_blank\" href=\"$1\">$1</a>"' options); " is 164.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The length of the statement  "		sDetail = Regex.Replace (sDetail' @"[^>=\]""]((tencent|ed2k|thunder|vagaa):\/\/[\[\]\|A-Za-z0-9\.\/=\?%\-&_~`@':+!]+)"' "<a target=\"_blank\" href=\"$1\">$1</a>"' options); " is 172.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseImg,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[img=(\d{1'4})[x|\'](\d{1'4})\]\s*([^\[\<\r\n]+?)\s*\[\/img\]"' "<img src=\"$3\" width=\"$1\" height=\"$2\" border=\"0\" onload=\"thumbImg(this)\" />"' options).Replace ("width=\"0\""' "").Replace ("height=\"0\""' ""); " is 255.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseImg,The length of the statement  "	//sDetail = Regex.Replace(sDetail' @"\[img=(\d{1'4})[x|\'](\d{1'4})\]\s*(http://[^\[\<\r\n]+?)\s*\[\/img\]"' "<img src=\"$3\" width=\"$1\" height=\"$2\" border=\"0\" onload=\"thumbImg(this)\" />"' options); " is 206.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseImg,The length of the statement  "	//sDetail = Regex.Replace(sDetail' @"\[image\](http://[\s\S]+?)\[/image\]"' "<img src=\"$1\" border=\"0\" />"' options); " is 120.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,parseFont,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options); " is 133.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,parseFont,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options); " is 127.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[url(?:\s*)\](www\.(.*?))\[/url(?:\s*)\]"' "<a href=\"http://$1\" target=\"_blank\">$1</a>"' options); " is 139.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[url(?:\s*)\]\s*(([^\[""']+?))\s*\[\/url(?:\s*)\]"' "<a href=\"$1\" target=\"_blank\">$1</a>"' options); " is 141.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	//sDetail = Regex.Replace(sDetail' @"\[url(?:\s*)\]\s*((https?://|ftp://|gopher://|news://|telnet://|rtsp://|mms://|callto://|bctp://|ed2k://|tencent)([^\[""']+?))\s*\[\/url(?:\s*)\]"' "<a href=\"$1\" target=\"_blank\">$1</a>"' options); " is 237.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[url=www.([^\[""']+?)(?:\s*)\]([\s\S]+?)\[/url(?:\s*)\]"' "<a href=\"http://www.$1\" target=\"_blank\">$2</a>"' options); " is 158.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	sDetail = Regex.Replace (sDetail' @"\[url=(([^\[""']+?))(?:\s*)\]([\s\S]+?)\[/url(?:\s*)\]"' "<a href=\"$1\" target=\"_blank\">$3</a>"' options); " is 145.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseUrl,The length of the statement  "	//sDetail = Regex.Replace(sDetail' @"\[url=((https?://|ftp://|gopher://|news://|telnet://|rtsp://|mms://|callto://|bctp://|ed2k://|tencent://)([^\[""']+?))(?:\s*)\]([\s\S]+?)\[/url(?:\s*)\]"' "<a href=\"$1\" target=\"_blank\">$4</a>"' options); " is 244.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The length of the statement  "				str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>"); " is 137.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The length of the statement  "				str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>"); " is 282.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The length of the statement  "				str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>"); " is 164.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The length of the statement  "				str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>"); " is 309.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseSmilies,The length of the statement  "			sDetail = Smilies.regexSmile [i].Replace (sDetail' string.Format (smilieformatstr' BaseConfigs.GetForumPath' smiliesinfo [i].Url)' smiliesmax); " is 143.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseSmilies,The length of the statement  "			sDetail = Smilies.regexSmile [i].Replace (sDetail' string.Format (smilieformatstr' BaseConfigs.GetForumPath' smiliesinfo [i].Url)); " is 131.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The length of the statement  "			width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560"); " is 225.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The length of the statement  "			width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options); " is 154.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,Parsecode,The length of the statement  "	builder.Append ("</ol></div><em onclick=\"copycode($('code" + prefix + "_" + pcodecount.ToString () + "'));\">���ƴ���</em></div>"); " is 131.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "		return string.Format (@"<object classid=""clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><param name=""controls"" value=""imagewindow"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""IMAGEWINDOW"" console=""{4}_"" width=""{0}"" height=""{1}""></embed></object><br /><object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""src"" value=""{3}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {5} console=""{4}_"" width=""{0}"" height=""32""></embed></object>"' width' height' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty); " is 900.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "		return string.Format (@"<script type=""text/javascript"" reload=""1"">document.write(AC_FL_RunContent('width'' '{0}'' 'height'' '{1}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'never'' 'src'' '{2}images/common/flvplayer.swf'' 'flashvars'' 'file={3}'' 'quality'' 'high'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true'));</script>"' width' height' BaseConfigs.GetForumPath' Utils.UrlEncode (url)); " is 409.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "		return string.Format (@"<script type=""text/javascript"" reload=""1"">document.write(AC_FL_RunContent('width'' '{0}'' 'height'' '{1}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'never'' 'src'' '{2}'' 'quality'' 'high'' 'bgcolor'' '#ffffff'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true'));</script>"' width' height' url); " is 335.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "		return string.Format (@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""{1}""><param name=""invokeURLs"" value=""0""><param name=""autostart"" value=""{2}"" /><param name=""url"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""application/x-mplayer2"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart' url); " is 382.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "		return string.Format (@"<object classid=""clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""video/quicktime"" controller=""true"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart ? "" : "fale"' url); " is 370.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""autostart"" value=""{1}"" /><param name=""src"" value=""{2}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{3}_"" /><embed src=""{2}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {4} console=""{3}_"" width=""{0}"" height=""32""></embed></object>"' width' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty); " is 529.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><param name=""controls"" value=""imagewindow"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""IMAGEWINDOW"" console=""{4}_"" width=""{0}"" height=""{1}""></embed></object><br /><object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""src"" value=""{3}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {5} console=""{4}_"" width=""{0}"" height=""32""></embed></object>"' width' height' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty); " is 905.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""64""><param name=""autostart"" value=""{1}"" /><param name=""url"" value=""{2}"" /><embed src=""{2}"" autostart=""{1}"" type=""audio/x-ms-wma"" width=""{0}"" height=""64""></embed></object>"' width' autostart ? 1 : 0' url); " is 338.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""url"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""video/x-ms-wmv"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart ? 1 : 0' url); " is 348.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""64""><param name=""autostart"" value=""{1}""/><param name=""url"" value=""{2}"" /><embed src=""{2}"" autostart=""{1}"" type=""application/x-mplayer2"" width=""{0}"" height=""64""></embed></object>"' width' autostart ? 1 : 0' url); " is 345.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The length of the statement  "	//    return string.Format(@"<object classid=""clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><embed controller=""true"" width=""{0}"" height=""{1}"" src=""{3}"" autostart=""{2}""></embed></object>"' width' height' autostart.ToString().ToLower()' url); " is 357.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The length of the statement  "		flv = GetFlvUrl (url' @"http:\/\/v.youku.com\/v_show\/id_([^\/]+)(.html|)"' "http://player.youku.com/player.php/sid/{0}/v.swf"); " is 128.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The length of the statement  "		flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf"); " is 120.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The length of the statement  "		flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}"); " is 143.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The length of the statement  "		if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0) " is 132.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The length of the statement  "		return string.Format (@"<script type=""text/javascript"" reload=""1"">document.write(AC_FL_RunContent('width'' '{0}'' 'height'' '{1}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'never'' 'src'' '{2}'' 'quality'' 'high'' 'bgcolor'' '#ffffff'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true'));</script>"' width' height' flv); " is 335.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseAudio,The length of the statement  "	return string.Format (@"<object width=""400"" height=""64"" classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6""><param value=""0"" name=""invokeURLs""><param value=""{0}"" name=""autostart""><param value=""{1}"" name=""url""><embed width=""400"" height=""64"" type=""application/x-mplayer2"" autostart=""{0}"" src=""{1}""></object>"' autostart != "" ? "1" : "0"' url); " is 371.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseP,The length of the statement  "	return string.Format (@"<p style=""line-height: {0}px; text-indent: {1}em; text-align: {2};"">{3}</p>"' lineHeight' textIndent' textAlign' content); " is 148.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlash,The length of the statement  "		return string.Format ("<span id=\"{0}\"></span><script type=\"text/javascript\" reload=\"1\">$('{0}').innerHTML=AC_FL_RunContent('width'' '{1}'' 'height'' '{2}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'none'' 'src'' '{3}'' 'quality'' 'high'' 'bgcolor'' '#ffffff'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true');</script>"' randomid' flashWidth' flashHeight' flashUrl); " is 385.
Long Statement,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlash,The length of the statement  "		return string.Format ("<span id=\"{0}\"></span><script type=\"text/javascript\" reload=\"1\">$('{0}').innerHTML=AC_FL_RunContent('width'' '{1}'' 'height'' '{2}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'none'' 'src'' '{3}images/common/flvplayer.swf'' 'flashvars'' 'file={4}'' 'quality'' 'high'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true');</script>"' randomid' flashWidth' flashHeight' BaseConfigs.GetForumPath' Utils.UrlEncode (flashUrl)); " is 459.
Long Statement,Discuz.Forum,Urls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Urls.cs,ShowForumAspxRewrite,The length of the statement  "			pathlist = pathlist.Replace ("showforum-" + forumid + config.Extname' "showforum-" + forumid + "-" + pageid + config.Extname); " is 126.
Long Statement,Discuz.Forum,Urls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Urls.cs,ShowForumAspxRewrite,The length of the statement  "			pathlist = pathlist.Replace (config.Extname + "?forumid=" + forumid + "\""' config.Extname + "?forumid=" + forumid + "&page=" + pageid + "\""); " is 143.
Long Statement,Discuz.Forum,Urls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Urls.cs,ShowForumAspxRewrite,The length of the statement  "			pathlist = pathlist.Replace (config.Extname + "?forumid=" + forumid + "\""' config.Extname + "?forumid=" + forumid + "\""); " is 123.
Long Statement,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,CheckPostTimeSpan,The length of the statement  "			msg = "系统规定发帖间隔为" + GeneralConfigs.GetConfig ().Postinterval.ToString () + "秒' 您还需要等待 " + (Interval * -1).ToString () + " 秒"; " is 125.
Long Statement,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,CheckPostTimeSpan,The length of the statement  "				msg = "系统规定新注册用户必须要在" + GeneralConfigs.GetConfig ().Newbiespan.ToString () + "分钟后才可以发帖' 您还需要等待 " + (Interval * -1).ToString () + " 分钟"; " is 135.
Long Statement,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,GetTopicPostInvisible,The length of the statement  "	if (!ForumUtils.HasAuditWord (postinfo.Message) && forum.Modnewtopics == 0 && userGroup.ModNewTopics == 0 && !Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods)) " is 177.
Long Statement,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,NeedAudit,The length of the statement  "	if (Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods) || forum.Modnewtopics == 1 || userGroup.ModNewTopics == 1) " is 129.
Long Statement,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserCredits,The length of the statement  "		if (tmpUserGroupInfo != null && (UserGroups.IsCreditUserGroup (tmpUserGroupInfo) || tmpUserGroupInfo.Groupid == 7))//���û���Ϊ�����û��������IDΪ�ο�(ID=7) " is 151.
Long Statement,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,The length of the statement  "		if (creditsOperationType == CreditsOperationType.DownloadAttachment || creditsOperationType == CreditsOperationType.Search)//��ʱ�Խ���û������۷ֿ���Ϊ���������⣬������ϵͳ�����¿���ʱ�����жϴ���ɸ���ʵ������õ� " is 197.
Long Statement,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,The length of the statement  "	return UpdateUserExtCredits (uid' Scoresets.GetUserExtCredits (creditsOperationType)' mount' creditsOperationType' pos' allowMinus); " is 132.
Long Statement,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,GetCreditsUserGroupId,The length of the statement  "		if (infoitem.Radminid == 0 && infoitem.System == 0 && (Credits >= infoitem.Creditshigher && Credits <= infoitem.Creditslower)) { " is 128.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckRegisterDateDiff,The length of the statement  "	if (GeneralConfigs.GetConfig ().Ipregctrl.Trim () != "" && Utils.InIPArray (DNTRequest.GetIP ()' Utils.SplitString (GeneralConfigs.GetConfig ().Ipregctrl' "\n")) && userinfo != null) { " is 184.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The length of the statement  "		body.Append (" ���͵�.<br /><br />���յ�����ʼ�'����Ϊ�����ǵ���̳����������ַ���Ǽ�Ϊ�û�����'�Ҹ��û�����ʹ�� Email �������ù�������."); " is 124.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The length of the statement  "		body.Append ("<br /><br />�����û���ύ�������õ��������������̳��ע���û�'���������Բ�ɾ������ʼ�.ֻ����ȷ����Ҫ��������������'�ż����Ķ����������."); " is 136.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The length of the statement  "		body.AppendFormat ("<br />���� <br /><br />{0} �����Ŷ�.<br />{1}<br /><br />"' GeneralConfigs.GetConfig ().Forumtitle' forumPath); " is 130.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The length of the statement  "		Emails.DiscuzSmtpMailToUser (DNTRequest.GetString ("email")' GeneralConfigs.GetConfig ().Forumtitle + " ȡ������˵��"' body.ToString ()); " is 135.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPasswordAndSecques,The length of the statement  "	return Discuz.Data.Users.CheckPasswordAndSecques (username' password' originalpassword' ForumUtils.GetUserSecques (questionid' answer)); " is 136.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The length of the statement  "		if (questionid != -1 && !Utils.StrIsNullOrEmpty (answer) && userInfo.Secques.Trim () != ForumUtils.GetUserSecques (questionid' answer)) " is 135.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,UpdateAuthStr,The length of the statement  "		ForumUtils.WriteUserCookie (uid' TypeConverter.StrToInt (DNTRequest.GetString ("expires")' -1)' GeneralConfigs.GetConfig ().Passwordkey); " is 137.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckThirdPartPassword,The length of the statement  "	if (userInfo != null && GeneralConfigs.GetConfig ().Secques == 1 && userInfo.Secques.Trim () != ForumUtils.GetUserSecques (question' answer)) " is 141.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckThirdPartPassword,The length of the statement  "	if (PasswordModeProvider.GetInstance () != null && PasswordModeProvider.GetInstance ().CheckPassword (userInfo' passWord)) " is 122.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,SendEmailByGroupidList,The length of the statement  "			EmailMultiThread emt = new EmailMultiThread (dr ["UserName"].ToString ().Trim ()' dr ["Email"].ToString ().Trim ()' subject' body); " is 131.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetSearchUserList,The length of the statement  "		sb.Append ("<td width=\"33%\" style=\"align:left\"><a href=\"#\" onclick=\"javascript:resetindexmenu('7'''3'''7'8'''global/global_edituser.aspx?uid=" + idr ["uid"] + "');\">" + idr ["username"] + "</a></td>"); " is 209.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUsersSearchCondition,The length of the statement  "	return Data.Users.GetUsersSearchCondition (isLike' isPostDateTime' userName' nickName' userGroup' email' credits_Start' credits_End' lastIp' posts' digestPosts' uid' joindateStart' joindateEnd); " is 194.
Long Statement,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,SendEmailForUncheckedUserGroup,The length of the statement  "		Emails.DiscuzSmtpMail (dr ["username"].ToString ().Trim ()' dr ["email"].ToString ().Trim ()' dr ["password"].ToString ().Trim ()); " is 131.
Long Statement,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The length of the statement  "		if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0")) " is 126.
Long Statement,Discuz.Forum.ScheduledEvents,Event,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ScheduledEvents\Event.cs,UpdateTime,The length of the statement  "	DatabaseProvider.GetInstance ().SetLastExecuteScheduledEventDateTime (this.Key' Environment.MachineName' this.LastCompleted); " is 125.
Complex Conditional,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,CreateCreditOrder,The conditional expression  "uId < 0 || string.IsNullOrEmpty (buyer) || credit < 1 || credit > 8 || amount < 1 || string.IsNullOrEmpty (outTradeNo)"  is complex.
Complex Conditional,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The conditional expression  "postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1"  is complex.
Complex Conditional,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,ParseImageAttachContent,The conditional expression  "postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1"  is complex.
Complex Conditional,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The conditional expression  "postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1"  is complex.
Complex Conditional,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The conditional expression  "debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2])"  is complex.
Complex Conditional,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetTagsListByTopic,The conditional expression  "(MemCachedConfigs.GetConfig () != null && MemCachedConfigs.GetConfig ().ApplyMemCached) || (RedisConfigs.GetConfig () != null && RedisConfigs.GetConfig ().ApplyRedis)"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The conditional expression  "GeneralConfigs.GetConfig ().Guestcachepagetimeout > 0 && (pageid == 1 || (mcci != null && mcci.ApplyMemCached && (pageid > 0 && pageid <= mcci.CacheShowTopicPageNumber)))"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The conditional expression  "GeneralConfigs.GetConfig ().Guestcachepagetimeout > 0 && (pageid == 1 || (rci != null && rci.ApplyRedis && (pageid > 0 && pageid <= rci.CacheShowTopicPageNumber)))"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The conditional expression  "mcci != null && mcci.ApplyMemCached && pageid > 0 && pageid <= mcci.CacheShowForumPageNumber && mcci.CacheShowForumCacheTime > 0"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsGuestCachePage,The conditional expression  "rci != null && rci.ApplyRedis && pageid > 0 && pageid <= rci.CacheShowForumPageNumber && rci.CacheShowForumCacheTime > 0"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The conditional expression  "extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)"  is complex.
Complex Conditional,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The conditional expression  "(fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")"  is complex.
Complex Conditional,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The conditional expression  "requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0"  is complex.
Complex Conditional,Discuz.Forum,SiteUrls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,SiteUrls,The conditional expression  "name != null && path != null && page != null && querystring != null && pattern != null"  is complex.
Complex Conditional,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The conditional expression  "(Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")"  is complex.
Complex Conditional,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The conditional expression  "action == UserAction.ShowForum.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.PostReply.ActionID"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The conditional expression  "config.Closed == 1 && pagename != "login.aspx" && pagename != "logout.aspx" && pagename != "register.aspx" && useradminid != 1"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The conditional expression  "(DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The conditional expression  "(DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid)"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The conditional expression  "onlineusercount >= config.Maxonlines && useradminid != 1 && pagename != "login.aspx" && pagename != "logout.aspx""  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The conditional expression  "usergroupinfo.Allowvisit != 1 && useradminid != 1 && pagename != "login.aspx" && pagename != "register.aspx" && pagename != "logout.aspx" && pagename != "activationuser.aspx" && pagename != "getpassword.aspx""  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The conditional expression  "useradminid != 1 && pagename != "login.aspx" && pagename != "logout.aspx" && usergroupinfo.Disableperiodctrl != 1"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The conditional expression  "(DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid"  is complex.
Complex Conditional,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The conditional expression  "(DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid"  is complex.
Complex Conditional,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The conditional expression  "((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32))"  is complex.
Complex Conditional,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,BetweenTime,The conditional expression  "(s < 0 && e < 0) || (s > 0 && e > 0 && e > s)"  is complex.
Complex Conditional,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,SetTopTopicList,The conditional expression  "(mcci != null && mcci.ApplyMemCached) || (rci != null && rci.ApplyRedis)"  is complex.
Complex Conditional,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,UpdateTopic,The conditional expression  "((mcci != null && mcci.ApplyMemCached) || (rci != null && rci.ApplyRedis)) && topicinfo.Displayorder > 0"  is complex.
Complex Conditional,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopTopicList,The conditional expression  "(mcci != null && mcci.ApplyMemCached) || (rci != null && rci.ApplyRedis)"  is complex.
Complex Conditional,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The conditional expression  "!Utils.IsNumeric (postTableId) || (!string.IsNullOrEmpty (ignore) && !Utils.IsNumericList (ignore)) || (!string.IsNullOrEmpty (validate) && !Utils.IsNumericList (validate)) || (!string.IsNullOrEmpty (delete) && !Utils.IsNumericList (delete)) || (!string.IsNullOrEmpty (fidlist) && !Utils.IsNumericList (fidlist))"  is complex.
Complex Conditional,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTitleDisplayOrder,The conditional expression  "forum.Modnewtopics == 1 || usergroupinfo.ModNewTopics == 1 || Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods) && disablepost != 1 || ForumUtils.HasAuditWord (topicInfo.Title) || ForumUtils.HasAuditWord (message)"  is complex.
Complex Conditional,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,GetTopicPostInvisible,The conditional expression  "!ForumUtils.HasAuditWord (postinfo.Message) && forum.Modnewtopics == 0 && userGroup.ModNewTopics == 0 && !Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods)"  is complex.
Complex Conditional,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,GetCreditsUserGroupId,The conditional expression  "infoitem.Radminid == 0 && infoitem.System == 0 && (Credits >= infoitem.Creditshigher && Credits <= infoitem.Creditslower)"  is complex.
Virtual Method Call from Constructor,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The constructor "PageBase" calls a virtual method "ShowPage".
Empty Catch Block,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,DeleteCacheImageFile,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,EditDntConfig,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,EditDntConfig,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,EmailMultiThread,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,Send,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,ProcessAsync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,Process,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Tags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Tags.cs,WriteTagsCacheFile,The method has an empty catch block.
Empty Catch Block,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,WriteHtmlTitleFile,The method has an empty catch block.
Magic Number,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetAllCache,The following statement contains a magic number: ReSetDigestTopicList (16);  
Magic Number,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetAllCache,The following statement contains a magic number: ReSetHotTopicList (16' 30);  
Magic Number,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetAllCache,The following statement contains a magic number: ReSetHotTopicList (16' 30);  
Magic Number,Discuz.Forum,AdminCaches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCaches.cs,ReSetAllCache,The following statement contains a magic number: ReSetRecentTopicList (16);  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,FormatUid,The following statement contains a magic number: return uid.PadLeft (9' '0');  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetPhysicsAvatarPath,The following statement contains a magic number: return Utils.GetMapPath (forumPath + "avatars/" + string.Format (AVATAR_URL' uid.Substring (0' 3)' uid.Substring (3' 2)' uid.Substring (5' 2)' uid.Substring (7' 2)' size.ToString ().ToLower ()));  
Magic Number,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,CreateCreditOrder,The following statement contains a magic number: if (uId < 0 || string.IsNullOrEmpty (buyer) || credit < 1 || credit > 8 || amount < 1 || string.IsNullOrEmpty (outTradeNo))  	return 0;  
Magic Number,Discuz.Forum,CreditOrders,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\CreditOrders.cs,CreateCreditOrder,The following statement contains a magic number: order.Price = decimal.Round (((decimal)amount / (decimal)GeneralConfigs.GetConfig ().Cashtocreditrate)' 2);  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: str = operation.Equals ("DECODE") ? Base64Decode (str.Substring (ckey_length)) : (expiry > 0 ? expiry + Time () : 0).ToString ("D10") + (Utils.MD5 (str + keyb)).Substring (0' 16) + str;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int i = 0; i < 256; i++)  	box [i] = i;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int i = 0; i < 256; i++)  	rndkey [i] = (int)(cryptkey [i % key_length]);  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int i = 0' j = 0; i < 256; i++) {  	j = (j + box [i] + rndkey [i]) % 256;  	int tmp = box [i];  	box [i] = box [j];  	box [j] = tmp;  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int i = 0' j = 0; i < 256; i++) {  	j = (j + box [i] + rndkey [i]) % 256;  	int tmp = box [i];  	box [i] = box [j];  	box [j] = tmp;  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: j = (j + box [i] + rndkey [i]) % 256;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int a = 0' j = 0' i = 0; i < string_length; i++) {  	a = (a + 1) % 256;  	j = (j + box [a]) % 256;  	int tmp = box [a];  	box [a] = box [j];  	box [j] = tmp;  	tmpResult [i] = (byte)(str [i] ^ box [(box [a] + box [j]) % 256]);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int a = 0' j = 0' i = 0; i < string_length; i++) {  	a = (a + 1) % 256;  	j = (j + box [a]) % 256;  	int tmp = box [a];  	box [a] = box [j];  	box [j] = tmp;  	tmpResult [i] = (byte)(str [i] ^ box [(box [a] + box [j]) % 256]);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: for (int a = 0' j = 0' i = 0; i < string_length; i++) {  	a = (a + 1) % 256;  	j = (j + box [a]) % 256;  	int tmp = box [a];  	box [a] = box [j];  	box [j] = tmp;  	tmpResult [i] = (byte)(str [i] ^ box [(box [a] + box [j]) % 256]);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: a = (a + 1) % 256;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: j = (j + box [a]) % 256;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: tmpResult [i] = (byte)(str [i] ^ box [(box [a] + box [j]) % 256]);  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if (operation.Equals ("DECODE")) {  	if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  		return result.Substring (26);  	else  		return string.Empty;  }  else {  	return keyc + Base64Encode (tmpResult).Replace ("="' string.Empty);  }  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: if ((long.Parse (result.Substring (0' 10)) == 0 || long.Parse (result.Substring (0' 10)) > Time ()) && result.Substring (10' 16).Equals (Utils.MD5 (result.Substring (26) + keyb).Substring (0' 16)))  	return result.Substring (26);  else  	return string.Empty;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,AuthCode,The following statement contains a magic number: return result.Substring (26);  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,Time,The following statement contains a magic number: return (DateTime.UtcNow.Ticks - timeStamp.Ticks) / 10000000;  
Magic Number,Discuz.Forum,DiscuzMethodes,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\DiscuzMethodes.cs,Base64Decode,The following statement contains a magic number: while (code.Length % 4 != 0)  	code += "=";  
Magic Number,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,ConvertAlipayTradeStatus,The following statement contains a magic number: switch (alipayStatus) {  case "WAIT_BUYER_PAY":// 等待买家付款   {  	status = 0;  	break;  }  case "TRADE_FINISHED":// 交易成功结束   {  	status = 2;  	break;  }  #region 其他的支付宝返回信息，留待以后使用  //case "WAIT_SELLER_CONFIRM_TRADE": // 交易已创建，等待卖家确认  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SELLER_CONFIRM_TRADE; break;  //    }  //case "WAIT_SYS_CONFIRM_PAY":　// 确认买家付款中，暂勿发货  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SYS_CONFIRM_PAY; break;  //    }  //case "WAIT_SELLER_SEND_GOODS": // 支付宝收到买家付款，请卖家发货  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SELLER_SEND_GOODS; break;  //    }  //case "WAIT_BUYER_CONFIRM_GOODS": //  卖家已发货，买家确认中  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_BUYER_CONFIRM_GOODS; break;  //    }  //case "WAIT_SYS_PAY_SELLER": // 买家确认收到货，等待支付宝打款给卖家  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SYS_PAY_SELLER; break;  //    }  //case "TRADE_CLOSED": //  交易中途关闭(未完成)  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.TRADE_CLOSED; break;  //    }  //case "WAIT_SELLER_AGREE": //  等待卖家同意退款  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SELLER_AGREE; break;  //    }  //case "SELLER_REFUSE_BUYER": // 卖家拒绝买家条件，等待买家修改条件  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.SELLER_REFUSE_BUYER; break;  //    }  //case "WAIT_BUYER_RETURN_GOODS": // 卖家同意退款，等待买家退货  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_BUYER_RETURN_GOODS; break;  //    }  //case "WAIT_SELLER_CONFIRM_GOODS": // 等待卖家收货  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.WAIT_SELLER_CONFIRM_GOODS; break;  //    }  //case "REFUND_SUCCESS": //  退款成功  //    {  //        goodstradeloginfo.Status = (int)TradeStatusEnum.REFUND_SUCCESS; break;  //    }  #endregion  default:  	break;  }  
Magic Number,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,ConvertAlipayTradeStatus,The following statement contains a magic number: status = 2;  
Magic Number,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,GetMD5,The following statement contains a magic number: for (int i = 0; i < t.Length; i++) {  	sb.Append (t [i].ToString ("x").PadLeft (2' '0'));  }  
Magic Number,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,GetMD5,The following statement contains a magic number: sb.Append (t [i].ToString ("x").PadLeft (2' '0'));  
Magic Number,Discuz.Forum,EPayments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\EPayments.cs,GetHttp,The following statement contains a magic number: request.Timeout = 120000;  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The following statement contains a magic number: forumHotItemInfo.Dataitemcount = forumHotItemInfo.Dataitemcount > 50 ? 50 : (forumHotItemInfo.Dataitemcount < 1 ? 1 : forumHotItemInfo.Dataitemcount);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,GetTopicList,The following statement contains a magic number: forumHotItemInfo.Dataitemcount = forumHotItemInfo.Dataitemcount > 50 ? 50 : (forumHotItemInfo.Dataitemcount < 1 ? 1 : forumHotItemInfo.Dataitemcount);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: foreach (DataRow dr in HotImages (forumHotItemInfo.Dataitemcount' forumHotItemInfo.Cachetimeout' forumHotItemInfo.Sorttype' forumHotItemInfo.Id' forumList' forumHotItemInfo.Enabled).Rows) {  	int tid = TypeConverter.ObjectToInt (dr ["tid"]);  	string fileName = dr ["filename"].ToString ().Trim ();  	string title = dr ["title"].ToString ().Trim ();  	title = Utils.JsonCharFilter (title).Replace ("'"' "\\'");  	if (fileName.StartsWith ("http://")) {  		DeleteCacheImageFile ();  		Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  		hotImagesArray.Append ("{");  		hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  		hotImagesArray.Append ("}'");  		continue;  	}  	//ͼƬ�ļ�����  	string fullFileName = BaseConfigs.GetForumPath + "upload/" + fileName.Replace ('\\'' '/').Trim ();  	//ͼƬ���Ժ������  	string thumbnailFileName = "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName);  	if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  		DeleteCacheImageFile ();  		Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  	}  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: foreach (DataRow dr in HotImages (forumHotItemInfo.Dataitemcount' forumHotItemInfo.Cachetimeout' forumHotItemInfo.Sorttype' forumHotItemInfo.Id' forumList' forumHotItemInfo.Enabled).Rows) {  	int tid = TypeConverter.ObjectToInt (dr ["tid"]);  	string fileName = dr ["filename"].ToString ().Trim ();  	string title = dr ["title"].ToString ().Trim ();  	title = Utils.JsonCharFilter (title).Replace ("'"' "\\'");  	if (fileName.StartsWith ("http://")) {  		DeleteCacheImageFile ();  		Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  		hotImagesArray.Append ("{");  		hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  		hotImagesArray.Append ("}'");  		continue;  	}  	//ͼƬ�ļ�����  	string fullFileName = BaseConfigs.GetForumPath + "upload/" + fileName.Replace ('\\'' '/').Trim ();  	//ͼƬ���Ժ������  	string thumbnailFileName = "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName);  	if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  		DeleteCacheImageFile ();  		Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  	}  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: foreach (DataRow dr in HotImages (forumHotItemInfo.Dataitemcount' forumHotItemInfo.Cachetimeout' forumHotItemInfo.Sorttype' forumHotItemInfo.Id' forumList' forumHotItemInfo.Enabled).Rows) {  	int tid = TypeConverter.ObjectToInt (dr ["tid"]);  	string fileName = dr ["filename"].ToString ().Trim ();  	string title = dr ["title"].ToString ().Trim ();  	title = Utils.JsonCharFilter (title).Replace ("'"' "\\'");  	if (fileName.StartsWith ("http://")) {  		DeleteCacheImageFile ();  		Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  		hotImagesArray.Append ("{");  		hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  		hotImagesArray.Append ("}'");  		continue;  	}  	//ͼƬ�ļ�����  	string fullFileName = BaseConfigs.GetForumPath + "upload/" + fileName.Replace ('\\'' '/').Trim ();  	//ͼƬ���Ժ������  	string thumbnailFileName = "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName);  	if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  		DeleteCacheImageFile ();  		Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  	}  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: foreach (DataRow dr in HotImages (forumHotItemInfo.Dataitemcount' forumHotItemInfo.Cachetimeout' forumHotItemInfo.Sorttype' forumHotItemInfo.Id' forumList' forumHotItemInfo.Enabled).Rows) {  	int tid = TypeConverter.ObjectToInt (dr ["tid"]);  	string fileName = dr ["filename"].ToString ().Trim ();  	string title = dr ["title"].ToString ().Trim ();  	title = Utils.JsonCharFilter (title).Replace ("'"' "\\'");  	if (fileName.StartsWith ("http://")) {  		DeleteCacheImageFile ();  		Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  		hotImagesArray.Append ("{");  		hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  		hotImagesArray.Append ("}'");  		continue;  	}  	//ͼƬ�ļ�����  	string fullFileName = BaseConfigs.GetForumPath + "upload/" + fileName.Replace ('\\'' '/').Trim ();  	//ͼƬ���Ժ������  	string thumbnailFileName = "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName);  	if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  		DeleteCacheImageFile ();  		Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  	}  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fullFileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: if (fileName.StartsWith ("http://")) {  	DeleteCacheImageFile ();  	Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  	continue;  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: if (fileName.StartsWith ("http://")) {  	DeleteCacheImageFile ();  	Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  	hotImagesArray.Append ("{");  	hotImagesArray.AppendFormat (imagesItemTemplate' title' "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName)' Urls.ShowTopicAspxRewrite (tid' 0));  	hotImagesArray.Append ("}'");  	continue;  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: Thumbnail.MakeRemoteThumbnailImage (fileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/rotatethumbnail/r_" + Utils.GetFilename (fileName))' 360' 240);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  	DeleteCacheImageFile ();  	Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: if (!File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)) && File.Exists (Utils.GetMapPath (fullFileName))) {  	DeleteCacheImageFile ();  	Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,HotImagesArray,The following statement contains a magic number: Thumbnail.MakeThumbnailImage (Utils.GetMapPath (fullFileName)' Utils.GetMapPath (BaseConfigs.GetForumPath + thumbnailFileName)' 360' 240);  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,DeleteCacheImageFile,The following statement contains a magic number: if (files.Length > 100) {  	Attachments.QuickSort (files' 0' files.Length - 1);  	for (int i = files.Length - 1; i >= 50; i--) {  		try {  			files [i].Delete ();  		}  		catch {  		}  	}  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,DeleteCacheImageFile,The following statement contains a magic number: if (files.Length > 100) {  	Attachments.QuickSort (files' 0' files.Length - 1);  	for (int i = files.Length - 1; i >= 50; i--) {  		try {  			files [i].Delete ();  		}  		catch {  		}  	}  }  
Magic Number,Discuz.Forum,ForumHots,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumHots.cs,DeleteCacheImageFile,The following statement contains a magic number: for (int i = files.Length - 1; i >= 50; i--) {  	try {  		files [i].Delete ();  	}  	catch {  	}  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: try {  	Thread.Sleep (50000);  	//得到系统相关信息  	int member = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalusers"));  	int topcis = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totaltopic"));  	int posts = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalpost"));  	string build = string.Empty;  	string strPath = Utils.GetMapPath (BaseConfigs.GetForumPath.ToLower () + "config/localupgradeini.config");  	if (System.IO.File.Exists (strPath)) {  		XmlDocument lastupdate = new XmlDocument ();  		lastupdate.Load (strPath);  		build = lastupdate.SelectSingleNode ("/localupgrade/requiredupgrade").InnerText;  		XmlNodeList list = lastupdate.SelectNodes ("/localupgrade/optionalupgrade/dnt" + Utils.GetAssemblyVersion () + "/item");  		if (list != null) {  			foreach (XmlNode node in list) {  				if (StrToDateTime (node.InnerText) > StrToDateTime (build))  					build = node.InnerText;  			}  		}  	}  	string osversion = Environment.OSVersion.ToString ();  	int dotnetmajor = Environment.Version.Major;  	int dotnetminor = Environment.Version.Minor;  	int dotnetbuild = Environment.Version.Build;  	CatchSoftInfo csi = new CatchSoftInfo ();  	//产生webservice的认证信息  	AuthHeaderCS myHeader = new AuthHeaderCS ();  	myHeader.Username = "Z0TZVFB406";  	myHeader.Password = "QWERTYUIOP";  	csi.AuthHeaderCSValue = myHeader;  	int dbtype = 0;  	switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  	case "sqlserver": {  		dbtype = 0;  		break;  	}  	case "access": {  		dbtype = 101;  		break;  	}  	case "mysql": {  		dbtype = 201;  		break;  	}  	}  	csi.SetupSoftInfo (forumname' member' topcis' posts' serversoftware' Utils.AssemblyFileVersion.FileMajorPart' Utils.AssemblyFileVersion.FileMinorPart' Utils.AssemblyFileVersion.FileBuildPart' dotnetmajor' dotnetminor' dotnetbuild' dbtype' build' osversion' serverip' servername);  }  catch (Exception e) {  	string result = e.Message;  }  finally {  	Thread.CurrentThread.Abort ();  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: try {  	Thread.Sleep (50000);  	//得到系统相关信息  	int member = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalusers"));  	int topcis = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totaltopic"));  	int posts = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalpost"));  	string build = string.Empty;  	string strPath = Utils.GetMapPath (BaseConfigs.GetForumPath.ToLower () + "config/localupgradeini.config");  	if (System.IO.File.Exists (strPath)) {  		XmlDocument lastupdate = new XmlDocument ();  		lastupdate.Load (strPath);  		build = lastupdate.SelectSingleNode ("/localupgrade/requiredupgrade").InnerText;  		XmlNodeList list = lastupdate.SelectNodes ("/localupgrade/optionalupgrade/dnt" + Utils.GetAssemblyVersion () + "/item");  		if (list != null) {  			foreach (XmlNode node in list) {  				if (StrToDateTime (node.InnerText) > StrToDateTime (build))  					build = node.InnerText;  			}  		}  	}  	string osversion = Environment.OSVersion.ToString ();  	int dotnetmajor = Environment.Version.Major;  	int dotnetminor = Environment.Version.Minor;  	int dotnetbuild = Environment.Version.Build;  	CatchSoftInfo csi = new CatchSoftInfo ();  	//产生webservice的认证信息  	AuthHeaderCS myHeader = new AuthHeaderCS ();  	myHeader.Username = "Z0TZVFB406";  	myHeader.Password = "QWERTYUIOP";  	csi.AuthHeaderCSValue = myHeader;  	int dbtype = 0;  	switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  	case "sqlserver": {  		dbtype = 0;  		break;  	}  	case "access": {  		dbtype = 101;  		break;  	}  	case "mysql": {  		dbtype = 201;  		break;  	}  	}  	csi.SetupSoftInfo (forumname' member' topcis' posts' serversoftware' Utils.AssemblyFileVersion.FileMajorPart' Utils.AssemblyFileVersion.FileMinorPart' Utils.AssemblyFileVersion.FileBuildPart' dotnetmajor' dotnetminor' dotnetbuild' dbtype' build' osversion' serverip' servername);  }  catch (Exception e) {  	string result = e.Message;  }  finally {  	Thread.CurrentThread.Abort ();  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: try {  	Thread.Sleep (50000);  	//得到系统相关信息  	int member = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalusers"));  	int topcis = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totaltopic"));  	int posts = Convert.ToInt32 (Statistics.GetStatisticsRowItem ("totalpost"));  	string build = string.Empty;  	string strPath = Utils.GetMapPath (BaseConfigs.GetForumPath.ToLower () + "config/localupgradeini.config");  	if (System.IO.File.Exists (strPath)) {  		XmlDocument lastupdate = new XmlDocument ();  		lastupdate.Load (strPath);  		build = lastupdate.SelectSingleNode ("/localupgrade/requiredupgrade").InnerText;  		XmlNodeList list = lastupdate.SelectNodes ("/localupgrade/optionalupgrade/dnt" + Utils.GetAssemblyVersion () + "/item");  		if (list != null) {  			foreach (XmlNode node in list) {  				if (StrToDateTime (node.InnerText) > StrToDateTime (build))  					build = node.InnerText;  			}  		}  	}  	string osversion = Environment.OSVersion.ToString ();  	int dotnetmajor = Environment.Version.Major;  	int dotnetminor = Environment.Version.Minor;  	int dotnetbuild = Environment.Version.Build;  	CatchSoftInfo csi = new CatchSoftInfo ();  	//产生webservice的认证信息  	AuthHeaderCS myHeader = new AuthHeaderCS ();  	myHeader.Username = "Z0TZVFB406";  	myHeader.Password = "QWERTYUIOP";  	csi.AuthHeaderCSValue = myHeader;  	int dbtype = 0;  	switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  	case "sqlserver": {  		dbtype = 0;  		break;  	}  	case "access": {  		dbtype = 101;  		break;  	}  	case "mysql": {  		dbtype = 201;  		break;  	}  	}  	csi.SetupSoftInfo (forumname' member' topcis' posts' serversoftware' Utils.AssemblyFileVersion.FileMajorPart' Utils.AssemblyFileVersion.FileMinorPart' Utils.AssemblyFileVersion.FileBuildPart' dotnetmajor' dotnetminor' dotnetbuild' dbtype' build' osversion' serverip' servername);  }  catch (Exception e) {  	string result = e.Message;  }  finally {  	Thread.CurrentThread.Abort ();  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: Thread.Sleep (50000);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  case "sqlserver": {  	dbtype = 0;  	break;  }  case "access": {  	dbtype = 101;  	break;  }  case "mysql": {  	dbtype = 201;  	break;  }  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  case "sqlserver": {  	dbtype = 0;  	break;  }  case "access": {  	dbtype = 101;  	break;  }  case "mysql": {  	dbtype = 201;  	break;  }  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: dbtype = 101;  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following statement contains a magic number: dbtype = 201;  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: if (str.Length == 8) {  	date += " 00:00:00";  }  else {  	date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  }  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,StrToDateTime,The following statement contains a magic number: date += " " + str.Substring (8' 2) + ":" + str.Substring (10' 2) + ":" + str.Substring (12' 2);  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Passwordkey = ForumUtils.CreateAuthStr (16);  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Hottopic = 15;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Starthreshold = 5;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Visitedforums = 10;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxsigrows = 20;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Rssttl = 60;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Whosonlinestatus = 3;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxonlinelist = 300;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Userstatusby = 2;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxmodworksmonths = 3;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxonlines = 9000;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Postinterval = 20;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Minpostsize = 10;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxpostsize = 500000;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Tpp = 25;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Ppp = 20;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxfavorites = 100;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxpolloptions = 10;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Maxattachments = 10;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Attachsave = 3;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Karmaratelimit = 10;  
Magic Number,Discuz.Forum,AdminConfigs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminConfigs.cs,GetDefaultConifg,The following statement contains a magic number: configInfo.Losslessdel = 5;  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: foreach (string moderator in moderators.Split (''')) {  	if (moderator != "") {  		//当用户名是系统保留的用户名'请您输入其它的用户名  		if (PrivateMessages.SystemUserName == moderator)  			continue;  		UserInfo userInfo = Users.GetUserInfo (moderator);  		if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  			if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  				continue;  			//当为管理员'超级版主'版主时  			else {  				int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  				if (radminid <= 0)  					Data.Users.SetUserToModerator (moderator);  				else  					continue;  			}  		}  		else  			usernamenoexsit = usernamenoexsit + moderator + "'";  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: foreach (string moderator in moderators.Split (''')) {  	if (moderator != "") {  		//当用户名是系统保留的用户名'请您输入其它的用户名  		if (PrivateMessages.SystemUserName == moderator)  			continue;  		UserInfo userInfo = Users.GetUserInfo (moderator);  		if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  			if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  				continue;  			//当为管理员'超级版主'版主时  			else {  				int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  				if (radminid <= 0)  					Data.Users.SetUserToModerator (moderator);  				else  					continue;  			}  		}  		else  			usernamenoexsit = usernamenoexsit + moderator + "'";  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: foreach (string moderator in moderators.Split (''')) {  	if (moderator != "") {  		//当用户名是系统保留的用户名'请您输入其它的用户名  		if (PrivateMessages.SystemUserName == moderator)  			continue;  		UserInfo userInfo = Users.GetUserInfo (moderator);  		if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  			if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  				continue;  			//当为管理员'超级版主'版主时  			else {  				int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  				if (radminid <= 0)  					Data.Users.SetUserToModerator (moderator);  				else  					continue;  			}  		}  		else  			usernamenoexsit = usernamenoexsit + moderator + "'";  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (moderator != "") {  	//当用户名是系统保留的用户名'请您输入其它的用户名  	if (PrivateMessages.SystemUserName == moderator)  		continue;  	UserInfo userInfo = Users.GetUserInfo (moderator);  	if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  		if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  			continue;  		//当为管理员'超级版主'版主时  		else {  			int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  			if (radminid <= 0)  				Data.Users.SetUserToModerator (moderator);  			else  				continue;  		}  	}  	else  		usernamenoexsit = usernamenoexsit + moderator + "'";  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (moderator != "") {  	//当用户名是系统保留的用户名'请您输入其它的用户名  	if (PrivateMessages.SystemUserName == moderator)  		continue;  	UserInfo userInfo = Users.GetUserInfo (moderator);  	if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  		if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  			continue;  		//当为管理员'超级版主'版主时  		else {  			int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  			if (radminid <= 0)  				Data.Users.SetUserToModerator (moderator);  			else  				continue;  		}  	}  	else  		usernamenoexsit = usernamenoexsit + moderator + "'";  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (moderator != "") {  	//当用户名是系统保留的用户名'请您输入其它的用户名  	if (PrivateMessages.SystemUserName == moderator)  		continue;  	UserInfo userInfo = Users.GetUserInfo (moderator);  	if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  		if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  			continue;  		//当为管理员'超级版主'版主时  		else {  			int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  			if (radminid <= 0)  				Data.Users.SetUserToModerator (moderator);  			else  				continue;  		}  	}  	else  		usernamenoexsit = usernamenoexsit + moderator + "'";  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  	if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  		continue;  	//当为管理员'超级版主'版主时  	else {  		int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  		if (radminid <= 0)  			Data.Users.SetUserToModerator (moderator);  		else  			continue;  	}  }  else  	usernamenoexsit = usernamenoexsit + moderator + "'";  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  	if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  		continue;  	//当为管理员'超级版主'版主时  	else {  		int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  		if (radminid <= 0)  			Data.Users.SetUserToModerator (moderator);  		else  			continue;  	}  }  else  	usernamenoexsit = usernamenoexsit + moderator + "'";  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if (userInfo != null && userInfo.Groupid != 7 && userInfo.Groupid != 8) {  	if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  		continue;  	//当为管理员'超级版主'版主时  	else {  		int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  		if (radminid <= 0)  			Data.Users.SetUserToModerator (moderator);  		else  			continue;  	}  }  else  	usernamenoexsit = usernamenoexsit + moderator + "'";  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,UpdateUserInfoWithModerator,The following statement contains a magic number: if ((userInfo.Groupid <= 3) && (userInfo.Groupid > 0))  	continue;  //当为管理员'超级版主'版主时  else {  	int radminid = UserGroups.GetUserGroupInfo (userInfo.Groupid).Radminid;  	if (radminid <= 0)  		Data.Users.SetUserToModerator (moderator);  	else  		continue;  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	ChildNode = "0";  	string fidlist = ("'" + FindChildNode (dr ["fid"].ToString ())).Replace ("'0'"' "");  	if (dr ["status"].ToString () == "0") {  		Discuz.Data.Forums.UpdateStatusByFidlist (fidlist);  	}  	else if (dr ["status"].ToString () == "1") {  		Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  	}  	else {  		Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  		int i = 5;  		foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  			Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  			i++;  		}  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	ChildNode = "0";  	string fidlist = ("'" + FindChildNode (dr ["fid"].ToString ())).Replace ("'0'"' "");  	if (dr ["status"].ToString () == "0") {  		Discuz.Data.Forums.UpdateStatusByFidlist (fidlist);  	}  	else if (dr ["status"].ToString () == "1") {  		Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  	}  	else {  		Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  		int i = 5;  		foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  			Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  			i++;  		}  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: if (dr ["status"].ToString () == "0") {  	Discuz.Data.Forums.UpdateStatusByFidlist (fidlist);  }  else if (dr ["status"].ToString () == "1") {  	Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  }  else {  	Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  	int i = 5;  	foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  		Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  		i++;  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: if (dr ["status"].ToString () == "0") {  	Discuz.Data.Forums.UpdateStatusByFidlist (fidlist);  }  else if (dr ["status"].ToString () == "1") {  	Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  }  else {  	Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  	int i = 5;  	foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  		Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  		i++;  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: if (dr ["status"].ToString () == "1") {  	Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  }  else {  	Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  	int i = 5;  	foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  		Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  		i++;  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: if (dr ["status"].ToString () == "1") {  	Discuz.Data.Forums.UpdateStatusByFidlistOther (fidlist);  }  else {  	Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  	int i = 5;  	foreach (DataRow currentdr in Discuz.Data.Forums.GetForumByParentid (int.Parse (dr ["fid"].ToString ())).Rows) {  		Discuz.Data.Forums.SetStatusInForum (i' int.Parse (currentdr ["fid"].ToString ()));  		i++;  	}  }  
Magic Number,Discuz.Forum,AdminForums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminForums.cs,SetForumsStatus,The following statement contains a magic number: Discuz.Data.Forums.SetStatusInForum (4' int.Parse (dr ["fid"].ToString ()));  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The following statement contains a magic number: switch (opname.ToLower ()) {  case "add": {  	#region  	DataTable dt = Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ��Сֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower)  			return false;  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					UserGroupInfo userGroupInfo = UserGroups.GetUserGroupInfo (currentGroupID);  					userGroupInfo.Creditslower = creditsLower;  					UserGroups.UpdateUserGroup (userGroupInfo);  					break;  				}  				else {  					opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  					return false;  				}  			}  			else {  				creditsLower = currentCreditsLower;  				//���µ�ǰ��ѯ������'Ҳ����Ҫ��ӵ���Ļ�������λ�ڵ�ǰ��ѯ��Ļ���������֮��  				Discuz.Data.UserGroups.UpdateUserGroupCreidtsLower (currentCreditsHigher' creditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  }  case "delete": {  	if (Discuz.Data.UserGroups.GetGroupCountByCreditsLower (creditsHigher) > 0)  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsLower' creditsHigher);  	else  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsHigher' creditsLower);  	break;  }  case "update": {  	#region  	UserGroupInfo oldInfo = UserGroups.GetUserGroupInfo (groupid);  	int currentGroupOldCreatesHigher = oldInfo.Creditshigher;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	int currentGroupOldCreatesLower = oldInfo.Creditslower;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	DataTable dt = Discuz.Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (currentGroupOldCreatesHigher' currentGroupOldCreatesLower);  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (currentGroupOldCreatesLower' currentGroupOldCreatesHigher);  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower) {  			opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  			return false;  		}  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  					Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  					break;  				}  			}  			else {  				opresult = "ϵͳ���Զ������ύ�Ļ������޵���Ϊ" + currentCreditsLower;  				//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsHigher' currentCreditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  	break;  }  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The following statement contains a magic number: switch (opname.ToLower ()) {  case "add": {  	#region  	DataTable dt = Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ��Сֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower)  			return false;  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					UserGroupInfo userGroupInfo = UserGroups.GetUserGroupInfo (currentGroupID);  					userGroupInfo.Creditslower = creditsLower;  					UserGroups.UpdateUserGroup (userGroupInfo);  					break;  				}  				else {  					opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  					return false;  				}  			}  			else {  				creditsLower = currentCreditsLower;  				//���µ�ǰ��ѯ������'Ҳ����Ҫ��ӵ���Ļ�������λ�ڵ�ǰ��ѯ��Ļ���������֮��  				Discuz.Data.UserGroups.UpdateUserGroupCreidtsLower (currentCreditsHigher' creditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  }  case "delete": {  	if (Discuz.Data.UserGroups.GetGroupCountByCreditsLower (creditsHigher) > 0)  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsLower' creditsHigher);  	else  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsHigher' creditsLower);  	break;  }  case "update": {  	#region  	UserGroupInfo oldInfo = UserGroups.GetUserGroupInfo (groupid);  	int currentGroupOldCreatesHigher = oldInfo.Creditshigher;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	int currentGroupOldCreatesLower = oldInfo.Creditslower;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	DataTable dt = Discuz.Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (currentGroupOldCreatesHigher' currentGroupOldCreatesLower);  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (currentGroupOldCreatesLower' currentGroupOldCreatesHigher);  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower) {  			opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  			return false;  		}  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  					Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  					break;  				}  			}  			else {  				opresult = "ϵͳ���Զ������ύ�Ļ������޵���Ϊ" + currentCreditsLower;  				//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsHigher' currentCreditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  	break;  }  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The following statement contains a magic number: if (dt.Rows.Count > 0) {  	int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  	int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  	int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  	if (creditsLower > currentCreditsLower)  		return false;  	else {  		if (creditsHigher == currentCreditsHigher) {  			if (creditsLower < currentCreditsLower) {  				UserGroupInfo userGroupInfo = UserGroups.GetUserGroupInfo (currentGroupID);  				userGroupInfo.Creditslower = creditsLower;  				UserGroups.UpdateUserGroup (userGroupInfo);  				break;  			}  			else {  				opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  				return false;  			}  		}  		else {  			creditsLower = currentCreditsLower;  			//���µ�ǰ��ѯ������'Ҳ����Ҫ��ӵ���Ļ�������λ�ڵ�ǰ��ѯ��Ļ���������֮��  			Discuz.Data.UserGroups.UpdateUserGroupCreidtsLower (currentCreditsHigher' creditsHigher);  			break;  		}  	}  }  else {  	opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  	return false;  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The following statement contains a magic number: if (dt.Rows.Count > 0) {  	int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  	int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  	int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  	if (creditsLower > currentCreditsLower) {  		opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  		return false;  	}  	else {  		if (creditsHigher == currentCreditsHigher) {  			if (creditsLower < currentCreditsLower) {  				//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  				break;  			}  		}  		else {  			opresult = "ϵͳ���Զ������ύ�Ļ������޵���Ϊ" + currentCreditsLower;  			//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsHigher' currentCreditsHigher);  			break;  		}  	}  }  else {  	opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  	return false;  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,UpdateUserGroupInfo,The following statement contains a magic number: if ((userGroupInfo.Groupid >= 9) && (userGroupInfo.Radminid == 0)) {  	//���Ѵ��ڵ��û�����������޲��ǵ�ǰ���ʱ��'������༭  	DataTable dt = Discuz.Data.UserGroups.GetUserGroupByCreditsHigherAndLower (Creditshigher' Creditslower);  	if (dt.Rows.Count > 0 && userGroupInfo.Groupid.ToString () != dt.Rows [0] [0].ToString ())  		return false;  	if (!SystemCheckCredits ("update"' ref Creditshigher' ref Creditslower' userGroupInfo.Groupid))  		return false;  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,DeleteUserGroupInfo,The following statement contains a magic number: try {  	if (Discuz.Data.UserGroups.IsSystemOrTemplateUserGroup (groupid)) {  		//��Ϊϵͳ��ʼ���ģ����ʱ'������ɾ��  		return false;  	}  	//��Ϊ�û���ʱ  	if (groupid >= 9) {  		DataTable dt = UserGroups.GetUserGroupExceptGroupid (groupid);  		if (dt.Rows.Count > 1) {  			UserGroupInfo info = UserGroups.GetUserGroupInfo (groupid);  			if (info.Radminid == 0) {  				int creditshigher = info.Creditshigher;  				int creditslower = info.Creditslower;  				SystemCheckCredits ("delete"' ref creditshigher' ref creditslower' groupid);  			}  		}  		else {  			if (dt.Rows.Count == 1) {  				//��ϵͳɾ����ǰ���ֻ��һ�������ʱ��ֱ������Ψһ������'�����޸�Ψһ�����޵�ֵ  				Data.UserGroups.UpdateUserGroupLowerAndHigherToLimit (Utils.StrToInt (dt.Rows [0] [0]' 0));  			}  			else {  				//ϵͳ���û���ֻ��һ��ʱ  				opresult = "��ǰ�û���Ϊϵͳ��Ψһ���û���'���ϵͳ�޷�ɾ��";  				return false;  			}  		}  	}  	UserGroups.DeleteUserGroupInfo (groupid);  	AdminGroups.DeleteAdminGroupInfo (short.Parse (groupid.ToString ()));  	Data.OnlineUsers.DeleteOnlineByUserGroup (groupid);  	Caches.ReSetAdminGroupList ();  	Caches.ReSetUserGroupList ();  	return true;  }  catch {  	return false;  }  
Magic Number,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,DeleteUserGroupInfo,The following statement contains a magic number: if (groupid >= 9) {  	DataTable dt = UserGroups.GetUserGroupExceptGroupid (groupid);  	if (dt.Rows.Count > 1) {  		UserGroupInfo info = UserGroups.GetUserGroupInfo (groupid);  		if (info.Radminid == 0) {  			int creditshigher = info.Creditshigher;  			int creditslower = info.Creditslower;  			SystemCheckCredits ("delete"' ref creditshigher' ref creditslower' groupid);  		}  	}  	else {  		if (dt.Rows.Count == 1) {  			//��ϵͳɾ����ǰ���ֻ��һ�������ʱ��ֱ������Ψһ������'�����޸�Ψһ�����޵�ֵ  			Data.UserGroups.UpdateUserGroupLowerAndHigherToLimit (Utils.StrToInt (dt.Rows [0] [0]' 0));  		}  		else {  			//ϵͳ���û���ֻ��һ��ʱ  			opresult = "��ǰ�û���Ϊϵͳ��Ψһ���û���'���ϵͳ�޷�ɾ��";  			return false;  		}  	}  }  
Magic Number,Discuz.Forum,AdminUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUsers.cs,UpdateUserAllInfo,The following statement contains a magic number: if ((userInfo.Adminid == 0) || (userInfo.Adminid > 3)) {  	//ɾ���û��ڰ����б����������  	Data.Moderators.DeleteModerator (userInfo.Uid);  	//ͬʱ���°����صİ�����Ϣ  	UpdateForumsFieldModerators (userInfo.Username);  }  
Magic Number,Discuz.Forum,AdminUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUsers.cs,UpdateUserAllInfo,The following statement contains a magic number: userInfo.Authstr = ForumUtils.CreateAuthStr (20);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetSelectStr,The following statement contains a magic number: if (selectstr == "")  	if (Convert.ToInt16 (adtype) > 10)  		selectstr = "type='" + typestr + "'";  	else  		selectstr = "type='" + typestr + "'  AND [targets] Like '%全部%'";  else  	selectstr = "type='" + typestr + "'  AND ([targets] Like '%" + selectstr + "%' OR [targets] Like '%全部%')";  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetSelectStr,The following statement contains a magic number: if (Convert.ToInt16 (adtype) > 10)  	selectstr = "type='" + typestr + "'";  else  	selectstr = "type='" + typestr + "'  AND [targets] Like '%全部%'";  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetInPostAd,The following statement contains a magic number: if (adshowArray.Length > 0) {  	sb.Append ("<div style=\"display: none;\" id=\"ad_none\">\r\n");  	//帖内下方的广告  	sb.Append (GetAdShowInfo (adshowArray' count' 0));  	//帖内上方的广告  	sb.Append (GetAdShowInfo (adshowArray' count' 1));  	//帖内右方的广告  	sb.Append (GetAdShowInfo (adshowArray' count' 2));  	sb.Append ("</div><script type='text/javascript' src='javascript/template_inforumad.js'></script>\r\n");  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetInPostAd,The following statement contains a magic number: sb.Append (GetAdShowInfo (adshowArray' count' 2));  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: for (int i = 1; i <= count; i++) {  	List<AdShowInfo> tmp = new List<AdShowInfo> ();  	string[] parameter;  	foreach (AdShowInfo adshow in adshowArray) {  		parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  		if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  			//parameter[8]: possibleflooridlist  			if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  				tmp.Add (adshow);  		}  	}  	if (tmp.Count > 0) {  		switch (inPostAdType) {  		case 0:  			//帖内下方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink1\" id=\"ad_thread1_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		case 1:  			//帖内上方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink2\" id=\"ad_thread2_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		default:  			//帖内右方的广告  			adsMsg += string.Format ("<div class=\"ad_pip\" id=\"ad_thread3_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: for (int i = 1; i <= count; i++) {  	List<AdShowInfo> tmp = new List<AdShowInfo> ();  	string[] parameter;  	foreach (AdShowInfo adshow in adshowArray) {  		parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  		if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  			//parameter[8]: possibleflooridlist  			if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  				tmp.Add (adshow);  		}  	}  	if (tmp.Count > 0) {  		switch (inPostAdType) {  		case 0:  			//帖内下方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink1\" id=\"ad_thread1_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		case 1:  			//帖内上方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink2\" id=\"ad_thread2_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		default:  			//帖内右方的广告  			adsMsg += string.Format ("<div class=\"ad_pip\" id=\"ad_thread3_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: for (int i = 1; i <= count; i++) {  	List<AdShowInfo> tmp = new List<AdShowInfo> ();  	string[] parameter;  	foreach (AdShowInfo adshow in adshowArray) {  		parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  		if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  			//parameter[8]: possibleflooridlist  			if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  				tmp.Add (adshow);  		}  	}  	if (tmp.Count > 0) {  		switch (inPostAdType) {  		case 0:  			//帖内下方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink1\" id=\"ad_thread1_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		case 1:  			//帖内上方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink2\" id=\"ad_thread2_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		default:  			//帖内右方的广告  			adsMsg += string.Format ("<div class=\"ad_pip\" id=\"ad_thread3_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: for (int i = 1; i <= count; i++) {  	List<AdShowInfo> tmp = new List<AdShowInfo> ();  	string[] parameter;  	foreach (AdShowInfo adshow in adshowArray) {  		parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  		if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  			//parameter[8]: possibleflooridlist  			if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  				tmp.Add (adshow);  		}  	}  	if (tmp.Count > 0) {  		switch (inPostAdType) {  		case 0:  			//帖内下方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink1\" id=\"ad_thread1_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		case 1:  			//帖内上方的广告  			adsMsg += string.Format ("<div class=\"ad_textlink2\" id=\"ad_thread2_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		default:  			//帖内右方的广告  			adsMsg += string.Format ("<div class=\"ad_pip\" id=\"ad_thread3_{0}_none\">{1}</div>\r\n"' i' tmp [random.Next (0' tmp.Count)].Code);  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray) {  	parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]: possibleflooridlist  		if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray) {  	parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]: possibleflooridlist  		if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray) {  	parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]: possibleflooridlist  		if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray) {  	parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]: possibleflooridlist  		if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: parameter = Utils.SplitString (adshow.Parameters.Trim ()' "|"' 9);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]: possibleflooridlist  	if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]: possibleflooridlist  	if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]: possibleflooridlist  	if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  	tmp.Add (adshow);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfo,The following statement contains a magic number: if (Utils.InArray (i.ToString ()' parameter [8]' "'") || parameter [8] == "0")  	tmp.Add (adshow);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetFloatAd,The following statement contains a magic number: return "<script type='text/javascript'>theFloaters.addItem('floatAdv''10''(document.body.clientHeight>document.documentElement.clientHeight ? document.documentElement.clientHeight :document.body.clientHeight)-" + (parameter [3] == "" ? "0" : parameter [3]) + "-40'''" + result + "');</script>";  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetFloatAd,The following statement contains a magic number: return "<script type='text/javascript'>theFloaters.addItem('floatAdv''10''(document.body.clientHeight>document.documentElement.clientHeight ? document.documentElement.clientHeight :document.body.clientHeight)-" + (parameter [3] == "" ? "0" : parameter [3]) + "-40'''" + result + "');</script>";  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdsMsg,The following statement contains a magic number: if (parameter [0].ToLower () == "flash")  	result = string.Format ("<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'19'0\" width=\"{0}\" height=\"{1}\"><param name=\"movie\" value=\"{2}\" /><param name=\"quality\" value=\"high\" /><param name=\"wmode\" value=\"opaque\">{3}<embed src=\"{2}\" wmode=\"opaque\" quality=\"high\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"{0}\" height=\"{1}\"></embed></object>"' parameter [2]' parameter [3]' parameter [1]' adshowArray [number].Code);  else  	result = adshowArray [number].Code;  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdsMsg,The following statement contains a magic number: if (parameter [0].ToLower () == "flash")  	result = string.Format ("<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'19'0\" width=\"{0}\" height=\"{1}\"><param name=\"movie\" value=\"{2}\" /><param name=\"quality\" value=\"high\" /><param name=\"wmode\" value=\"opaque\">{3}<embed src=\"{2}\" wmode=\"opaque\" quality=\"high\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"{0}\" height=\"{1}\"></embed></object>"' parameter [2]' parameter [3]' parameter [1]' adshowArray [number].Code);  else  	result = adshowArray [number].Code;  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdsMsg,The following statement contains a magic number: result = string.Format ("<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'19'0\" width=\"{0}\" height=\"{1}\"><param name=\"movie\" value=\"{2}\" /><param name=\"quality\" value=\"high\" /><param name=\"wmode\" value=\"opaque\">{3}<embed src=\"{2}\" wmode=\"opaque\" quality=\"high\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"{0}\" height=\"{1}\"></embed></object>"' parameter [2]' parameter [3]' parameter [1]' adshowArray [number].Code);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdsMsg,The following statement contains a magic number: result = string.Format ("<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7'0'19'0\" width=\"{0}\" height=\"{1}\"><param name=\"movie\" value=\"{2}\" /><param name=\"quality\" value=\"high\" /><param name=\"wmode\" value=\"opaque\">{3}<embed src=\"{2}\" wmode=\"opaque\" quality=\"high\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"{0}\" height=\"{1}\"></embed></object>"' parameter [2]' parameter [3]' parameter [1]' adshowArray [number].Code);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetDoubleAd,The following statement contains a magic number: doublestr.AppendFormat ("\ntheFloaters.addItem('coupleBannerAdv1'''(document.body.clientWidth>document.documentElement.clientWidth ? document.documentElement.clientWidth :document.body.clientWidth )-" + (parameter [2] == "" ? "0" : parameter [2]) + "-10''10''" + result + "<br /><img src=\"images/common/advclose.gif\" onMouseOver=\"this.style.cursor=\\\'hand\\\'\" onClick=\"closeBanner();\">');");  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetDoubleAd,The following statement contains a magic number: doublestr.AppendFormat ("\ntheFloaters.addItem('coupleBannerAdv1'''(document.body.clientWidth>document.documentElement.clientWidth ? document.documentElement.clientWidth :document.body.clientWidth )-" + (parameter [2] == "" ? "0" : parameter [2]) + "-10''10''" + result + "<br /><img src=\"images/common/advclose.gif\" onMouseOver=\"this.style.cursor=\\\'hand\\\'\" onClick=\"closeBanner();\">');");  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetInPostAdXMLByFloor,The following statement contains a magic number: if (adshowArray.Length > 0) {  	//帖内下方的广告  	sb.Append (GetAdShowInfoXMLByFloor (adshowArray' floor' 0));  	//帖内上方的广告  	sb.Append (GetAdShowInfoXMLByFloor (adshowArray' floor' 1));  	//帖内右方的广告  	sb.Append (GetAdShowInfoXMLByFloor (adshowArray' floor' 2));  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetInPostAdXMLByFloor,The following statement contains a magic number: sb.Append (GetAdShowInfoXMLByFloor (adshowArray' floor' 2));  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray)//可用的帖内下方广告   {  	string[] parameter = Utils.SplitString (adshow.Parameters.ToString ().Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]:possibleflooridlist  		if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray)//可用的帖内下方广告   {  	string[] parameter = Utils.SplitString (adshow.Parameters.ToString ().Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]:possibleflooridlist  		if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray)//可用的帖内下方广告   {  	string[] parameter = Utils.SplitString (adshow.Parameters.ToString ().Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]:possibleflooridlist  		if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: foreach (AdShowInfo adshow in adshowArray)//可用的帖内下方广告   {  	string[] parameter = Utils.SplitString (adshow.Parameters.ToString ().Trim ()' "|"' 9);  	if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  		//parameter[8]:possibleflooridlist  		if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  			tmp.Add (adshow);  	}  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]:possibleflooridlist  	if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]:possibleflooridlist  	if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: if (Utils.StrToInt (parameter [7]' -1) == inPostAdType) {  	//parameter[8]:possibleflooridlist  	if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  		tmp.Add (adshow);  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  	tmp.Add (adshow);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetAdShowInfoXMLByFloor,The following statement contains a magic number: if (Utils.InArray (floor.ToString ()' parameter [8]' "'") || parameter [8] == "0")  	tmp.Add (adshow);  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetQuickEditorBgAd,The following statement contains a magic number: if (adshowArray.Length > 0) {  	int number = new Random ().Next (0' adshowArray.Length);  	result [1] = adshowArray [number].Parameters.Split ('|') [1];  	result [0] = adshowArray [number].Parameters.Split ('|') [4];  }  
Magic Number,Discuz.Forum,Advertisements,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Advertisements.cs,GetQuickEditorBgAd,The following statement contains a magic number: result [0] = adshowArray [number].Parameters.Split ('|') [4];  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateAttachments,The following statement contains a magic number: for (int i = 0; i < acount; i++) {  	if (attachmentinfo [i] != null && attachmentinfo [i].Sys_noupload.Equals ("")) {  		aid [i] = Discuz.Data.Attachments.CreateAttachments (attachmentinfo [i]);  		icount++;  		tid = attachmentinfo [i].Tid;  		pid = attachmentinfo [i].Pid;  		attachmentinfo [i].Aid = aid [i];  		if (attachmentinfo [i].Filetype.ToLower ().StartsWith ("image"))  			attType = 2;  	}  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateAttachments,The following statement contains a magic number: if (attachmentinfo [i] != null && attachmentinfo [i].Sys_noupload.Equals ("")) {  	aid [i] = Discuz.Data.Attachments.CreateAttachments (attachmentinfo [i]);  	icount++;  	tid = attachmentinfo [i].Tid;  	pid = attachmentinfo [i].Pid;  	attachmentinfo [i].Aid = aid [i];  	if (attachmentinfo [i].Filetype.ToLower ().StartsWith ("image"))  		attType = 2;  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateAttachments,The following statement contains a magic number: if (attachmentinfo [i].Filetype.ToLower ().StartsWith ("image"))  	attType = 2;  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateAttachments,The following statement contains a magic number: attType = 2;  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: for (int i = 0; i < attachmentInfo.Length; i++) {  	if (attachmentInfo [i] == null)  		continue;  	if (attachmentInfo [i].Pid == 0)  		//如果附件pid=0，就代表它是新上传的附件  		newAttachCount++;  	string aid = attachmentInfo [i].Aid.ToString ();  	attachmentInfo [i].Uid = userId;  	attachmentInfo [i].Tid = topicId;  	attachmentInfo [i].Pid = postId;  	attachmentInfo [i].Postdatetime = Utils.GetDateTime ();  	attachmentInfo [i].Readperm = 0;  	//attachmentInfo[i].Attachprice = attachprice != null ? UserGroups.CheckUserGroupMaxPrice(userGroupInfo' Utils.StrToInt(attachprice[i]' 0)) : 0;  	int attachprice = Utils.StrToInt (DNTRequest.GetString ("attachprice_" + aid)' 0);  	attachmentInfo [i].Attachprice = attachprice == 0 ? 0 : UserGroups.CheckUserGroupMaxPrice (userGroupInfo' attachprice);  	int readperm = Utils.StrToInt (DNTRequest.GetString ("readperm_" + aid)' 0);  	if (readperm != 0) {  		i_readperm = readperm;  		//当为最大阅读仅限(255)时  		i_readperm = i_readperm > 255 ? 255 : i_readperm;  		attachmentInfo [i].Readperm = i_readperm;  	}  	//if (attachdesc != null && !attachdesc[i].Equals(""))  	attachmentInfo [i].Description = Utils.HtmlEncode (DNTRequest.GetString ("attachdesc_" + aid));  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: for (int i = 0; i < attachmentInfo.Length; i++) {  	if (attachmentInfo [i] == null)  		continue;  	if (attachmentInfo [i].Pid == 0)  		//如果附件pid=0，就代表它是新上传的附件  		newAttachCount++;  	string aid = attachmentInfo [i].Aid.ToString ();  	attachmentInfo [i].Uid = userId;  	attachmentInfo [i].Tid = topicId;  	attachmentInfo [i].Pid = postId;  	attachmentInfo [i].Postdatetime = Utils.GetDateTime ();  	attachmentInfo [i].Readperm = 0;  	//attachmentInfo[i].Attachprice = attachprice != null ? UserGroups.CheckUserGroupMaxPrice(userGroupInfo' Utils.StrToInt(attachprice[i]' 0)) : 0;  	int attachprice = Utils.StrToInt (DNTRequest.GetString ("attachprice_" + aid)' 0);  	attachmentInfo [i].Attachprice = attachprice == 0 ? 0 : UserGroups.CheckUserGroupMaxPrice (userGroupInfo' attachprice);  	int readperm = Utils.StrToInt (DNTRequest.GetString ("readperm_" + aid)' 0);  	if (readperm != 0) {  		i_readperm = readperm;  		//当为最大阅读仅限(255)时  		i_readperm = i_readperm > 255 ? 255 : i_readperm;  		attachmentInfo [i].Readperm = i_readperm;  	}  	//if (attachdesc != null && !attachdesc[i].Equals(""))  	attachmentInfo [i].Description = Utils.HtmlEncode (DNTRequest.GetString ("attachdesc_" + aid));  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: if (readperm != 0) {  	i_readperm = readperm;  	//当为最大阅读仅限(255)时  	i_readperm = i_readperm > 255 ? 255 : i_readperm;  	attachmentInfo [i].Readperm = i_readperm;  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: if (readperm != 0) {  	i_readperm = readperm;  	//当为最大阅读仅限(255)时  	i_readperm = i_readperm > 255 ? 255 : i_readperm;  	attachmentInfo [i].Readperm = i_readperm;  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: i_readperm = i_readperm > 255 ? 255 : i_readperm;  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,BindAttachment,The following statement contains a magic number: i_readperm = i_readperm > 255 ? 255 : i_readperm;  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,The following statement contains a magic number: if (files.Length > 1500) {  	QuickSort (files' 0' files.Length - 1);  	for (int i = files.Length - 1; i >= 1400; i--) {  		try {  			files [i].Delete ();  		}  		catch {  		}  	}  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,The following statement contains a magic number: if (files.Length > 1500) {  	QuickSort (files' 0' files.Length - 1);  	for (int i = files.Length - 1; i >= 1400; i--) {  		try {  			files [i].Delete ();  		}  		catch {  		}  	}  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,CreateTopicAttThumbnail,The following statement contains a magic number: for (int i = files.Length - 1; i >= 1400; i--) {  	try {  		files [i].Delete ();  	}  	catch {  	}  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The following statement contains a magic number: if (Utils.IsNumericArray (attachidArray)) {  	string[] attachdescArray = DNTRequest.GetFormString ("sl_attachdesc").Split (''');  	//所有已上传的附件的描述  	string[] readpermArray = DNTRequest.GetFormString ("sl_readperm").Split (''');  	//所有已上传得附件的阅读权限  	string[] attachprice = DNTRequest.GetString ("sl_attachprice") == null ? null : DNTRequest.GetString ("sl_attachprice").Split (''');  	int attType = 0;  	//普通附件'2为图片附件  	for (int i = 0; (i < attachidArray.Length && i <= GeneralConfigs.GetConfig ().Maxattachments); i++) {  		int aid = Utils.StrToInt (attachidArray [i]' 0);  		if (aid > 0 && Utils.IsSafeSqlString (attachdescArray [i])) {  			AttachmentInfo attachmentInfo = Attachments.GetAttachmentInfo (aid);  			attachmentInfo.Description = attachdescArray [i];  			attachmentInfo.Readperm = readpermArray.Length == attachidArray.Length ? Utils.StrToInt (readpermArray [i]' 0) : 0;  			attachmentInfo.Tid = topicid;  			attachmentInfo.Pid = postid;  			attachmentInfo.Attachprice = attachprice.Length == attachidArray.Length ? UserGroups.CheckUserGroupMaxPrice (usergroupinfo' Utils.StrToInt (attachprice [i]' 0)) : 0;  			Attachments.UpdateAttachment (attachmentInfo);  			attType = attachmentInfo.Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  		}  	}  	if (attType > 0)  		UpdateTopicAndPostAttachmentType (topicid' postid' attType);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The following statement contains a magic number: for (int i = 0; (i < attachidArray.Length && i <= GeneralConfigs.GetConfig ().Maxattachments); i++) {  	int aid = Utils.StrToInt (attachidArray [i]' 0);  	if (aid > 0 && Utils.IsSafeSqlString (attachdescArray [i])) {  		AttachmentInfo attachmentInfo = Attachments.GetAttachmentInfo (aid);  		attachmentInfo.Description = attachdescArray [i];  		attachmentInfo.Readperm = readpermArray.Length == attachidArray.Length ? Utils.StrToInt (readpermArray [i]' 0) : 0;  		attachmentInfo.Tid = topicid;  		attachmentInfo.Pid = postid;  		attachmentInfo.Attachprice = attachprice.Length == attachidArray.Length ? UserGroups.CheckUserGroupMaxPrice (usergroupinfo' Utils.StrToInt (attachprice [i]' 0)) : 0;  		Attachments.UpdateAttachment (attachmentInfo);  		attType = attachmentInfo.Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  	}  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The following statement contains a magic number: if (aid > 0 && Utils.IsSafeSqlString (attachdescArray [i])) {  	AttachmentInfo attachmentInfo = Attachments.GetAttachmentInfo (aid);  	attachmentInfo.Description = attachdescArray [i];  	attachmentInfo.Readperm = readpermArray.Length == attachidArray.Length ? Utils.StrToInt (readpermArray [i]' 0) : 0;  	attachmentInfo.Tid = topicid;  	attachmentInfo.Pid = postid;  	attachmentInfo.Attachprice = attachprice.Length == attachidArray.Length ? UserGroups.CheckUserGroupMaxPrice (usergroupinfo' Utils.StrToInt (attachprice [i]' 0)) : 0;  	Attachments.UpdateAttachment (attachmentInfo);  	attType = attachmentInfo.Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateSLUploadAttachInfo,The following statement contains a magic number: attType = attachmentInfo.Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (allowGetAttach != 1)  	replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' "<span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"));  //replacement = string.Format("<br /><img src=\"{0}images/attachicons/{1}\" alt=\"\">&nbsp;附件: <span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"' forumPath' attachIcon);  else if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (allowGetAttach != 1)  	replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' "<span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"));  //replacement = string.Format("<br /><img src=\"{0}images/attachicons/{1}\" alt=\"\">&nbsp;附件: <span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"' forumPath' attachIcon);  else if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (allowGetAttach != 1)  	replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' "<span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"));  //replacement = string.Format("<br /><img src=\"{0}images/attachicons/{1}\" alt=\"\">&nbsp;附件: <span class=\"attachnotdown\">您所在的用户组无法下载或查看附件</span>"' forumPath' attachIcon);  else if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Allowread == 1) {  	if (attachInfo.Filesize > 1024)  		fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  	else  		fileSize = attachInfo.Filesize + " B";  	string attachInfoEm = string.Format (ATTACH_INFO_EM' attachInfo.Filesize' attachInfo.Downloads);  	//string attachInfoA = string.Format("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment);  	if (Utils.IsImgFilename (attachInfo.Attachment))  		replacement = Attachments.ParseImageAttachContent (postPramsInfo' attachInfo' fileSize);  	else {  		attachInfo.Attachimgpost = 0;  		if (postPramsInfo.CurrentUserGroup.Radminid == 1 || postPramsInfo.CurrentUserid == attachInfo.Uid || attachInfo.Attachprice <= 0 || attachInfo.Isbought == 1)  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' string.Format ("<a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({2});\" target=\"_blank\">{3}</a>"' forumPath' attachInfo.Aid' attachInfo.Uid' attachInfo.Attachment) + attachInfoEm));  		//replacement = string.Format("<p><img alt=\"\" src=\"{0}images/attachicons/{6}\" border=\"0\"/><span class=\"bold\">附件</span>: <a href=\"{0}attachment.aspx?attachmentid={1}\" onclick=\"return ShowDownloadTip({7});\" target=\"_blank\">{2}</a> ({3}' {4})<br />该附件被下载次数 {5}</p>"' forumPath' attachInfo.Aid' attachInfo.Attachment.Trim()' attachInfo.Postdatetime' fileSize' attachInfo.Downloads' attachIcon' attachInfo.Uid);  		else  			replacement = string.Format (ATTACH_INFO_DL' attachInfoDtimg + string.Format (ATTACH_INFO_DD' attachInfo.Attachment + attachInfoEm + string.Format (PAID_ATTACH_LINK' Scoresets.GetTopicAttachCreditsTransName ()' attachInfo.Attachprice' attachInfo.Aid)));  		//replacement = string.Format(needPayAttachTemplateRow1 + needPayAttachTemplateRow2' forumPath' attachInfo.Attachment' attachIcon' attachInfo.Filesize' attachInfo.Downloads' attachInfo.Attachprice' attachInfo.Aid);  	}  }  else {  	if (postPramsInfo.CurrentUserid > 0)  		replacement = string.Format ("<br /><span class=\"notdown\">你的下载权限 {0} 低于此附件所需权限 {1}' 你无权查看此附件</span><br />"' postPramsInfo.Usergroupreadaccess' attachInfo.Readperm);  	else  		replacement = string.Format ("<div class=\"hide\">附件: <em><span class=\"attachnotdown\">你需要<a href=\"{0}login.aspx\" onclick=\"hideWindow('register');showWindow('login'' this.href);\">登录</a>才可以下载或查看附件。没有帐号? <a href=\"{0}register.aspx\" onclick=\"hideWindow('login');showWindow('register'' this.href);\" title=\"注册帐号\">注册</a></span></em></div>"' BaseConfigs.GetForumPath);  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Filesize > 1024)  	fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  else  	fileSize = attachInfo.Filesize + " B";  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Filesize > 1024)  	fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  else  	fileSize = attachInfo.Filesize + " B";  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: if (attachInfo.Filesize > 1024)  	fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  else  	fileSize = attachInfo.Filesize + " B";  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,GetAttachReplacement,The following statement contains a magic number: fileSize = Convert.ToString (Math.Round (Convert.ToDecimal (attachInfo.Filesize) / 1024' 2)) + " K";  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateAttachment,The following statement contains a magic number: for (int i = 0; i < attachmentArray.Length; i++) {  	//attachmentinfoarray[i].Tid = topicid;  	//attachmentinfoarray[i].Pid = postid;  	Attachments.UpdateAttachment (attachmentArray [i]);  	aid [i] = attachmentArray [i].Aid;  	attType = attachmentArray [i].Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  }  
Magic Number,Discuz.Forum,Attachments,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Attachments.cs,UpdateAttachment,The following statement contains a magic number: attType = attachmentArray [i].Filetype.ToLower ().StartsWith ("image") ? 2 : 1;  
Magic Number,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The following statement contains a magic number: topicinfo.Special = 3;  
Magic Number,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The following statement contains a magic number: for (int i = 0; i < winerIdArray.Length; i++) {  	bonus = TypeConverter.StrToInt (costBonusArray [i]);  	if (winerIdArray [i] > 0 && bonus > 0)  		Users.UpdateUserExtCredits (winerIdArray [i]' Scoresets.GetBonusCreditsTrans ()' bonus);  	if (Utils.InArray (postIdArray [i].ToString ()' valuableAnswerArray))  		isbest = 1;  	if (postIdArray [i] == bestAnswer)  		isbest = 2;  	Discuz.Data.Bonus.AddLog (topicinfo.Tid' topicinfo.Posterid' winerIdArray [i]' winnerNameArray [i]' postIdArray [i]' bonus' Scoresets.GetBonusCreditsTrans ()' isbest);  }  
Magic Number,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The following statement contains a magic number: if (postIdArray [i] == bestAnswer)  	isbest = 2;  
Magic Number,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,CloseBonus,The following statement contains a magic number: isbest = 2;  
Magic Number,Discuz.Forum,Bonus,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Bonus.cs,GetLogs,The following statement contains a magic number: return (topic.Tid > 0 && topic.Special == 3) ? Discuz.Data.Bonus.GetLogs (topic.Tid' Posts.GetPostTableId (topic.Tid)) : null;  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesList"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesList"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesList"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesList"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: foreach (DataRow drCate in dt.Copy ().Rows) {  	if (drCate ["type"].ToString () == "0") {  		builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		bool flag = false;  		foreach (DataRow dr in dt.Rows) {  			if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  				builder.Append ("{'code' : '");  				builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'' 'url' : '");  				builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'}'\r\n");  				flag = true;  			}  		}  		if (builder.Length > 0 && flag)  			builder.Remove (builder.Length - 3' 3);  		builder.Append ("\r\n]'\r\n");  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: foreach (DataRow drCate in dt.Copy ().Rows) {  	if (drCate ["type"].ToString () == "0") {  		builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		bool flag = false;  		foreach (DataRow dr in dt.Rows) {  			if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  				builder.Append ("{'code' : '");  				builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'' 'url' : '");  				builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'}'\r\n");  				flag = true;  			}  		}  		if (builder.Length > 0 && flag)  			builder.Remove (builder.Length - 3' 3);  		builder.Append ("\r\n]'\r\n");  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (drCate ["type"].ToString () == "0") {  	builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	bool flag = false;  	foreach (DataRow dr in dt.Rows) {  		if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  			builder.Append ("{'code' : '");  			builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'' 'url' : '");  			builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'}'\r\n");  			flag = true;  		}  	}  	if (builder.Length > 0 && flag)  		builder.Remove (builder.Length - 3' 3);  	builder.Append ("\r\n]'\r\n");  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (drCate ["type"].ToString () == "0") {  	builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	bool flag = false;  	foreach (DataRow dr in dt.Rows) {  		if (dr ["type"].ToString () == drCate ["id"].ToString ()) {  			builder.Append ("{'code' : '");  			builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'' 'url' : '");  			builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'}'\r\n");  			flag = true;  		}  	}  	if (builder.Length > 0 && flag)  		builder.Remove (builder.Length - 3' 3);  	builder.Append ("\r\n]'\r\n");  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (builder.Length > 0 && flag)  	builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: if (builder.Length > 0 && flag)  	builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			int smiliescount = 0;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  					smiliescount++;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  			break;  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesListFirstPage"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			int smiliescount = 0;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  					smiliescount++;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  			break;  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesListFirstPage"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			int smiliescount = 0;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  					smiliescount++;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  			break;  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesListFirstPage"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			int smiliescount = 0;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  					smiliescount++;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  			break;  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesListFirstPage"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (str)) {  	StringBuilder builder = new StringBuilder ();  	DataTable dt = Discuz.Data.Smilies.GetSmiliesListDataTable ();  	foreach (DataRow drCate in dt.Copy ().Rows) {  		if (drCate ["type"].ToString () == "0") {  			builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			bool flag = false;  			int smiliescount = 0;  			foreach (DataRow dr in dt.Rows) {  				if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  					builder.Append ("{'code' : '");  					builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'' 'url' : '");  					builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  					builder.Append ("'}'\r\n");  					flag = true;  					smiliescount++;  				}  			}  			if (builder.Length > 0 && flag)  				builder.Remove (builder.Length - 3' 3);  			builder.Append ("\r\n]'\r\n");  			break;  		}  	}  	builder.Remove (builder.Length - 3' 3);  	str = builder.ToString ();  	cache.AddObject ("/Forum/UI/SmiliesListFirstPage"' str);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: foreach (DataRow drCate in dt.Copy ().Rows) {  	if (drCate ["type"].ToString () == "0") {  		builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		bool flag = false;  		int smiliescount = 0;  		foreach (DataRow dr in dt.Rows) {  			if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  				builder.Append ("{'code' : '");  				builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'' 'url' : '");  				builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'}'\r\n");  				flag = true;  				smiliescount++;  			}  		}  		if (builder.Length > 0 && flag)  			builder.Remove (builder.Length - 3' 3);  		builder.Append ("\r\n]'\r\n");  		break;  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: foreach (DataRow drCate in dt.Copy ().Rows) {  	if (drCate ["type"].ToString () == "0") {  		builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		bool flag = false;  		int smiliescount = 0;  		foreach (DataRow dr in dt.Rows) {  			if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  				builder.Append ("{'code' : '");  				builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'' 'url' : '");  				builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'}'\r\n");  				flag = true;  				smiliescount++;  			}  		}  		if (builder.Length > 0 && flag)  			builder.Remove (builder.Length - 3' 3);  		builder.Append ("\r\n]'\r\n");  		break;  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: foreach (DataRow drCate in dt.Copy ().Rows) {  	if (drCate ["type"].ToString () == "0") {  		builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		bool flag = false;  		int smiliescount = 0;  		foreach (DataRow dr in dt.Rows) {  			if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  				builder.Append ("{'code' : '");  				builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'' 'url' : '");  				builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  				builder.Append ("'}'\r\n");  				flag = true;  				smiliescount++;  			}  		}  		if (builder.Length > 0 && flag)  			builder.Remove (builder.Length - 3' 3);  		builder.Append ("\r\n]'\r\n");  		break;  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (drCate ["type"].ToString () == "0") {  	builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	bool flag = false;  	int smiliescount = 0;  	foreach (DataRow dr in dt.Rows) {  		if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  			builder.Append ("{'code' : '");  			builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'' 'url' : '");  			builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'}'\r\n");  			flag = true;  			smiliescount++;  		}  	}  	if (builder.Length > 0 && flag)  		builder.Remove (builder.Length - 3' 3);  	builder.Append ("\r\n]'\r\n");  	break;  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (drCate ["type"].ToString () == "0") {  	builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	bool flag = false;  	int smiliescount = 0;  	foreach (DataRow dr in dt.Rows) {  		if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  			builder.Append ("{'code' : '");  			builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'' 'url' : '");  			builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'}'\r\n");  			flag = true;  			smiliescount++;  		}  	}  	if (builder.Length > 0 && flag)  		builder.Remove (builder.Length - 3' 3);  	builder.Append ("\r\n]'\r\n");  	break;  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (drCate ["type"].ToString () == "0") {  	builder.AppendFormat ("'{0}': [\r\n"' drCate ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	bool flag = false;  	int smiliescount = 0;  	foreach (DataRow dr in dt.Rows) {  		if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  			builder.Append ("{'code' : '");  			builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'' 'url' : '");  			builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  			builder.Append ("'}'\r\n");  			flag = true;  			smiliescount++;  		}  	}  	if (builder.Length > 0 && flag)  		builder.Remove (builder.Length - 3' 3);  	builder.Append ("\r\n]'\r\n");  	break;  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  		builder.Append ("{'code' : '");  		builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  		builder.Append ("'' 'url' : '");  		builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  		builder.Append ("'}'\r\n");  		flag = true;  		smiliescount++;  	}  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (dr ["type"].ToString () == drCate ["id"].ToString () && smiliescount < 16) {  	builder.Append ("{'code' : '");  	builder.Append (dr ["code"].ToString ().Trim ().Replace ("'"' "\\'"));  	builder.Append ("'' 'url' : '");  	builder.Append (dr ["url"].ToString ().Trim ().Replace ("'"' "\\'"));  	builder.Append ("'}'\r\n");  	flag = true;  	smiliescount++;  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (builder.Length > 0 && flag)  	builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: if (builder.Length > 0 && flag)  	builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetSmiliesFirstPageCache,The following statement contains a magic number: builder.Remove (builder.Length - 3' 3);  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetBanWordList,The following statement contains a magic number: if (str == null) {  	DataTable dt = DatabaseProvider.GetInstance ().GetBanWordList ();  	str = new string[dt.Rows.Count' 2];  	string temp = "";  	for (int i = 0; i < dt.Rows.Count; i++) {  		temp = dt.Rows [i] ["find"].ToString ().Trim ();  		foreach (Match m in r.Matches (temp)) {  			temp = temp.Replace (m.Groups [0].ToString ()' m.Groups [0].ToString ().Replace ("{"' ".{0'"));  		}  		str [i' 0] = BanWords.ConvertRegexCode (temp);  		str [i' 1] = dt.Rows [i] ["replacement"].ToString ().Trim ();  	}  	cache.AddObject ("/Forum/BanWordList"' str);  	dt.Dispose ();  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetBanWordList,The following statement contains a magic number: str = new string[dt.Rows.Count' 2];  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: if (str == null) {  	Random rdm1 = new Random (unchecked((int)DateTime.Now.Ticks));  	StringBuilder sb = new StringBuilder ();  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	sb.Append (System.Web.HttpContext.Current.Request.Url.Authority);  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	str = sb.ToString ();  	str = Utils.HtmlEncode (str);  	if (sb.Length > 0)  		sb.Remove (0' sb.Length);  	str = sb.AppendFormat ("<span class=\"jammer\">{0}</span>"' str).ToString ();  	cache.AddObject ("/Forum/UI/Jammer"' str' 720);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: if (str == null) {  	Random rdm1 = new Random (unchecked((int)DateTime.Now.Ticks));  	StringBuilder sb = new StringBuilder ();  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	sb.Append (System.Web.HttpContext.Current.Request.Url.Authority);  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	str = sb.ToString ();  	str = Utils.HtmlEncode (str);  	if (sb.Length > 0)  		sb.Remove (0' sb.Length);  	str = sb.AppendFormat ("<span class=\"jammer\">{0}</span>"' str).ToString ();  	cache.AddObject ("/Forum/UI/Jammer"' str' 720);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: if (str == null) {  	Random rdm1 = new Random (unchecked((int)DateTime.Now.Ticks));  	StringBuilder sb = new StringBuilder ();  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	sb.Append (System.Web.HttpContext.Current.Request.Url.Authority);  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	str = sb.ToString ();  	str = Utils.HtmlEncode (str);  	if (sb.Length > 0)  		sb.Remove (0' sb.Length);  	str = sb.AppendFormat ("<span class=\"jammer\">{0}</span>"' str).ToString ();  	cache.AddObject ("/Forum/UI/Jammer"' str' 720);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: if (str == null) {  	Random rdm1 = new Random (unchecked((int)DateTime.Now.Ticks));  	StringBuilder sb = new StringBuilder ();  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	sb.Append (System.Web.HttpContext.Current.Request.Url.Authority);  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	str = sb.ToString ();  	str = Utils.HtmlEncode (str);  	if (sb.Length > 0)  		sb.Remove (0' sb.Length);  	str = sb.AppendFormat ("<span class=\"jammer\">{0}</span>"' str).ToString ();  	cache.AddObject ("/Forum/UI/Jammer"' str' 720);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: if (str == null) {  	Random rdm1 = new Random (unchecked((int)DateTime.Now.Ticks));  	StringBuilder sb = new StringBuilder ();  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	sb.Append (System.Web.HttpContext.Current.Request.Url.Authority);  	for (int i = 0; i < 10; i++) {  		sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  	}  	str = sb.ToString ();  	str = Utils.HtmlEncode (str);  	if (sb.Length > 0)  		sb.Remove (0' sb.Length);  	str = sb.AppendFormat ("<span class=\"jammer\">{0}</span>"' str).ToString ();  	cache.AddObject ("/Forum/UI/Jammer"' str' 720);  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: for (int i = 0; i < 10; i++) {  	sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: for (int i = 0; i < 10; i++) {  	sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: for (int i = 0; i < 10; i++) {  	sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: for (int i = 0; i < 10; i++) {  	sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  }  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: sb.Append (Convert.ToChar (rdm1.Next (1' 256)));  
Magic Number,Discuz.Forum,Caches,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Caches.cs,GetJammer,The following statement contains a magic number: cache.AddObject ("/Forum/UI/Jammer"' str' 720);  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: switch (callback) {  //��ȡ������Ϣ  case "gethotdebatetopic": {  	string[] debatesrule = Utils.StrIsNullOrEmpty (tidlist) ? new string[0] : tidlist.Split (''');  	if (debatesrule.Length < 3)  		break;  	else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  		break;  	return Discuz.Data.Debates.GetDebatesJsonList (callback' debatesrule [0]' TypeConverter.StrToInt (debatesrule [1])' TypeConverter.StrToInt (debatesrule [2]));  }  //��ȡ�Ƽ�����������Ϣ  case "recommenddebates": {  	if (!Utils.IsNumericList (tidlist))  		break;  	if (Utils.StrIsNullOrEmpty (tidlist))  		tidlist = GeneralConfigs.GetConfig ().Recommenddebates;  	return Discuz.Data.Debates.GetRecommendDebates (callback' tidlist);  }  default:  	break;  }  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: switch (callback) {  //��ȡ������Ϣ  case "gethotdebatetopic": {  	string[] debatesrule = Utils.StrIsNullOrEmpty (tidlist) ? new string[0] : tidlist.Split (''');  	if (debatesrule.Length < 3)  		break;  	else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  		break;  	return Discuz.Data.Debates.GetDebatesJsonList (callback' debatesrule [0]' TypeConverter.StrToInt (debatesrule [1])' TypeConverter.StrToInt (debatesrule [2]));  }  //��ȡ�Ƽ�����������Ϣ  case "recommenddebates": {  	if (!Utils.IsNumericList (tidlist))  		break;  	if (Utils.StrIsNullOrEmpty (tidlist))  		tidlist = GeneralConfigs.GetConfig ().Recommenddebates;  	return Discuz.Data.Debates.GetRecommendDebates (callback' tidlist);  }  default:  	break;  }  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: switch (callback) {  //��ȡ������Ϣ  case "gethotdebatetopic": {  	string[] debatesrule = Utils.StrIsNullOrEmpty (tidlist) ? new string[0] : tidlist.Split (''');  	if (debatesrule.Length < 3)  		break;  	else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  		break;  	return Discuz.Data.Debates.GetDebatesJsonList (callback' debatesrule [0]' TypeConverter.StrToInt (debatesrule [1])' TypeConverter.StrToInt (debatesrule [2]));  }  //��ȡ�Ƽ�����������Ϣ  case "recommenddebates": {  	if (!Utils.IsNumericList (tidlist))  		break;  	if (Utils.StrIsNullOrEmpty (tidlist))  		tidlist = GeneralConfigs.GetConfig ().Recommenddebates;  	return Discuz.Data.Debates.GetRecommendDebates (callback' tidlist);  }  default:  	break;  }  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: if (debatesrule.Length < 3)  	break;  else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  	break;  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: if (debatesrule.Length < 3)  	break;  else if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  	break;  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: if (debatesrule [0] != "views" && debatesrule [0] != "replies" && Utils.IsNumeric (debatesrule [1]) && Utils.IsNumeric (debatesrule [2]))  	break;  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetDebatesJsonList,The following statement contains a magic number: return Discuz.Data.Debates.GetDebatesJsonList (callback' debatesrule [0]' TypeConverter.StrToInt (debatesrule [1])' TypeConverter.StrToInt (debatesrule [2]));  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,IsValidDebates,The following statement contains a magic number: if (tid == 0 || topicinfo.Special != 4) {  	xmlnode.Append ("<error>�����ⲻ�Ǳ��������޷�����</error>");  	return xmlnode;  }  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,AllowDiggs,The following statement contains a magic number: if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 0 && userid == -1)  	return false;  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,IsDigged,The following statement contains a magic number: if (UserGroups.GetUserGroupInfo (7).Allowdiggs != 1)  	return !DatabaseProvider.GetInstance ().AllowDiggs (pid' userid);  else {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("debatedigged")))  		return false;  	foreach (string s in Utils.GetCookie ("debatedigged").Split (''')) {  		if (pid == Utils.StrToInt (s' 0))  			return true;  	}  }  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,WriteCookies,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty ((Utils.GetCookie ("debatedigged"))))  	Utils.WriteCookie ("debatedigged"' pid.ToString ()' 1440);  else  	Utils.WriteCookie ("debatedigged"' Utils.GetCookie ("debatedigged") + "'" + pid' 1440);  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,WriteCookies,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty ((Utils.GetCookie ("debatedigged"))))  	Utils.WriteCookie ("debatedigged"' pid.ToString ()' 1440);  else  	Utils.WriteCookie ("debatedigged"' Utils.GetCookie ("debatedigged") + "'" + pid' 1440);  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,WriteCookies,The following statement contains a magic number: Utils.WriteCookie ("debatedigged"' pid.ToString ()' 1440);  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,WriteCookies,The following statement contains a magic number: Utils.WriteCookie ("debatedigged"' Utils.GetCookie ("debatedigged") + "'" + pid' 1440);  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,GetNegativePostList,The following statement contains a magic number: return GetDebatePostList (postpramsInfo' out attachmentlist' ismoder' 2' new PostOrderType ());  
Magic Number,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,DeleteDebatePost,The following statement contains a magic number: switch (opinion) {  case 1:  	Discuz.Data.Debates.DeleteDebatePost (tid' "positivediggs"' pid);  	break;  case 2:  	Discuz.Data.Debates.DeleteDebatePost (tid' "negativediggs"' pid);  	break;  }  
Magic Number,Discuz.Forum,Editors,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Editors.cs,ResetRegexCustomTag,The following statement contains a magic number: for (int i = 0; i < tagCount; i++) {  	if (builder.Length > 0)  		builder.Remove (0' builder.Length);  	builder.Append (@"(\[");  	builder.Append (tagList [i].Tag);  	if (tagList [i].Params > 1) {  		builder.Append ("=");  		for (int j = 2; j <= tagList [i].Params; j++) {  			builder.Append (@"(.*?)");  			if (j < tagList [i].Params)  				builder.Append ("'");  		}  	}  	builder.Append (@"\])([\s\S]+?)\[\/");  	builder.Append (tagList [i].Tag);  	builder.Append (@"\]");  	regexCustomTag [i] = new Regex (builder.ToString ()' RegexOptions.IgnoreCase);  }  
Magic Number,Discuz.Forum,Editors,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Editors.cs,ResetRegexCustomTag,The following statement contains a magic number: if (tagList [i].Params > 1) {  	builder.Append ("=");  	for (int j = 2; j <= tagList [i].Params; j++) {  		builder.Append (@"(.*?)");  		if (j < tagList [i].Params)  			builder.Append ("'");  	}  }  
Magic Number,Discuz.Forum,Editors,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Editors.cs,ResetRegexCustomTag,The following statement contains a magic number: for (int j = 2; j <= tagList [i].Params; j++) {  	builder.Append (@"(.*?)");  	if (j < tagList [i].Params)  		builder.Append ("'");  }  
Magic Number,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (successfulCount > 100)  		break;  	EmailMultiThread emt = new EmailMultiThread (dr ["username"].ToString ().Trim ()' dr ["email"].ToString ().Trim ()' subject' body);  	lThreads [count] = new Thread (new ThreadStart (emt.Send));  	lThreads [count].Start ();  	if (count >= percount) {  		Thread.Sleep (5000);  		count = 0;  	}  	result.Append (dr ["uid"].ToString ());  	result.Append ("'");  	successfulCount++;  	count++;  }  
Magic Number,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (successfulCount > 100)  		break;  	EmailMultiThread emt = new EmailMultiThread (dr ["username"].ToString ().Trim ()' dr ["email"].ToString ().Trim ()' subject' body);  	lThreads [count] = new Thread (new ThreadStart (emt.Send));  	lThreads [count].Start ();  	if (count >= percount) {  		Thread.Sleep (5000);  		count = 0;  	}  	result.Append (dr ["uid"].ToString ());  	result.Append ("'");  	successfulCount++;  	count++;  }  
Magic Number,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The following statement contains a magic number: if (successfulCount > 100)  	break;  
Magic Number,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The following statement contains a magic number: if (count >= percount) {  	Thread.Sleep (5000);  	count = 0;  }  
Magic Number,Discuz.Forum,Emails,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Emails.cs,SendMailToUsers,The following statement contains a magic number: Thread.Sleep (5000);  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetRssXml,The following statement contains a magic number: if (rssContent == null) {  	UserGroupInfo guestinfo = UserGroups.GetUserGroupInfo (7);  	StringBuilder forumlist = new StringBuilder ();  	//允许访问的板块Id列表  	foreach (ForumInfo f in Forums.GetForumList ()) {  		//当前版块允许rss订阅  		if (f.Allowrss == 1) {  			//板块有权限设置信息时  			if (!Utils.StrIsNullOrEmpty (f.Viewperm)) {  				if (Utils.InArray ("7"' f.Viewperm' "'"))  					forumlist.AppendFormat ("'{0}"' f.Fid);  			}  			else {  				if (guestinfo.Allowvisit == 1)  					forumlist.AppendFormat ("'{0}"' f.Fid);  			}  		}  		//if (f.Allowrss == 0)  		//    forumlist.AppendFormat("'{0}"' f.Fid);  		//else  		//{  		//    //板块权限设置为空，按照用户组权限走，RSS仅检查游客权限  		//    if (Utils.StrIsNullOrEmpty(f.Viewperm))  		//    {  		//        if (guestinfo.Allowvisit == 0)  		//            forumlist.AppendFormat("'{0}"' f.Fid);  		//    }  		//    else  		//    {  		//        if (!Utils.InArray("7"' f.Viewperm' "'"))  		//            forumlist.AppendFormat("'{0}"' f.Fid);  		//    }  		//}  	}  	rssContent = Discuz.Data.Feeds.BuildRssOutput (ttl' forumlist.ToString ().Trim (''')' "");  	cache.AddObject ("/Forum/RSS/Index"' rssContent' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetRssXml,The following statement contains a magic number: if (rssContent == null) {  	UserGroupInfo guestinfo = UserGroups.GetUserGroupInfo (7);  	StringBuilder forumlist = new StringBuilder ();  	//允许访问的板块Id列表  	foreach (ForumInfo f in Forums.GetForumList ()) {  		//当前版块允许rss订阅  		if (f.Allowrss == 1) {  			//板块有权限设置信息时  			if (!Utils.StrIsNullOrEmpty (f.Viewperm)) {  				if (Utils.InArray ("7"' f.Viewperm' "'"))  					forumlist.AppendFormat ("'{0}"' f.Fid);  			}  			else {  				if (guestinfo.Allowvisit == 1)  					forumlist.AppendFormat ("'{0}"' f.Fid);  			}  		}  		//if (f.Allowrss == 0)  		//    forumlist.AppendFormat("'{0}"' f.Fid);  		//else  		//{  		//    //板块权限设置为空，按照用户组权限走，RSS仅检查游客权限  		//    if (Utils.StrIsNullOrEmpty(f.Viewperm))  		//    {  		//        if (guestinfo.Allowvisit == 0)  		//            forumlist.AppendFormat("'{0}"' f.Fid);  		//    }  		//    else  		//    {  		//        if (!Utils.InArray("7"' f.Viewperm' "'"))  		//            forumlist.AppendFormat("'{0}"' f.Fid);  		//    }  		//}  	}  	rssContent = Discuz.Data.Feeds.BuildRssOutput (ttl' forumlist.ToString ().Trim (''')' "");  	cache.AddObject ("/Forum/RSS/Index"' rssContent' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetRssXml,The following statement contains a magic number: cache.AddObject ("/Forum/RSS/Index"' rssContent' ttl * 60);  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetForumRssXml,The following statement contains a magic number: if (rssContent == null) {  	ForumInfo forum = Forums.GetForumInfo (fid);  	if (forum == null)  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Specified forum not found</Rss>\r\n";  	//板块d有权限设置，按照用户组权限走，RSS仅检查游客权限  	if (!Utils.StrIsNullOrEmpty (forum.Viewperm) && !Utils.InArray ("7"' forum.Viewperm' "'"))  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  	else if (UserGroups.GetUserGroupInfo (7).Allowvisit == 0)  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  	rssContent = Discuz.Data.Feeds.BuildRssOutput (ttl' fid.ToString ()' forum.Name);  	cache.AddObject ("/Forum/RSS/Forum" + fid' rssContent' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetForumRssXml,The following statement contains a magic number: if (rssContent == null) {  	ForumInfo forum = Forums.GetForumInfo (fid);  	if (forum == null)  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Specified forum not found</Rss>\r\n";  	//板块d有权限设置，按照用户组权限走，RSS仅检查游客权限  	if (!Utils.StrIsNullOrEmpty (forum.Viewperm) && !Utils.InArray ("7"' forum.Viewperm' "'"))  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  	else if (UserGroups.GetUserGroupInfo (7).Allowvisit == 0)  		return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  	rssContent = Discuz.Data.Feeds.BuildRssOutput (ttl' fid.ToString ()' forum.Name);  	cache.AddObject ("/Forum/RSS/Forum" + fid' rssContent' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetForumRssXml,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (forum.Viewperm) && !Utils.InArray ("7"' forum.Viewperm' "'"))  	return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  else if (UserGroups.GetUserGroupInfo (7).Allowvisit == 0)  	return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetForumRssXml,The following statement contains a magic number: if (UserGroups.GetUserGroupInfo (7).Allowvisit == 0)  	return "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Rss>Guest Denied</Rss>\r\n";  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetForumRssXml,The following statement contains a magic number: cache.AddObject ("/Forum/RSS/Forum" + fid' rssContent' ttl * 60);  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetBaiduSitemap,The following statement contains a magic number: if (sitemap == null) {  	UserGroupInfo guestinfo = UserGroups.GetUserGroupInfo (7);  	StringBuilder sbforumlist = new StringBuilder ();  	//不允许游客访问的板块Id列表                  	foreach (ForumInfo f in Forums.GetForumList ()) {  		if (f.Allowrss == 0)  			sbforumlist.AppendFormat ("'{0}"' f.Fid);  		else {  			//板块权限设置为空，按照用户组权限走，RSS仅检查游客权限  			//if (Utils.StrIsNullOrEmpty(f.Viewperm) && guestinfo.Allowvisit == 0)  			//    sbforumlist.AppendFormat("'{0}"' f.Fid);  			//else  			//{  			//    if (!Utils.InArray("7"' f.Viewperm' "'"))  			//        sbforumlist.AppendFormat("'{0}"' f.Fid);  			//}  			if (string.IsNullOrEmpty (f.Viewperm)) {  				if (guestinfo.Allowvisit == 0)  					sbforumlist.AppendFormat ("'{0}"' f.Fid);  			}  			else if (!Utils.InArray ("7"' f.Viewperm' "'")) {  				sbforumlist.AppendFormat ("'{0}"' f.Fid);  			}  		}  	}  	sbforumlist = sbforumlist.Length > 0 ? sbforumlist.Remove (0' 1) : sbforumlist;  	sitemap = Discuz.Data.Feeds.GetBaiduSitemap (sbforumlist.ToString ()' Users.GetShortUserInfo (BaseConfigs.GetFounderUid));  	cache.AddObject ("/Forum/Sitemap/Baidu"' sitemap' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetBaiduSitemap,The following statement contains a magic number: if (sitemap == null) {  	UserGroupInfo guestinfo = UserGroups.GetUserGroupInfo (7);  	StringBuilder sbforumlist = new StringBuilder ();  	//不允许游客访问的板块Id列表                  	foreach (ForumInfo f in Forums.GetForumList ()) {  		if (f.Allowrss == 0)  			sbforumlist.AppendFormat ("'{0}"' f.Fid);  		else {  			//板块权限设置为空，按照用户组权限走，RSS仅检查游客权限  			//if (Utils.StrIsNullOrEmpty(f.Viewperm) && guestinfo.Allowvisit == 0)  			//    sbforumlist.AppendFormat("'{0}"' f.Fid);  			//else  			//{  			//    if (!Utils.InArray("7"' f.Viewperm' "'"))  			//        sbforumlist.AppendFormat("'{0}"' f.Fid);  			//}  			if (string.IsNullOrEmpty (f.Viewperm)) {  				if (guestinfo.Allowvisit == 0)  					sbforumlist.AppendFormat ("'{0}"' f.Fid);  			}  			else if (!Utils.InArray ("7"' f.Viewperm' "'")) {  				sbforumlist.AppendFormat ("'{0}"' f.Fid);  			}  		}  	}  	sbforumlist = sbforumlist.Length > 0 ? sbforumlist.Remove (0' 1) : sbforumlist;  	sitemap = Discuz.Data.Feeds.GetBaiduSitemap (sbforumlist.ToString ()' Users.GetShortUserInfo (BaseConfigs.GetFounderUid));  	cache.AddObject ("/Forum/Sitemap/Baidu"' sitemap' ttl * 60);  }  
Magic Number,Discuz.Forum,Feeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Feeds.cs,GetBaiduSitemap,The following statement contains a magic number: cache.AddObject ("/Forum/Sitemap/Baidu"' sitemap' ttl * 60);  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetDigestTopicList,The following statement contains a magic number: return GetTopicList (count' -1' 0' ""' TopicTimeType.All' TopicOrderType.ID' true' 20' false' "");  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetDigestTopicList,The following statement contains a magic number: return GetTopicList (count' -1' fid' ""' timetype' ordertype' true' 20' false' "");  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetHotTopicList,The following statement contains a magic number: return GetTopicList (count' views' 0' ""' TopicTimeType.All' TopicOrderType.ID' false' 20' false' "");  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetHotTopicList,The following statement contains a magic number: return GetTopicList (count' views' fid' ""' timetype' ordertype' false' 20' false' "");  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetRecentTopicList,The following statement contains a magic number: return GetTopicList (count' -1' 0' ""' TopicTimeType.All' TopicOrderType.ID' false' 20' false' "");  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The following statement contains a magic number: count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The following statement contains a magic number: if (dt == null) {  	if (fidlist == "") {  		fidlist = Forums.GetVisibleForum ();  	}  	//dt = Discuz.Data.Topics.GetTopicList(count' views' fid' typeIdList' GetStartDate(timetype)' GetFieldName(ordertype)' Forums.GetVisibleForum()' isdigest' onlyimg);  	dt = Discuz.Data.Topics.GetTopicList (count' views' fid' typeIdList' GetStartDate (timetype)' GetFieldName (ordertype)' fidlist' isdigest' onlyimg);  	//声明新的缓存策略接口  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = cachetime * 60;  	//cache.LoadCacheStrategy(ics);  	cache.AddObject (cacheKey' dt' cachetime * 60);  	//cache.LoadDefaultCacheStrategy();  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetTopicList,The following statement contains a magic number: cache.AddObject (cacheKey' dt' cachetime * 60);  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetUpdatedSpaces,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetUpdatedSpaces,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetUpdatedSpaces,The following statement contains a magic number: count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetUpdatedSpaces,The following statement contains a magic number: if (dt == null) {  	dt = SpacePluginProvider.GetInstance ().GetWebSiteAggRecentUpdateSpaceList (count);  	//声明新的缓存策略接口  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = cachetime * 60;  	//cache.LoadCacheStrategy(ics);  	cache.AddObject (cacheKey' dt' cachetime * 60);  	//cache.LoadDefaultCacheStrategy();  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetUpdatedSpaces,The following statement contains a magic number: cache.AddObject (cacheKey' dt' cachetime * 60);  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetNewSpacePosts,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetNewSpacePosts,The following statement contains a magic number: if (count > 50)  	count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetNewSpacePosts,The following statement contains a magic number: count = 50;  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetNewSpacePosts,The following statement contains a magic number: if (dt == null) {  	dt = SpacePluginProvider.GetInstance ().GetWebSiteAggSpacePostList (count);  	//声明新的缓存策略接口  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = cachetime * 60;  	//cache.LoadCacheStrategy(ics);  	cache.AddObject (cacheKey' dt' cachetime * 60);  	//cache.LoadDefaultCacheStrategy();  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetNewSpacePosts,The following statement contains a magic number: cache.AddObject (cacheKey' dt' cachetime * 60);  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: switch (type) {  case TopicTimeType.Day:  	return dtnow.AddDays (-1).ToString ();  case TopicTimeType.ThreeDays:  	return dtnow.AddDays (-3).ToString ();  case TopicTimeType.FiveDays:  	return dtnow.AddDays (-5).ToString ();  case TopicTimeType.Week:  	return dtnow.AddDays (-7).ToString ();  case TopicTimeType.Month:  	return dtnow.AddDays (-30).ToString ();  case TopicTimeType.SixMonth:  	return dtnow.AddMonths (-6).ToString ();  case TopicTimeType.Year:  	return dtnow.AddYears (-1).ToString ();  default:  	return "1754-1-1";  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: switch (type) {  case TopicTimeType.Day:  	return dtnow.AddDays (-1).ToString ();  case TopicTimeType.ThreeDays:  	return dtnow.AddDays (-3).ToString ();  case TopicTimeType.FiveDays:  	return dtnow.AddDays (-5).ToString ();  case TopicTimeType.Week:  	return dtnow.AddDays (-7).ToString ();  case TopicTimeType.Month:  	return dtnow.AddDays (-30).ToString ();  case TopicTimeType.SixMonth:  	return dtnow.AddMonths (-6).ToString ();  case TopicTimeType.Year:  	return dtnow.AddYears (-1).ToString ();  default:  	return "1754-1-1";  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: switch (type) {  case TopicTimeType.Day:  	return dtnow.AddDays (-1).ToString ();  case TopicTimeType.ThreeDays:  	return dtnow.AddDays (-3).ToString ();  case TopicTimeType.FiveDays:  	return dtnow.AddDays (-5).ToString ();  case TopicTimeType.Week:  	return dtnow.AddDays (-7).ToString ();  case TopicTimeType.Month:  	return dtnow.AddDays (-30).ToString ();  case TopicTimeType.SixMonth:  	return dtnow.AddMonths (-6).ToString ();  case TopicTimeType.Year:  	return dtnow.AddYears (-1).ToString ();  default:  	return "1754-1-1";  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: switch (type) {  case TopicTimeType.Day:  	return dtnow.AddDays (-1).ToString ();  case TopicTimeType.ThreeDays:  	return dtnow.AddDays (-3).ToString ();  case TopicTimeType.FiveDays:  	return dtnow.AddDays (-5).ToString ();  case TopicTimeType.Week:  	return dtnow.AddDays (-7).ToString ();  case TopicTimeType.Month:  	return dtnow.AddDays (-30).ToString ();  case TopicTimeType.SixMonth:  	return dtnow.AddMonths (-6).ToString ();  case TopicTimeType.Year:  	return dtnow.AddYears (-1).ToString ();  default:  	return "1754-1-1";  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: switch (type) {  case TopicTimeType.Day:  	return dtnow.AddDays (-1).ToString ();  case TopicTimeType.ThreeDays:  	return dtnow.AddDays (-3).ToString ();  case TopicTimeType.FiveDays:  	return dtnow.AddDays (-5).ToString ();  case TopicTimeType.Week:  	return dtnow.AddDays (-7).ToString ();  case TopicTimeType.Month:  	return dtnow.AddDays (-30).ToString ();  case TopicTimeType.SixMonth:  	return dtnow.AddMonths (-6).ToString ();  case TopicTimeType.Year:  	return dtnow.AddYears (-1).ToString ();  default:  	return "1754-1-1";  }  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: return dtnow.AddDays (-3).ToString ();  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: return dtnow.AddDays (-5).ToString ();  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: return dtnow.AddDays (-7).ToString ();  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: return dtnow.AddDays (-30).ToString ();  
Magic Number,Discuz.Forum,Focuses,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Focuses.cs,GetStartDate,The following statement contains a magic number: return dtnow.AddMonths (-6).ToString ();  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: foreach (ForumInfo foruminfo in forumList) {  	if (foruminfo.Status > 0) {  		Predicate<ForumInfo> match = new Predicate<ForumInfo> (delegate (ForumInfo info) {  			return info.Fid == foruminfo.Parentid;  		});  		if (foruminfo.Layer > 0 && visibleForumList.Find (match) == null)  			continue;  		if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限  		 {  			if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  				continue;  		}  		else//当板块权限不为空，按照板块权限  		 {  			if (!AllowView (foruminfo.Viewperm' 7))  				continue;  		}  		//当版块未设置密码时  		if (Utils.StrIsNullOrEmpty (foruminfo.Password))  			visibleForumList.Add (foruminfo);  	}  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: foreach (ForumInfo foruminfo in forumList) {  	if (foruminfo.Status > 0) {  		Predicate<ForumInfo> match = new Predicate<ForumInfo> (delegate (ForumInfo info) {  			return info.Fid == foruminfo.Parentid;  		});  		if (foruminfo.Layer > 0 && visibleForumList.Find (match) == null)  			continue;  		if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限  		 {  			if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  				continue;  		}  		else//当板块权限不为空，按照板块权限  		 {  			if (!AllowView (foruminfo.Viewperm' 7))  				continue;  		}  		//当版块未设置密码时  		if (Utils.StrIsNullOrEmpty (foruminfo.Password))  			visibleForumList.Add (foruminfo);  	}  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (foruminfo.Status > 0) {  	Predicate<ForumInfo> match = new Predicate<ForumInfo> (delegate (ForumInfo info) {  		return info.Fid == foruminfo.Parentid;  	});  	if (foruminfo.Layer > 0 && visibleForumList.Find (match) == null)  		continue;  	if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限  	 {  		if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  			continue;  	}  	else//当板块权限不为空，按照板块权限  	 {  		if (!AllowView (foruminfo.Viewperm' 7))  			continue;  	}  	//当版块未设置密码时  	if (Utils.StrIsNullOrEmpty (foruminfo.Password))  		visibleForumList.Add (foruminfo);  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (foruminfo.Status > 0) {  	Predicate<ForumInfo> match = new Predicate<ForumInfo> (delegate (ForumInfo info) {  		return info.Fid == foruminfo.Parentid;  	});  	if (foruminfo.Layer > 0 && visibleForumList.Find (match) == null)  		continue;  	if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限  	 {  		if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  			continue;  	}  	else//当板块权限不为空，按照板块权限  	 {  		if (!AllowView (foruminfo.Viewperm' 7))  			continue;  	}  	//当版块未设置密码时  	if (Utils.StrIsNullOrEmpty (foruminfo.Password))  		visibleForumList.Add (foruminfo);  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限   {  	if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  		continue;  }  else//当板块权限不为空，按照板块权限   {  	if (!AllowView (foruminfo.Viewperm' 7))  		continue;  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (foruminfo.Viewperm))//当板块权限为空时，按照用户组权限   {  	if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  		continue;  }  else//当板块权限不为空，按照板块权限   {  	if (!AllowView (foruminfo.Viewperm' 7))  		continue;  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (UserGroups.GetUserGroupInfo (7).Allowvisit != 1)  	continue;  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetVisibleForumList,The following statement contains a magic number: if (!AllowView (foruminfo.Viewperm' 7))  	continue;  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The following statement contains a magic number: if (topictypelinks == null) {  	StringBuilder builder = new StringBuilder ();  	StringBuilder dropbuilder = new StringBuilder ();  	foreach (string topictype in topictypes.Split ('|')) {  		if (!Utils.StrIsNullOrEmpty (topictype.Trim ())) {  			//平版模式  			if (topictype.Split (''') [2] == "0")  				builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  			//下拉类型  			else  				dropbuilder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  		}  	}  	//主题类型链接增加未分类选项  	builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' 0' "未分类");  	if (!Utils.StrIsNullOrEmpty (dropbuilder.ToString ())) {  		builder.Append ("<a id=\"topictypedrop\" onmouseover=\"showMenu(this.id' true);\">更多分类...</a>");  		builder.Append ("<ul class=\"p_pop\" id=\"topictypedrop_menu\" style=\"display: none\">");  		builder.AppendFormat ("<li class='topictype'>{0}</li>"' dropbuilder.ToString ().Trim ());  		builder.Append ("</ul>");  	}  	topictypelinks = builder.ToString ();  	cache.AddObject ("/Forum/TopicTypesLink" + fid' topictypelinks);  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The following statement contains a magic number: foreach (string topictype in topictypes.Split ('|')) {  	if (!Utils.StrIsNullOrEmpty (topictype.Trim ())) {  		//平版模式  		if (topictype.Split (''') [2] == "0")  			builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  		//下拉类型  		else  			dropbuilder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  	}  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (topictype.Trim ())) {  	//平版模式  	if (topictype.Split (''') [2] == "0")  		builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  	//下拉类型  	else  		dropbuilder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetCurrentTopicTypesLink,The following statement contains a magic number: if (topictype.Split (''') [2] == "0")  	builder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  //下拉类型  else  	dropbuilder.AppendFormat ("<a href=\"{0}?forumid={1}&typeid={2}\">{3}</a>"' fullpagename' fid' topictype.Split (''') [0]' topictype.Split (''') [1]);  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumSpecialUserPower,The following statement contains a magic number: foreach (string currentinf in Permuserlist.Split ('|')) {  	if (!Utils.StrIsNullOrEmpty (currentinf) && currentinf.Split (''') [1] == userid.ToString ())  		return TypeConverter.StrToInt (currentinf.Split (''') [2]);  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumSpecialUserPower,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (currentinf) && currentinf.Split (''') [1] == userid.ToString ())  	return TypeConverter.StrToInt (currentinf.Split (''') [2]);  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetForumSpecialUserPower,The following statement contains a magic number: return TypeConverter.StrToInt (currentinf.Split (''') [2]);  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetValues,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (credits)) {  	int index = 0;  	foreach (string ext in Utils.SplitString (credits' "'")) {  		if (index == 0) {  			if (!ext.Equals ("True")) {  				values = null;  				break;  			}  			index++;  			continue;  		}  		values [index - 1] = Utils.StrToFloat (ext' 0.0f);  		index++;  		if (index > 8)  			break;  	}  	return values;  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetValues,The following statement contains a magic number: foreach (string ext in Utils.SplitString (credits' "'")) {  	if (index == 0) {  		if (!ext.Equals ("True")) {  			values = null;  			break;  		}  		index++;  		continue;  	}  	values [index - 1] = Utils.StrToFloat (ext' 0.0f);  	index++;  	if (index > 8)  		break;  }  
Magic Number,Discuz.Forum,Forums,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Forums.cs,GetValues,The following statement contains a magic number: if (index > 8)  	break;  
Magic Number,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,WriteTopicTagsCacheFile,The following statement contains a magic number: dir.Append ((topicid / 1000 + 1).ToString ());  
Magic Number,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetCachedHotForumTags,The following statement contains a magic number: if (tags == null) {  	tags = Discuz.Data.ForumTags.GetCachedHotForumTags (count);  	cache.AddObject ("/Forum/Tag/Hot-" + count' tags' 360 * 60);  }  
Magic Number,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetCachedHotForumTags,The following statement contains a magic number: if (tags == null) {  	tags = Discuz.Data.ForumTags.GetCachedHotForumTags (count);  	cache.AddObject ("/Forum/Tag/Hot-" + count' tags' 360 * 60);  }  
Magic Number,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetCachedHotForumTags,The following statement contains a magic number: cache.AddObject ("/Forum/Tag/Hot-" + count' tags' 360 * 60);  
Magic Number,Discuz.Forum,ForumTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumTags.cs,GetCachedHotForumTags,The following statement contains a magic number: cache.AddObject ("/Forum/Tag/Hot-" + count' tags' 360 * 60);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ForumUtils,The following statement contains a magic number: r [2] = new Regex (@"(\r)"' options);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ForumUtils,The following statement contains a magic number: r [3] = new Regex (@"(<br( *)(/?)>)"' options);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ForumUtils,The following statement contains a magic number: r [4] = new Regex (@"(</p>)"' options);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetUserSecques,The following statement contains a magic number: if (questionid > 0)  	return Utils.MD5 (answer + Utils.MD5 (questionid.ToString ())).Substring (15' 8);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetUserSecques,The following statement contains a magic number: if (questionid > 0)  	return Utils.MD5 (answer + Utils.MD5 (questionid.ToString ())).Substring (15' 8);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetUserSecques,The following statement contains a magic number: return Utils.MD5 (answer + Utils.MD5 (questionid.ToString ())).Substring (15' 8);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetUserSecques,The following statement contains a magic number: return Utils.MD5 (answer + Utils.MD5 (questionid.ToString ())).Substring (15' 8);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,The following statement contains a magic number: if (templateid > 0) {  	Utils.WriteCookie (Utils.GetTemplateCookieName ()' templateid.ToString ()' 999999);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCookie,The following statement contains a magic number: Utils.WriteCookie (Utils.GetTemplateCookieName ()' templateid.ToString ()' 999999);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: for (int i = 0; i < len; i++) {  	number = random.Next ();  	if (number % 2 == 0)  		checkCode.Append ((char)('0' + (char)(number % 10)));  	else  		checkCode.Append ((char)('A' + (char)(number % 26)));  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: for (int i = 0; i < len; i++) {  	number = random.Next ();  	if (number % 2 == 0)  		checkCode.Append ((char)('0' + (char)(number % 10)));  	else  		checkCode.Append ((char)('A' + (char)(number % 26)));  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: for (int i = 0; i < len; i++) {  	number = random.Next ();  	if (number % 2 == 0)  		checkCode.Append ((char)('0' + (char)(number % 10)));  	else  		checkCode.Append ((char)('A' + (char)(number % 26)));  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: if (number % 2 == 0)  	checkCode.Append ((char)('0' + (char)(number % 10)));  else  	checkCode.Append ((char)('A' + (char)(number % 26)));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: if (number % 2 == 0)  	checkCode.Append ((char)('0' + (char)(number % 10)));  else  	checkCode.Append ((char)('A' + (char)(number % 26)));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: if (number % 2 == 0)  	checkCode.Append ((char)('0' + (char)(number % 10)));  else  	checkCode.Append ((char)('A' + (char)(number % 26)));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: checkCode.Append ((char)('0' + (char)(number % 10)));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: checkCode.Append ((char)('A' + (char)(number % 26)));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: for (int i = 0; i < len; i++) {  	if (!OnlyNum)  		number = verifycodeRandom.Next (0' verifycodeRange.Length);  	else  		number = verifycodeRandom.Next (0' 10);  	checkCode.Append (verifycodeRange [number]);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: if (!OnlyNum)  	number = verifycodeRandom.Next (0' verifycodeRange.Length);  else  	number = verifycodeRandom.Next (0' 10);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateAuthStr,The following statement contains a magic number: number = verifycodeRandom.Next (0' 10);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowTopicCacheFile,The following statement contains a magic number: if (IsGuestCachePage (pageid' "showtopic")) {  	DNTCache cache = DNTCache.GetCacheService ();  	if (!string.IsNullOrEmpty (pagetext)) {  		//pagetext = "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime() + ") -->\r\n" + pagetext;  		pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->\r\n";  		cache.AddObject ("/Forum/ShowTopicGuestCachePage/Tid_" + tid + "/Page_" + pageid + "/"' pagetext' GeneralConfigs.GetConfig ().Guestcachepagetimeout * 60);  	}  	return true;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowTopicCacheFile,The following statement contains a magic number: if (!string.IsNullOrEmpty (pagetext)) {  	//pagetext = "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime() + ") -->\r\n" + pagetext;  	pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->\r\n";  	cache.AddObject ("/Forum/ShowTopicGuestCachePage/Tid_" + tid + "/Page_" + pageid + "/"' pagetext' GeneralConfigs.GetConfig ().Guestcachepagetimeout * 60);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowTopicCacheFile,The following statement contains a magic number: cache.AddObject ("/Forum/ShowTopicGuestCachePage/Tid_" + tid + "/Page_" + pageid + "/"' pagetext' GeneralConfigs.GetConfig ().Guestcachepagetimeout * 60);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: if (IsGuestCachePage (pageid' "showforum")) {  	DNTCache cache = DNTCache.GetCacheService ();  	if (!string.IsNullOrEmpty (pagetext)) {  		//�˴�������CreateShowTopicCacheFile�����ĸ�ֵ��ʽ��һ����ֻ��Ϊ��ֹ��IE��6��7�汾��������±������ҳ��������ʽ���⵼��ҳ�����  		pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->";  		cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  		return true;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: if (IsGuestCachePage (pageid' "showforum")) {  	DNTCache cache = DNTCache.GetCacheService ();  	if (!string.IsNullOrEmpty (pagetext)) {  		//�˴�������CreateShowTopicCacheFile�����ĸ�ֵ��ʽ��һ����ֻ��Ϊ��ֹ��IE��6��7�汾��������±������ҳ��������ʽ���⵼��ҳ�����  		pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->";  		cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  		return true;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: if (!string.IsNullOrEmpty (pagetext)) {  	//�˴�������CreateShowTopicCacheFile�����ĸ�ֵ��ʽ��һ����ֻ��Ϊ��ֹ��IE��6��7�汾��������±������ҳ��������ʽ���⵼��ҳ�����  	pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->";  	cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  	return true;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: if (!string.IsNullOrEmpty (pagetext)) {  	//�˴�������CreateShowTopicCacheFile�����ĸ�ֵ��ʽ��һ����ֻ��Ϊ��ֹ��IE��6��7�汾��������±������ҳ��������ʽ���⵼��ҳ�����  	pagetext += "\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->";  	cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  	return true;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,CreateShowForumCacheFile,The following statement contains a magic number: cache.AddObject ("/Forum/ShowForumGuestCachePage/Fid_" + fid + "/Page_" + pageid + "/"' pagetext' mcci.ApplyMemCached ? mcci.CacheShowForumCacheTime * 60 : rci.CacheShowForumCacheTime * 60);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestAvatarFile,The following statement contains a magic number: if (Utils.InArray (fileextname' ".jpg'.gif'.png") && filetype.StartsWith ("image")) {  	StringBuilder savedir = new StringBuilder (BaseConfigs.GetForumPath + "avatars/upload/");  	int t1 = (int)((double)userid / (double)10000);  	savedir.Append (t1);  	savedir.Append ("/");  	int t2 = (int)((double)userid / (double)200);  	savedir.Append (t2);  	savedir.Append ("/");  	if (!Directory.Exists (Utils.GetMapPath (savedir.ToString ())))  		Utils.CreateDir (Utils.GetMapPath (savedir.ToString ()));  	string newfilename = savedir.ToString () + userid.ToString () + fileextname;  	if (HttpContext.Current.Request.Files [0].ContentLength <= MaxAllowFileSize) {  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".jpg");  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".gif");  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".png");  		HttpContext.Current.Request.Files [0].SaveAs (Utils.GetMapPath (newfilename));  		return newfilename;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestAvatarFile,The following statement contains a magic number: if (Utils.InArray (fileextname' ".jpg'.gif'.png") && filetype.StartsWith ("image")) {  	StringBuilder savedir = new StringBuilder (BaseConfigs.GetForumPath + "avatars/upload/");  	int t1 = (int)((double)userid / (double)10000);  	savedir.Append (t1);  	savedir.Append ("/");  	int t2 = (int)((double)userid / (double)200);  	savedir.Append (t2);  	savedir.Append ("/");  	if (!Directory.Exists (Utils.GetMapPath (savedir.ToString ())))  		Utils.CreateDir (Utils.GetMapPath (savedir.ToString ()));  	string newfilename = savedir.ToString () + userid.ToString () + fileextname;  	if (HttpContext.Current.Request.Files [0].ContentLength <= MaxAllowFileSize) {  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".jpg");  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".gif");  		File.Delete (Utils.GetMapPath (savedir.ToString ()) + userid.ToString () + ".png");  		HttpContext.Current.Request.Files [0].SaveAs (Utils.GetMapPath (newfilename));  		return newfilename;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: colorMap.OldColor = Color.FromArgb (255' 0' 255' 0);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: colorMap.OldColor = Color.FromArgb (255' 0' 255' 0);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: if (watermarkTransparency >= 1 && watermarkTransparency <= 10)  	transparency = (watermarkTransparency / 10.0F);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)(img.Width * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)(img.Height * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)(img.Height * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).99) - (watermark.Width));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)(img.Height * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)(img.Width * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).99) - (watermark.Width));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)(img.Width * (float).01);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).99) - watermark.Height);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).99) - watermark.Height);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: xpos = (int)((img.Width * (float).99) - (watermark.Width));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: ypos = (int)((img.Height * (float).99) - watermark.Height);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: if (quality < 0 || quality > 100)  	quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: if (quality < 0 || quality > 100)  	quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following statement contains a magic number: quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = (float)img.Width * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = (float)img.Height * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = (float)img.Height * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).99) - crSize.Width;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = (float)img.Height * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = (float)img.Width * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).99) - crSize.Width;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = (float)img.Width * (float).01;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).99) - crSize.Height;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).99) - crSize.Height;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: xpos = ((float)img.Width * (float).99) - crSize.Width;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: ypos = ((float)img.Height * (float).99) - crSize.Height;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: if (quality < 0 || quality > 100)  	quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: if (quality < 0 || quality > 100)  	quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following statement contains a magic number: quality = 80;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: for (int i = 0; i < fCount; i++) {  	if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) {  		string fileName = Path.GetFileName (HttpContext.Current.Request.Files [i].FileName);  		string fileExtName = Utils.CutString (fileName' fileName.LastIndexOf (".") + 1).ToLower ();  		string fileType = HttpContext.Current.Request.Files [i].ContentType.ToLower ();  		int fileSize = HttpContext.Current.Request.Files [i].ContentLength;  		string newFileName = "";  		//flash�����ϴ�ʱ�޷���ȡcontenttype  		if (fileType == "application/octet-stream")  			fileType = GetContentType (fileExtName);  		attachmentInfo [saveFileCount] = new AttachmentInfo ();  		attachmentInfo [saveFileCount].Sys_noupload = "";  		// �ж� �ļ���չ��/�ļ���С/�ļ����� �Ƿ����Ҫ��  		if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  			int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  			if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  				TodayUploadedSize = TodayUploadedSize + fileSize;  				string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  				string saveDir = GetAttachmentPath (forumid' config' fileExtName);  				newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  				//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  				//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  				string tempFileName = "";  				//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  					// ���ָ��Ŀ¼������������ʱ·��  					if (!Directory.Exists (UploadDir + "temp\\"))  						Utils.CreateDir (UploadDir + "temp\\");  					tempFileName = "temp\\" + newFileName;  				}  				// ���ָ��Ŀ¼����������  				else if (!Directory.Exists (UploadDir + saveDir))  					Utils.CreateDir (UploadDir + saveDir);  				newFileName = saveDir + newFileName;  				try {  					// �����bmp jpg pngͼƬ����  					if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  						Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  						if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  							attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  						if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  							attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  						attachmentInfo [saveFileCount].Width = img.Width;  						attachmentInfo [saveFileCount].Height = img.Height;  						if (attachmentInfo [saveFileCount].Sys_noupload == "") {  							if (watermarkstatus == 0) {  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  								else  									HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  								attachmentInfo [saveFileCount].Filesize = fileSize;  							}  							else {  								if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  									//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  									if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  										AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  									else  										AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  								}  								else {  									string watermarkText;  									watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  									watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  									watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  									watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  									//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  									if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  										AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  									else  										AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  								}  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  								else  									attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  							}  						}  					}  					else {  						attachmentInfo [saveFileCount].Filesize = fileSize;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					}  				}  				catch {  					//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  					if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  						attachmentInfo [saveFileCount].Filesize = fileSize;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					}  				}  				try {  					//�����ļ�Ԥ����ָ������  					IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  					if (preview != null) {  						preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							preview.OnSaved (UploadDir + tempFileName);  						else  							preview.OnSaved (UploadDir + newFileName);  					}  				}  				catch {  				}  				//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  				if (FTPs.GetForumAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  					if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  					else  						ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  				}  				if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  					Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  			}  			else {  				if (extnameid < 0)  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  				else if (MaxSizePerDay - TodayUploadedSize < fileSize)  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  				else if (fileSize > maxSize [extnameid])  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  				else  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  			}  		}  		else {  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  		}  		//��֧��FTP�ϴ�����ʱ  		if (FTPs.GetForumAttachInfo.Allowupload == 1)  			attachmentInfo [saveFileCount].Filename = FTPs.GetForumAttachInfo.Remoteurl + "/" + newFileName.Replace ("\\"' "/");  		else  			attachmentInfo [saveFileCount].Filename = newFileName;  		attachmentInfo [saveFileCount].Description = "";  		attachmentInfo [saveFileCount].Filetype = fileType;  		attachmentInfo [saveFileCount].Attachment = fileName;  		attachmentInfo [saveFileCount].Downloads = 0;  		attachmentInfo [saveFileCount].Postdatetime = DateTime.Now.ToString ();  		attachmentInfo [saveFileCount].Sys_index = i;  		attachmentInfo [saveFileCount].Isimage = isImage ? 1 : 0;  		saveFileCount++;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: for (int i = 0; i < fCount; i++) {  	if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) {  		string fileName = Path.GetFileName (HttpContext.Current.Request.Files [i].FileName);  		string fileExtName = Utils.CutString (fileName' fileName.LastIndexOf (".") + 1).ToLower ();  		string fileType = HttpContext.Current.Request.Files [i].ContentType.ToLower ();  		int fileSize = HttpContext.Current.Request.Files [i].ContentLength;  		string newFileName = "";  		//flash�����ϴ�ʱ�޷���ȡcontenttype  		if (fileType == "application/octet-stream")  			fileType = GetContentType (fileExtName);  		attachmentInfo [saveFileCount] = new AttachmentInfo ();  		attachmentInfo [saveFileCount].Sys_noupload = "";  		// �ж� �ļ���չ��/�ļ���С/�ļ����� �Ƿ����Ҫ��  		if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  			int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  			if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  				TodayUploadedSize = TodayUploadedSize + fileSize;  				string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  				string saveDir = GetAttachmentPath (forumid' config' fileExtName);  				newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  				//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  				//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  				string tempFileName = "";  				//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  					// ���ָ��Ŀ¼������������ʱ·��  					if (!Directory.Exists (UploadDir + "temp\\"))  						Utils.CreateDir (UploadDir + "temp\\");  					tempFileName = "temp\\" + newFileName;  				}  				// ���ָ��Ŀ¼����������  				else if (!Directory.Exists (UploadDir + saveDir))  					Utils.CreateDir (UploadDir + saveDir);  				newFileName = saveDir + newFileName;  				try {  					// �����bmp jpg pngͼƬ����  					if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  						Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  						if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  							attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  						if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  							attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  						attachmentInfo [saveFileCount].Width = img.Width;  						attachmentInfo [saveFileCount].Height = img.Height;  						if (attachmentInfo [saveFileCount].Sys_noupload == "") {  							if (watermarkstatus == 0) {  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  								else  									HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  								attachmentInfo [saveFileCount].Filesize = fileSize;  							}  							else {  								if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  									//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  									if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  										AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  									else  										AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  								}  								else {  									string watermarkText;  									watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  									watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  									watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  									watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  									//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  									if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  										AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  									else  										AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  								}  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  								else  									attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  							}  						}  					}  					else {  						attachmentInfo [saveFileCount].Filesize = fileSize;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					}  				}  				catch {  					//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  					if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  						attachmentInfo [saveFileCount].Filesize = fileSize;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					}  				}  				try {  					//�����ļ�Ԥ����ָ������  					IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  					if (preview != null) {  						preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							preview.OnSaved (UploadDir + tempFileName);  						else  							preview.OnSaved (UploadDir + newFileName);  					}  				}  				catch {  				}  				//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  				if (FTPs.GetForumAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  					if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  					else  						ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  				}  				if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  					Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  			}  			else {  				if (extnameid < 0)  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  				else if (MaxSizePerDay - TodayUploadedSize < fileSize)  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  				else if (fileSize > maxSize [extnameid])  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  				else  					attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  			}  		}  		else {  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  		}  		//��֧��FTP�ϴ�����ʱ  		if (FTPs.GetForumAttachInfo.Allowupload == 1)  			attachmentInfo [saveFileCount].Filename = FTPs.GetForumAttachInfo.Remoteurl + "/" + newFileName.Replace ("\\"' "/");  		else  			attachmentInfo [saveFileCount].Filename = newFileName;  		attachmentInfo [saveFileCount].Description = "";  		attachmentInfo [saveFileCount].Filetype = fileType;  		attachmentInfo [saveFileCount].Attachment = fileName;  		attachmentInfo [saveFileCount].Downloads = 0;  		attachmentInfo [saveFileCount].Postdatetime = DateTime.Now.ToString ();  		attachmentInfo [saveFileCount].Sys_index = i;  		attachmentInfo [saveFileCount].Isimage = isImage ? 1 : 0;  		saveFileCount++;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) {  	string fileName = Path.GetFileName (HttpContext.Current.Request.Files [i].FileName);  	string fileExtName = Utils.CutString (fileName' fileName.LastIndexOf (".") + 1).ToLower ();  	string fileType = HttpContext.Current.Request.Files [i].ContentType.ToLower ();  	int fileSize = HttpContext.Current.Request.Files [i].ContentLength;  	string newFileName = "";  	//flash�����ϴ�ʱ�޷���ȡcontenttype  	if (fileType == "application/octet-stream")  		fileType = GetContentType (fileExtName);  	attachmentInfo [saveFileCount] = new AttachmentInfo ();  	attachmentInfo [saveFileCount].Sys_noupload = "";  	// �ж� �ļ���չ��/�ļ���С/�ļ����� �Ƿ����Ҫ��  	if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  		int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  		if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  			TodayUploadedSize = TodayUploadedSize + fileSize;  			string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  			string saveDir = GetAttachmentPath (forumid' config' fileExtName);  			newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  			//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  			//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  			string tempFileName = "";  			//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  				// ���ָ��Ŀ¼������������ʱ·��  				if (!Directory.Exists (UploadDir + "temp\\"))  					Utils.CreateDir (UploadDir + "temp\\");  				tempFileName = "temp\\" + newFileName;  			}  			// ���ָ��Ŀ¼����������  			else if (!Directory.Exists (UploadDir + saveDir))  				Utils.CreateDir (UploadDir + saveDir);  			newFileName = saveDir + newFileName;  			try {  				// �����bmp jpg pngͼƬ����  				if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  					Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  					if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  						attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  					if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  						attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  					attachmentInfo [saveFileCount].Width = img.Width;  					attachmentInfo [saveFileCount].Height = img.Height;  					if (attachmentInfo [saveFileCount].Sys_noupload == "") {  						if (watermarkstatus == 0) {  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  							else  								HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  							attachmentInfo [saveFileCount].Filesize = fileSize;  						}  						else {  							if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  								else  									AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  							}  							else {  								string watermarkText;  								watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  								watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  								watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  								watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  								else  									AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  							}  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  							else  								attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  						}  					}  				}  				else {  					attachmentInfo [saveFileCount].Filesize = fileSize;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  				}  			}  			catch {  				//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  				if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  					attachmentInfo [saveFileCount].Filesize = fileSize;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  				}  			}  			try {  				//�����ļ�Ԥ����ָ������  				IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  				if (preview != null) {  					preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						preview.OnSaved (UploadDir + tempFileName);  					else  						preview.OnSaved (UploadDir + newFileName);  				}  			}  			catch {  			}  			//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  			if (FTPs.GetForumAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  				if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  				else  					ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  			}  			if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  				Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  		}  		else {  			if (extnameid < 0)  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  			else if (MaxSizePerDay - TodayUploadedSize < fileSize)  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  			else if (fileSize > maxSize [extnameid])  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  			else  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  		}  	}  	else {  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  	}  	//��֧��FTP�ϴ�����ʱ  	if (FTPs.GetForumAttachInfo.Allowupload == 1)  		attachmentInfo [saveFileCount].Filename = FTPs.GetForumAttachInfo.Remoteurl + "/" + newFileName.Replace ("\\"' "/");  	else  		attachmentInfo [saveFileCount].Filename = newFileName;  	attachmentInfo [saveFileCount].Description = "";  	attachmentInfo [saveFileCount].Filetype = fileType;  	attachmentInfo [saveFileCount].Attachment = fileName;  	attachmentInfo [saveFileCount].Downloads = 0;  	attachmentInfo [saveFileCount].Postdatetime = DateTime.Now.ToString ();  	attachmentInfo [saveFileCount].Sys_index = i;  	attachmentInfo [saveFileCount].Isimage = isImage ? 1 : 0;  	saveFileCount++;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (!HttpContext.Current.Request.Files [i].FileName.Equals ("") && HttpContext.Current.Request.Files.AllKeys [i].Equals (filekey)) {  	string fileName = Path.GetFileName (HttpContext.Current.Request.Files [i].FileName);  	string fileExtName = Utils.CutString (fileName' fileName.LastIndexOf (".") + 1).ToLower ();  	string fileType = HttpContext.Current.Request.Files [i].ContentType.ToLower ();  	int fileSize = HttpContext.Current.Request.Files [i].ContentLength;  	string newFileName = "";  	//flash�����ϴ�ʱ�޷���ȡcontenttype  	if (fileType == "application/octet-stream")  		fileType = GetContentType (fileExtName);  	attachmentInfo [saveFileCount] = new AttachmentInfo ();  	attachmentInfo [saveFileCount].Sys_noupload = "";  	// �ж� �ļ���չ��/�ļ���С/�ļ����� �Ƿ����Ҫ��  	if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  		int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  		if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  			TodayUploadedSize = TodayUploadedSize + fileSize;  			string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  			string saveDir = GetAttachmentPath (forumid' config' fileExtName);  			newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  			//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  			//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  			string tempFileName = "";  			//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  				// ���ָ��Ŀ¼������������ʱ·��  				if (!Directory.Exists (UploadDir + "temp\\"))  					Utils.CreateDir (UploadDir + "temp\\");  				tempFileName = "temp\\" + newFileName;  			}  			// ���ָ��Ŀ¼����������  			else if (!Directory.Exists (UploadDir + saveDir))  				Utils.CreateDir (UploadDir + saveDir);  			newFileName = saveDir + newFileName;  			try {  				// �����bmp jpg pngͼƬ����  				if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  					Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  					if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  						attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  					if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  						attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  					attachmentInfo [saveFileCount].Width = img.Width;  					attachmentInfo [saveFileCount].Height = img.Height;  					if (attachmentInfo [saveFileCount].Sys_noupload == "") {  						if (watermarkstatus == 0) {  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  							else  								HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  							attachmentInfo [saveFileCount].Filesize = fileSize;  						}  						else {  							if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  								else  									AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  							}  							else {  								string watermarkText;  								watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  								watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  								watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  								watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  								//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  								if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  									AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  								else  									AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  							}  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  							else  								attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  						}  					}  				}  				else {  					attachmentInfo [saveFileCount].Filesize = fileSize;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  				}  			}  			catch {  				//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  				if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  					attachmentInfo [saveFileCount].Filesize = fileSize;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  				}  			}  			try {  				//�����ļ�Ԥ����ָ������  				IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  				if (preview != null) {  					preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						preview.OnSaved (UploadDir + tempFileName);  					else  						preview.OnSaved (UploadDir + newFileName);  				}  			}  			catch {  			}  			//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  			if (FTPs.GetForumAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  				if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  				else  					ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  			}  			if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  				Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  		}  		else {  			if (extnameid < 0)  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  			else if (MaxSizePerDay - TodayUploadedSize < fileSize)  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  			else if (fileSize > maxSize [extnameid])  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  			else  				attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  		}  	}  	else {  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  	}  	//��֧��FTP�ϴ�����ʱ  	if (FTPs.GetForumAttachInfo.Allowupload == 1)  		attachmentInfo [saveFileCount].Filename = FTPs.GetForumAttachInfo.Remoteurl + "/" + newFileName.Replace ("\\"' "/");  	else  		attachmentInfo [saveFileCount].Filename = newFileName;  	attachmentInfo [saveFileCount].Description = "";  	attachmentInfo [saveFileCount].Filetype = fileType;  	attachmentInfo [saveFileCount].Attachment = fileName;  	attachmentInfo [saveFileCount].Downloads = 0;  	attachmentInfo [saveFileCount].Postdatetime = DateTime.Now.ToString ();  	attachmentInfo [saveFileCount].Sys_index = i;  	attachmentInfo [saveFileCount].Isimage = isImage ? 1 : 0;  	saveFileCount++;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  	int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  	if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  		TodayUploadedSize = TodayUploadedSize + fileSize;  		string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  		string saveDir = GetAttachmentPath (forumid' config' fileExtName);  		newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  		//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  		//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  		string tempFileName = "";  		//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  		if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  			// ���ָ��Ŀ¼������������ʱ·��  			if (!Directory.Exists (UploadDir + "temp\\"))  				Utils.CreateDir (UploadDir + "temp\\");  			tempFileName = "temp\\" + newFileName;  		}  		// ���ָ��Ŀ¼����������  		else if (!Directory.Exists (UploadDir + saveDir))  			Utils.CreateDir (UploadDir + saveDir);  		newFileName = saveDir + newFileName;  		try {  			// �����bmp jpg pngͼƬ����  			if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  				Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  				if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  					attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  				if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  					attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  				attachmentInfo [saveFileCount].Width = img.Width;  				attachmentInfo [saveFileCount].Height = img.Height;  				if (attachmentInfo [saveFileCount].Sys_noupload == "") {  					if (watermarkstatus == 0) {  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  						attachmentInfo [saveFileCount].Filesize = fileSize;  					}  					else {  						if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  							else  								AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  						}  						else {  							string watermarkText;  							watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  							watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  							watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  							watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  							else  								AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  						}  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  						else  							attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  					}  				}  			}  			else {  				attachmentInfo [saveFileCount].Filesize = fileSize;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  				else  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  			}  		}  		catch {  			//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  			if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  				attachmentInfo [saveFileCount].Filesize = fileSize;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  				else  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  			}  		}  		try {  			//�����ļ�Ԥ����ָ������  			IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  			if (preview != null) {  				preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					preview.OnSaved (UploadDir + tempFileName);  				else  					preview.OnSaved (UploadDir + newFileName);  			}  		}  		catch {  		}  		//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  		if (FTPs.GetForumAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  			if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  			else  				ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  		}  		if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  			Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  	}  	else {  		if (extnameid < 0)  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  		else if (MaxSizePerDay - TodayUploadedSize < fileSize)  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  		else if (fileSize > maxSize [extnameid])  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  		else  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  	}  }  else {  	attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (!(Utils.IsImgFilename (fileName) && !fileType.StartsWith ("image")) && ValidateImage (fileType' HttpContext.Current.Request.Files [i].InputStream)) {  	int extnameid = Utils.GetInArrayID (fileExtName' allowFileExtName);  	if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  		TodayUploadedSize = TodayUploadedSize + fileSize;  		string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  		string saveDir = GetAttachmentPath (forumid' config' fileExtName);  		newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  		//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  		//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  		string tempFileName = "";  		//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  		if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  			// ���ָ��Ŀ¼������������ʱ·��  			if (!Directory.Exists (UploadDir + "temp\\"))  				Utils.CreateDir (UploadDir + "temp\\");  			tempFileName = "temp\\" + newFileName;  		}  		// ���ָ��Ŀ¼����������  		else if (!Directory.Exists (UploadDir + saveDir))  			Utils.CreateDir (UploadDir + saveDir);  		newFileName = saveDir + newFileName;  		try {  			// �����bmp jpg pngͼƬ����  			if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  				Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  				if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  					attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  				if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  					attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  				attachmentInfo [saveFileCount].Width = img.Width;  				attachmentInfo [saveFileCount].Height = img.Height;  				if (attachmentInfo [saveFileCount].Sys_noupload == "") {  					if (watermarkstatus == 0) {  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  						else  							HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  						attachmentInfo [saveFileCount].Filesize = fileSize;  					}  					else {  						if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  							else  								AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  						}  						else {  							string watermarkText;  							watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  							watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  							watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  							watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  							//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  							if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  								AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  							else  								AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  						}  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  						else  							attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  					}  				}  			}  			else {  				attachmentInfo [saveFileCount].Filesize = fileSize;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  				else  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  			}  		}  		catch {  			//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  			if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  				attachmentInfo [saveFileCount].Filesize = fileSize;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  				else  					HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  			}  		}  		try {  			//�����ļ�Ԥ����ָ������  			IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  			if (preview != null) {  				preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  				//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  				if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  					preview.OnSaved (UploadDir + tempFileName);  				else  					preview.OnSaved (UploadDir + newFileName);  			}  		}  		catch {  		}  		//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  		if (FTPs.GetForumAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  			if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  			else  				ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  		}  		if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  			Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  	}  	else {  		if (extnameid < 0)  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  		else if (MaxSizePerDay - TodayUploadedSize < fileSize)  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  		else if (fileSize > maxSize [extnameid])  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  		else  			attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  	}  }  else {  	attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  	TodayUploadedSize = TodayUploadedSize + fileSize;  	string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  	string saveDir = GetAttachmentPath (forumid' config' fileExtName);  	newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  	//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  	//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  	string tempFileName = "";  	//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  	if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  		// ���ָ��Ŀ¼������������ʱ·��  		if (!Directory.Exists (UploadDir + "temp\\"))  			Utils.CreateDir (UploadDir + "temp\\");  		tempFileName = "temp\\" + newFileName;  	}  	// ���ָ��Ŀ¼����������  	else if (!Directory.Exists (UploadDir + saveDir))  		Utils.CreateDir (UploadDir + saveDir);  	newFileName = saveDir + newFileName;  	try {  		// �����bmp jpg pngͼƬ����  		if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  			Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  			if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  				attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  			if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  				attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  			attachmentInfo [saveFileCount].Width = img.Width;  			attachmentInfo [saveFileCount].Height = img.Height;  			if (attachmentInfo [saveFileCount].Sys_noupload == "") {  				if (watermarkstatus == 0) {  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					attachmentInfo [saveFileCount].Filesize = fileSize;  				}  				else {  					if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  						else  							AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  					}  					else {  						string watermarkText;  						watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  						watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  						watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  						watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  						else  							AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  					}  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  					else  						attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  				}  			}  		}  		else {  			attachmentInfo [saveFileCount].Filesize = fileSize;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  			else  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  		}  	}  	catch {  		//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  		if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  			attachmentInfo [saveFileCount].Filesize = fileSize;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  			else  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  		}  	}  	try {  		//�����ļ�Ԥ����ָ������  		IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  		if (preview != null) {  			preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				preview.OnSaved (UploadDir + tempFileName);  			else  				preview.OnSaved (UploadDir + newFileName);  		}  	}  	catch {  	}  	//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  	if (FTPs.GetForumAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  		if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  			ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  		else  			ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  	}  	if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  		Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  }  else {  	if (extnameid < 0)  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  	else if (MaxSizePerDay - TodayUploadedSize < fileSize)  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  	else if (fileSize > maxSize [extnameid])  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  	else  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: if (extnameid >= 0 && (fileSize <= maxSize [extnameid]) && (MaxFileSize >= fileSize/*|| MaxAllSize == 0*/) && (MaxSizePerDay - TodayUploadedSize >= fileSize)) {  	TodayUploadedSize = TodayUploadedSize + fileSize;  	string UploadDir = Utils.GetMapPath (BaseConfigs.GetForumPath + "upload/");  	string saveDir = GetAttachmentPath (forumid' config' fileExtName);  	newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  	//(Environment.TickCount & int.MaxValue).ToString() + i.ToString() + random.Next(1000' 9999).ToString() + "." + fileextname;  	//��ʱ�ļ����Ʊ���. ���ڵ����Զ�̸���֮��'���ϴ���������ʱ�ļ��е�·����Ϣ  	string tempFileName = "";  	//��֧��FTP�ϴ������Ҳ�������ظ���ʱ  	if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0) {  		// ���ָ��Ŀ¼������������ʱ·��  		if (!Directory.Exists (UploadDir + "temp\\"))  			Utils.CreateDir (UploadDir + "temp\\");  		tempFileName = "temp\\" + newFileName;  	}  	// ���ָ��Ŀ¼����������  	else if (!Directory.Exists (UploadDir + saveDir))  		Utils.CreateDir (UploadDir + saveDir);  	newFileName = saveDir + newFileName;  	try {  		// �����bmp jpg pngͼƬ����  		if ((fileExtName == "bmp" || fileExtName == "jpg" || fileExtName == "jpeg" || fileExtName == "png") && fileType.StartsWith ("image")) {  			Image img = Image.FromStream (HttpContext.Current.Request.Files [i].InputStream);  			if (config.Attachimgmaxwidth > 0 && img.Width > config.Attachimgmaxwidth)  				attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ���Ϊ" + img.Width + "' ϵͳ����������Ϊ" + config.Attachimgmaxwidth;  			if (config.Attachimgmaxheight > 0 && img.Height > config.Attachimgmaxheight)  				attachmentInfo [saveFileCount].Sys_noupload = "ͼƬ�߶�Ϊ" + img.Width + "' ϵͳ��������߶�Ϊ" + config.Attachimgmaxheight;  			attachmentInfo [saveFileCount].Width = img.Width;  			attachmentInfo [saveFileCount].Height = img.Height;  			if (attachmentInfo [saveFileCount].Sys_noupload == "") {  				if (watermarkstatus == 0) {  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  					else  						HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  					attachmentInfo [saveFileCount].Filesize = fileSize;  				}  				else {  					if (config.Watermarktype == 1 && File.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic))) {  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							AddImageSignPic (img' UploadDir + tempFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  						else  							AddImageSignPic (img' UploadDir + newFileName' Utils.GetMapPath (BaseConfigs.GetForumPath + "watermark/" + config.Watermarkpic)' config.Watermarkstatus' config.Attachimgquality' config.Watermarktransparency);  					}  					else {  						string watermarkText;  						watermarkText = config.Watermarktext.Replace ("{1}"' config.Forumtitle);  						watermarkText = watermarkText.Replace ("{2}"' "http://" + DNTRequest.GetCurrentFullHost () + "/");  						watermarkText = watermarkText.Replace ("{3}"' Utils.GetDate ());  						watermarkText = watermarkText.Replace ("{4}"' Utils.GetTime ());  						//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  						if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  							AddImageSignText (img' UploadDir + tempFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  						else  							AddImageSignText (img' UploadDir + newFileName' watermarkText' config.Watermarkstatus' config.Attachimgquality' config.Watermarkfontname' config.Watermarkfontsize);  					}  					//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'���ȡ��ʱĿ¼�µ��ļ���Ϣ  					if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  						attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + tempFileName).Length;  					else  						attachmentInfo [saveFileCount].Filesize = new FileInfo (UploadDir + newFileName).Length;  				}  			}  		}  		else {  			attachmentInfo [saveFileCount].Filesize = fileSize;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  			else  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  		}  	}  	catch {  		//���ϴ�Ŀ¼����ʱ�ļ��ж�û���ϴ����ļ�ʱ  		if (!(Utils.FileExists (UploadDir + tempFileName)) && (!(Utils.FileExists (UploadDir + newFileName)))) {  			attachmentInfo [saveFileCount].Filesize = fileSize;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ'�����ϴ�����ʱĿ¼��  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + tempFileName);  			else  				HttpContext.Current.Request.Files [i].SaveAs (UploadDir + newFileName);  		}  	}  	try {  		//�����ļ�Ԥ����ָ������  		IPreview preview = PreviewProvider.GetInstance (fileExtName.Trim ());  		if (preview != null) {  			preview.UseFTP = (FTPs.GetForumAttachInfo.Allowupload == 1) ? true : false;  			//��֧��FTP�ϴ������Ҳ�������ظ���ģʽʱ  			if (FTPs.GetForumAttachInfo.Allowupload == 1 && FTPs.GetForumAttachInfo.Reservelocalattach == 0)  				preview.OnSaved (UploadDir + tempFileName);  			else  				preview.OnSaved (UploadDir + newFileName);  		}  	}  	catch {  	}  	//��֧��FTP�ϴ�����ʱ'ʹ��FTP�ϴ�Զ�̸���  	if (FTPs.GetForumAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		//����������ظ���ģʽʱ'���ϴ����֮��ɾ������tempfilename�ļ�  		if (FTPs.GetForumAttachInfo.Reservelocalattach == 0)  			ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + tempFileName' FTPs.FTPUploadEnum.ForumAttach);  		else  			ftps.UpLoadFile (newFileName.Substring (0' newFileName.LastIndexOf ("\\"))' UploadDir + newFileName' FTPs.FTPUploadEnum.ForumAttach);  	}  	if (EntLibConfigs.GetConfig () != null && EntLibConfigs.GetConfig ().Cacheattachfiles.Enable && EntLibConfigs.GetConfig ().Cacheattachfiles.Attachpostid > 0)  		Discuz.Cache.Data.DBCacheService.GetAttachFilesService ().UploadFile (UploadDir' newFileName);  }  else {  	if (extnameid < 0)  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ���ʽ��Ч";  	else if (MaxSizePerDay - TodayUploadedSize < fileSize)  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڽ��������ϴ����ֽ���";  	else if (fileSize > maxSize [extnameid])  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڸ����͸���������ֽ���";  	else  		attachmentInfo [saveFileCount].Sys_noupload = "�ļ����ڵ����ļ������ϴ����ֽ���";  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SaveRequestFiles,The following statement contains a magic number: newFileName = string.Format ("{0}{1}{2}.{3}"' (Environment.TickCount & int.MaxValue).ToString ()' i.ToString ()' random.Next (1000' 9999).ToString ()' fileExtName);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAttachmentPath,The following statement contains a magic number: if (config.Attachsave == 1) {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (forumid.ToString ());  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 2) {  	saveDir.Append (forumid);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 3) {  	saveDir.Append (fileExtName);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAttachmentPath,The following statement contains a magic number: if (config.Attachsave == 1) {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (forumid.ToString ());  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 2) {  	saveDir.Append (forumid);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 3) {  	saveDir.Append (fileExtName);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAttachmentPath,The following statement contains a magic number: if (config.Attachsave == 2) {  	saveDir.Append (forumid);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 3) {  	saveDir.Append (fileExtName);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAttachmentPath,The following statement contains a magic number: if (config.Attachsave == 2) {  	saveDir.Append (forumid);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else if (config.Attachsave == 3) {  	saveDir.Append (fileExtName);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetAttachmentPath,The following statement contains a magic number: if (config.Attachsave == 3) {  	saveDir.Append (fileExtName);  	saveDir.Append (Path.DirectorySeparatorChar);  }  else {  	saveDir.Append (DateTime.Now.ToString ("yyyy"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("MM"));  	saveDir.Append (Path.DirectorySeparatorChar);  	saveDir.Append (DateTime.Now.ToString ("dd"));  	saveDir.Append (Path.DirectorySeparatorChar);  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,InBanWordArray,The following statement contains a magic number: for (int i = 0; i < str.Length / 2; i++) {  	r_word = new Regex (str [i' 0]' Utils.GetRegexCompiledOptions ());  	foreach (Match m in r_word.Matches (text))  		return true;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,HasBannedWord,The following statement contains a magic number: for (int i = 0; i < str.Length / 2; i++) {  	if (str [i' 1] == "{BANNED}") {  		r_word = new Regex (str [i' 0]' Utils.GetRegexCompiledOptions ());  		foreach (Match m in r_word.Matches (text))  			return true;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetBannedWord,The following statement contains a magic number: for (int i = 0; i < str.Length / 2; i++) {  	if (str [i' 1] == "{BANNED}") {  		r_word = new Regex (str [i' 0]' Utils.GetRegexCompiledOptions ());  		foreach (Match m in r_word.Matches (text))  			return m.Groups [0].ToString ();  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,HasAuditWord,The following statement contains a magic number: for (int i = 0; i < str.Length / 2; i++) {  	if (str [i' 1] == "{MOD}") {  		r_word = new Regex (str [i' 0]' Utils.GetRegexCompiledOptions ());  		foreach (Match m in r_word.Matches (text))  			return true;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,IsCrossSitePost,The following statement contains a magic number: if (urlReferrer.Length < 7)  	return true;  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddJammer,The following statement contains a magic number: m = r [2].Match (message);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddJammer,The following statement contains a magic number: m = r [3].Match (message);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddJammer,The following statement contains a magic number: m = r [4].Match (message);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The following statement contains a magic number: if (currentDateTime.Year == time.Year && currentDateTime.Month == time.Month)//���date�͵�ǰʱ����ݻ����·ݲ�һ�£���ֱ�ӷ���"yyyy-MM-dd HH:mm"��ʽ����   {  	if (DateDiff ("hour"' time' currentDateTime) <= 10)//���date�͵�ǰʱ������10Сʱ��(������3Сʱ)  	 {  		if (DateDiff ("hour"' time' currentDateTime) > 0)  			return DateDiff ("hour"' time' currentDateTime) + "Сʱǰ";  		if (DateDiff ("minute"' time' currentDateTime) > 0)  			return DateDiff ("minute"' time' currentDateTime) + "����ǰ";  		if (DateDiff ("second"' time' currentDateTime) >= 0)  			return DateDiff ("second"' time' currentDateTime) + "��ǰ";  		else  			return "�ղ�";  		//Ϊ�˽��postdatetimeʱ�侫�Ȳ������·���ʱ������ļ���  	}  	else {  		switch (currentDateTime.Day - time.Day) {  		case 0:  			result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		case 1:  			result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		case 2:  			result = "ǰ�� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		default:  			result = time.ToString ("yyyy-MM-dd HH:mm");  			break;  		}  	}  }  else  	result = time.ToString ("yyyy-MM-dd HH:mm");  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The following statement contains a magic number: if (currentDateTime.Year == time.Year && currentDateTime.Month == time.Month)//���date�͵�ǰʱ����ݻ����·ݲ�һ�£���ֱ�ӷ���"yyyy-MM-dd HH:mm"��ʽ����   {  	if (DateDiff ("hour"' time' currentDateTime) <= 10)//���date�͵�ǰʱ������10Сʱ��(������3Сʱ)  	 {  		if (DateDiff ("hour"' time' currentDateTime) > 0)  			return DateDiff ("hour"' time' currentDateTime) + "Сʱǰ";  		if (DateDiff ("minute"' time' currentDateTime) > 0)  			return DateDiff ("minute"' time' currentDateTime) + "����ǰ";  		if (DateDiff ("second"' time' currentDateTime) >= 0)  			return DateDiff ("second"' time' currentDateTime) + "��ǰ";  		else  			return "�ղ�";  		//Ϊ�˽��postdatetimeʱ�侫�Ȳ������·���ʱ������ļ���  	}  	else {  		switch (currentDateTime.Day - time.Day) {  		case 0:  			result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		case 1:  			result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		case 2:  			result = "ǰ�� " + time.ToString ("HH") + ":" + time.ToString ("mm");  			break;  		default:  			result = time.ToString ("yyyy-MM-dd HH:mm");  			break;  		}  	}  }  else  	result = time.ToString ("yyyy-MM-dd HH:mm");  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The following statement contains a magic number: if (DateDiff ("hour"' time' currentDateTime) <= 10)//���date�͵�ǰʱ������10Сʱ��(������3Сʱ)   {  	if (DateDiff ("hour"' time' currentDateTime) > 0)  		return DateDiff ("hour"' time' currentDateTime) + "Сʱǰ";  	if (DateDiff ("minute"' time' currentDateTime) > 0)  		return DateDiff ("minute"' time' currentDateTime) + "����ǰ";  	if (DateDiff ("second"' time' currentDateTime) >= 0)  		return DateDiff ("second"' time' currentDateTime) + "��ǰ";  	else  		return "�ղ�";  	//Ϊ�˽��postdatetimeʱ�侫�Ȳ������·���ʱ������ļ���  }  else {  	switch (currentDateTime.Day - time.Day) {  	case 0:  		result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	case 1:  		result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	case 2:  		result = "ǰ�� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	default:  		result = time.ToString ("yyyy-MM-dd HH:mm");  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The following statement contains a magic number: if (DateDiff ("hour"' time' currentDateTime) <= 10)//���date�͵�ǰʱ������10Сʱ��(������3Сʱ)   {  	if (DateDiff ("hour"' time' currentDateTime) > 0)  		return DateDiff ("hour"' time' currentDateTime) + "Сʱǰ";  	if (DateDiff ("minute"' time' currentDateTime) > 0)  		return DateDiff ("minute"' time' currentDateTime) + "����ǰ";  	if (DateDiff ("second"' time' currentDateTime) >= 0)  		return DateDiff ("second"' time' currentDateTime) + "��ǰ";  	else  		return "�ղ�";  	//Ϊ�˽��postdatetimeʱ�侫�Ȳ������·���ʱ������ļ���  }  else {  	switch (currentDateTime.Day - time.Day) {  	case 0:  		result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	case 1:  		result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	case 2:  		result = "ǰ�� " + time.ToString ("HH") + ":" + time.ToString ("mm");  		break;  	default:  		result = time.ToString ("yyyy-MM-dd HH:mm");  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertDateTime,The following statement contains a magic number: switch (currentDateTime.Day - time.Day) {  case 0:  	result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  	break;  case 1:  	result = "���� " + time.ToString ("HH") + ":" + time.ToString ("mm");  	break;  case 2:  	result = "ǰ�� " + time.ToString ("HH") + ":" + time.ToString ("mm");  	break;  default:  	result = time.ToString ("yyyy-MM-dd HH:mm");  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: lngDateDiffValue = (long)(TS.Days / 7);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: lngDateDiffValue = (long)(TS.Days / 30);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: lngDateDiffValue = (long)((TS.Days / 30) / 3);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: lngDateDiffValue = (long)((TS.Days / 30) / 3);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following statement contains a magic number: lngDateDiffValue = (long)(TS.Days / 365);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,ConvertCreditAndAmountToWord,The following statement contains a magic number: if (credit < 1 || credit > 8)  	return "0";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: for (int i = 0; i < validScoreName.Length; i++) {  	if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  		switch ("Extcredits" + i) {  		case "Extcredits1":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  			break;  		case "Extcredits2":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  			break;  		case "Extcredits3":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  			break;  		case "Extcredits4":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  			break;  		case "Extcredits5":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  			break;  		case "Extcredits6":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  			break;  		case "Extcredits7":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  			break;  		case "Extcredits8":  			scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (validScoreName [i])) {  	switch ("Extcredits" + i) {  	case "Extcredits1":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  		break;  	case "Extcredits2":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  		break;  	case "Extcredits3":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  		break;  	case "Extcredits4":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  		break;  	case "Extcredits5":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  		break;  	case "Extcredits6":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  		break;  	case "Extcredits7":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  		break;  	case "Extcredits8":  		scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  		break;  	}  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following statement contains a magic number: cookie.Expires = DateTime.Now.AddMinutes (5);  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SetVisitedForumsCookie,The following statement contains a magic number: if (visitedForums == "")  	//Cookie������  	visitedForums = fid;  else {  	int pos = string.Concat ("'"' visitedForums' "'").IndexOf (string.Concat ("'"' fid' "'"));  	//δ���б���  	if (pos == -1)  		visitedForums = fid + "'" + visitedForums;  	//λ�ó����ڵ�һ�ַ�֮��  	if (pos > 0)  		visitedForums = fid + "'" + visitedForums.Replace (string.Concat ("'"' fid)' "");  	//��������¸��ӵ���ͷ                 	if (visitedForums.Split (''').Length > 10)  		//�������10����飬������İ����б�ȥ��  		visitedForums = visitedForums.Substring (0' visitedForums.LastIndexOf ("'"));  }  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SetVisitedForumsCookie,The following statement contains a magic number: if (visitedForums.Split (''').Length > 10)  	//�������10����飬������İ����б�ȥ��  	visitedForums = visitedForums.Substring (0' visitedForums.LastIndexOf ("'"));  
Magic Number,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,SetVisitedForumsCookie,The following statement contains a magic number: Utils.WriteCookie ("visitedforums"' visitedForums' 43200);  
Magic Number,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The following statement contains a magic number: while (ftpupload.DoUpload () > 0)  	perc = (int)(((ftpupload.BytesTotal) * 100) / ftpupload.FileSize);  
Magic Number,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The following statement contains a magic number: perc = (int)(((ftpupload.BytesTotal) * 100) / ftpupload.FileSize);  
Magic Number,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The following statement contains a magic number: return (perc >= 100) ? true : false;  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The following statement contains a magic number: if (eventTimer == null && ScheduleConfigs.GetConfig ().Enabled) {  	EventLogs.LogFileName = Utils.GetMapPath (string.Format ("{0}cache/scheduleeventfaildlog.config"' BaseConfigs.GetForumPath));  	EventManager.RootPath = Utils.GetMapPath (BaseConfigs.GetForumPath);  	eventTimer = new Timer (new TimerCallback (ScheduledEventWorkCallback)' context.Context' 60000' EventManager.TimerMinutesInterval * 60000);  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The following statement contains a magic number: if (eventTimer == null && ScheduleConfigs.GetConfig ().Enabled) {  	EventLogs.LogFileName = Utils.GetMapPath (string.Format ("{0}cache/scheduleeventfaildlog.config"' BaseConfigs.GetForumPath));  	EventManager.RootPath = Utils.GetMapPath (BaseConfigs.GetForumPath);  	eventTimer = new Timer (new TimerCallback (ScheduledEventWorkCallback)' context.Context' 60000' EventManager.TimerMinutesInterval * 60000);  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The following statement contains a magic number: eventTimer = new Timer (new TimerCallback (ScheduledEventWorkCallback)' context.Context' 60000' EventManager.TimerMinutesInterval * 60000);  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,Init,The following statement contains a magic number: eventTimer = new Timer (new TimerCallback (ScheduledEventWorkCallback)' context.Context' 60000' EventManager.TimerMinutesInterval * 60000);  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0) {  	requestPath = requestPath.StartsWith ("/") ? requestPath : "/" + requestPath;  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	string[] path = requestPath.Replace (BaseConfigs.GetForumPath' "/").Split ('/');  	//当使用伪aspx' 如:/版块别名/1(分页)等.  	if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  		int forumid = 0;  		foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  			if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  				forumid = foruminfo.Fid;  				break;  			}  		}  		if (forumid > 0) {  			string newUrl = "forumid=" + forumid;  			if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  				newUrl += "&page=" + path [2];  			}  			//通过参数设置指定模板  			if (config.Specifytemplate > 0) {  				strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  			return;  		}  	}  	context.Response.Redirect (baseconfig.Forumpath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=" + Templates.GetTemplateItem (Utils.StrToInt (strTemplateid' 0)).Directory + "&msg=" + Utils.UrlEncode ("您请求的版块信息无效!"));  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0) {  	requestPath = requestPath.StartsWith ("/") ? requestPath : "/" + requestPath;  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	string[] path = requestPath.Replace (BaseConfigs.GetForumPath' "/").Split ('/');  	//当使用伪aspx' 如:/版块别名/1(分页)等.  	if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  		int forumid = 0;  		foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  			if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  				forumid = foruminfo.Fid;  				break;  			}  		}  		if (forumid > 0) {  			string newUrl = "forumid=" + forumid;  			if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  				newUrl += "&page=" + path [2];  			}  			//通过参数设置指定模板  			if (config.Specifytemplate > 0) {  				strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  			return;  		}  	}  	context.Response.Redirect (baseconfig.Forumpath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=" + Templates.GetTemplateItem (Utils.StrToInt (strTemplateid' 0)).Directory + "&msg=" + Utils.UrlEncode ("您请求的版块信息无效!"));  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0) {  	requestPath = requestPath.StartsWith ("/") ? requestPath : "/" + requestPath;  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	string[] path = requestPath.Replace (BaseConfigs.GetForumPath' "/").Split ('/');  	//当使用伪aspx' 如:/版块别名/1(分页)等.  	if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  		int forumid = 0;  		foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  			if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  				forumid = foruminfo.Fid;  				break;  			}  		}  		if (forumid > 0) {  			string newUrl = "forumid=" + forumid;  			if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  				newUrl += "&page=" + path [2];  			}  			//通过参数设置指定模板  			if (config.Specifytemplate > 0) {  				strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  			return;  		}  	}  	context.Response.Redirect (baseconfig.Forumpath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=" + Templates.GetTemplateItem (Utils.StrToInt (strTemplateid' 0)).Directory + "&msg=" + Utils.UrlEncode ("您请求的版块信息无效!"));  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.IndexOf ("/install/") < 0 && requestPath.IndexOf ("/upgrade/") < 0 && (config.Iisurlrewrite == 1 || config.Aspxrewrite == 1) && requestPath.EndsWith ("/list.aspx") && requestPath.IndexOf ("/archiver/") < 0 && requestPath.IndexOf ("/admin/") < 0 && requestPath.IndexOf ("/aspx/") < 0 && requestPath.IndexOf ("/tools/") < 0 && requestPath.IndexOf ("/space/") < 0) {  	requestPath = requestPath.StartsWith ("/") ? requestPath : "/" + requestPath;  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	string[] path = requestPath.Replace (BaseConfigs.GetForumPath' "/").Split ('/');  	//当使用伪aspx' 如:/版块别名/1(分页)等.  	if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  		int forumid = 0;  		foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  			if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  				forumid = foruminfo.Fid;  				break;  			}  		}  		if (forumid > 0) {  			string newUrl = "forumid=" + forumid;  			if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  				newUrl += "&page=" + path [2];  			}  			//通过参数设置指定模板  			if (config.Specifytemplate > 0) {  				strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  			return;  		}  	}  	context.Response.Redirect (baseconfig.Forumpath + "tools/error.htm?forumpath=" + BaseConfigs.GetForumPath + "&templatepath=" + Templates.GetTemplateItem (Utils.StrToInt (strTemplateid' 0)).Directory + "&msg=" + Utils.UrlEncode ("您请求的版块信息无效!"));  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  	int forumid = 0;  	foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  		if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  			forumid = foruminfo.Fid;  			break;  		}  	}  	if (forumid > 0) {  		string newUrl = "forumid=" + forumid;  		if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  			newUrl += "&page=" + path [2];  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  	int forumid = 0;  	foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  		if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  			forumid = foruminfo.Fid;  			break;  		}  	}  	if (forumid > 0) {  		string newUrl = "forumid=" + forumid;  		if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  			newUrl += "&page=" + path [2];  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  	int forumid = 0;  	foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  		if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  			forumid = foruminfo.Fid;  			break;  		}  	}  	if (forumid > 0) {  		string newUrl = "forumid=" + forumid;  		if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  			newUrl += "&page=" + path [2];  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 1 && !Utils.StrIsNullOrEmpty (path [1])) {  	int forumid = 0;  	foreach (Discuz.Entity.ForumInfo foruminfo in Forums.GetForumList ()) {  		if (path [1].ToLower () == foruminfo.Rewritename.ToLower ()) {  			forumid = foruminfo.Fid;  			break;  		}  	}  	if (forumid > 0) {  		string newUrl = "forumid=" + forumid;  		if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  			newUrl += "&page=" + path [2];  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (forumid > 0) {  	string newUrl = "forumid=" + forumid;  	if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  		newUrl += "&page=" + path [2];  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (forumid > 0) {  	string newUrl = "forumid=" + forumid;  	if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  		newUrl += "&page=" + path [2];  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (forumid > 0) {  	string newUrl = "forumid=" + forumid;  	if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  		newUrl += "&page=" + path [2];  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (forumid > 0) {  	string newUrl = "forumid=" + forumid;  	if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  		newUrl += "&page=" + path [2];  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' "showforum.aspx"' newUrl);  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + "/showforum.aspx"' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  	newUrl += "&page=" + path [2];  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  	newUrl += "&page=" + path [2];  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  	newUrl += "&page=" + path [2];  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (path.Length > 2 && !Utils.StrIsNullOrEmpty (path [2]) && path [2] != "list.aspx") {  	newUrl += "&page=" + path [2];  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: newUrl += "&page=" + path [2];  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.StartsWith (forumPath)) {  	if (requestPath.Substring (forumPath.Length).IndexOf ("/") == -1) {  		// 当前样式id  		string strTemplateid = config.Templateid.ToString ();  		if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  			strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  		}  		if (requestPath.EndsWith ("/index.aspx")) {  			if (config.Indexpage == 0) {  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "forumindex.aspx"' int.Parse (strTemplateid));  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + "/forumindex.aspx");  			}  			else {  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "website.aspx"' int.Parse (strTemplateid));  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + "/website.aspx");  			}  			return;  		}  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (requestPath' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					if (config.BrowseCreateTemplate == 1) {  						CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' url.Page.Replace ("/"' "")' int.Parse (strTemplateid));  					}  					//通过参数设置指定模板  					if (config.Specifytemplate > 0) {  						strTemplateid = SelectTemplate (strTemplateid' url.Page' newUrl);  					}  					context.RewritePath (forumPath + "aspx/" + strTemplateid + url.Page' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  					return;  				}  			}  		}  		if (config.BrowseCreateTemplate == 1) {  			if (requestPath.IndexOf ("showtemplate.aspx") != -1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (DNTRequest.GetInt ("templateid"' 1)).Directory' config.Indexpage == 0 ? "forumindex.aspx" : "website.aspx"' DNTRequest.GetInt ("templateid"' 1));  				//当跳转模板页时，生成目标文件  			}  			CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' requestPath.Substring (context.Request.Path.LastIndexOf ("/")).Replace ("/"' "")' int.Parse (strTemplateid));  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' requestPath' context.Request.QueryString.ToString ());  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' string.Empty' context.Request.QueryString.ToString () + "&selectedtemplateid=" + strTemplateid);  	}  	else if (requestPath.StartsWith (forumPath + "archiver/")) {  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			string path = requestPath.Substring (forumPath.Length + 8);  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  					return;  				}  			}  		}  		return;  	}  	else if (requestPath.StartsWith (forumPath + "tools/")) {  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			string path = requestPath.Substring (forumPath.Length + 5);  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  					return;  				}  			}  		}  		return;  	}  	else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  		context.RewritePath (forumPath + "index.aspx");  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.StartsWith (forumPath)) {  	if (requestPath.Substring (forumPath.Length).IndexOf ("/") == -1) {  		// 当前样式id  		string strTemplateid = config.Templateid.ToString ();  		if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  			strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  		}  		if (requestPath.EndsWith ("/index.aspx")) {  			if (config.Indexpage == 0) {  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "forumindex.aspx"' int.Parse (strTemplateid));  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + "/forumindex.aspx");  			}  			else {  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "website.aspx"' int.Parse (strTemplateid));  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + "/website.aspx");  			}  			return;  		}  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (requestPath' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					if (config.BrowseCreateTemplate == 1) {  						CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' url.Page.Replace ("/"' "")' int.Parse (strTemplateid));  					}  					//通过参数设置指定模板  					if (config.Specifytemplate > 0) {  						strTemplateid = SelectTemplate (strTemplateid' url.Page' newUrl);  					}  					context.RewritePath (forumPath + "aspx/" + strTemplateid + url.Page' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  					return;  				}  			}  		}  		if (config.BrowseCreateTemplate == 1) {  			if (requestPath.IndexOf ("showtemplate.aspx") != -1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (DNTRequest.GetInt ("templateid"' 1)).Directory' config.Indexpage == 0 ? "forumindex.aspx" : "website.aspx"' DNTRequest.GetInt ("templateid"' 1));  				//当跳转模板页时，生成目标文件  			}  			CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' requestPath.Substring (context.Request.Path.LastIndexOf ("/")).Replace ("/"' "")' int.Parse (strTemplateid));  		}  		//通过参数设置指定模板  		if (config.Specifytemplate > 0) {  			strTemplateid = SelectTemplate (strTemplateid' requestPath' context.Request.QueryString.ToString ());  		}  		context.RewritePath (forumPath + "aspx/" + strTemplateid + requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' string.Empty' context.Request.QueryString.ToString () + "&selectedtemplateid=" + strTemplateid);  	}  	else if (requestPath.StartsWith (forumPath + "archiver/")) {  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			string path = requestPath.Substring (forumPath.Length + 8);  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  					return;  				}  			}  		}  		return;  	}  	else if (requestPath.StartsWith (forumPath + "tools/")) {  		//当使用伪aspx' 如:showforum-1.aspx等.  		if (config.Aspxrewrite == 1) {  			string path = requestPath.Substring (forumPath.Length + 5);  			foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  				if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  					string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  					context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  					return;  				}  			}  		}  		return;  	}  	else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  		context.RewritePath (forumPath + "index.aspx");  		return;  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.Substring (forumPath.Length).IndexOf ("/") == -1) {  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	if (requestPath.EndsWith ("/index.aspx")) {  		if (config.Indexpage == 0) {  			if (config.BrowseCreateTemplate == 1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "forumindex.aspx"' int.Parse (strTemplateid));  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/forumindex.aspx");  		}  		else {  			if (config.BrowseCreateTemplate == 1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "website.aspx"' int.Parse (strTemplateid));  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/website.aspx");  		}  		return;  	}  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (requestPath' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' url.Page.Replace ("/"' "")' int.Parse (strTemplateid));  				}  				//通过参数设置指定模板  				if (config.Specifytemplate > 0) {  					strTemplateid = SelectTemplate (strTemplateid' url.Page' newUrl);  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + url.Page' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  				return;  			}  		}  	}  	if (config.BrowseCreateTemplate == 1) {  		if (requestPath.IndexOf ("showtemplate.aspx") != -1) {  			CreateTemplate (forumPath' Templates.GetTemplateItem (DNTRequest.GetInt ("templateid"' 1)).Directory' config.Indexpage == 0 ? "forumindex.aspx" : "website.aspx"' DNTRequest.GetInt ("templateid"' 1));  			//当跳转模板页时，生成目标文件  		}  		CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' requestPath.Substring (context.Request.Path.LastIndexOf ("/")).Replace ("/"' "")' int.Parse (strTemplateid));  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' requestPath' context.Request.QueryString.ToString ());  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' string.Empty' context.Request.QueryString.ToString () + "&selectedtemplateid=" + strTemplateid);  }  else if (requestPath.StartsWith (forumPath + "archiver/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 8);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "tools/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 5);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  	context.RewritePath (forumPath + "index.aspx");  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.Substring (forumPath.Length).IndexOf ("/") == -1) {  	// 当前样式id  	string strTemplateid = config.Templateid.ToString ();  	if (Utils.InArray (Utils.GetCookie (Utils.GetTemplateCookieName ())' Templates.GetValidTemplateIDList ())) {  		strTemplateid = Utils.GetCookie (Utils.GetTemplateCookieName ());  	}  	if (requestPath.EndsWith ("/index.aspx")) {  		if (config.Indexpage == 0) {  			if (config.BrowseCreateTemplate == 1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "forumindex.aspx"' int.Parse (strTemplateid));  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/forumindex.aspx");  		}  		else {  			if (config.BrowseCreateTemplate == 1) {  				CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' "website.aspx"' int.Parse (strTemplateid));  			}  			context.RewritePath (forumPath + "aspx/" + strTemplateid + "/website.aspx");  		}  		return;  	}  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (requestPath' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				if (config.BrowseCreateTemplate == 1) {  					CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' url.Page.Replace ("/"' "")' int.Parse (strTemplateid));  				}  				//通过参数设置指定模板  				if (config.Specifytemplate > 0) {  					strTemplateid = SelectTemplate (strTemplateid' url.Page' newUrl);  				}  				context.RewritePath (forumPath + "aspx/" + strTemplateid + url.Page' string.Empty' newUrl + "&selectedtemplateid=" + strTemplateid);  				return;  			}  		}  	}  	if (config.BrowseCreateTemplate == 1) {  		if (requestPath.IndexOf ("showtemplate.aspx") != -1) {  			CreateTemplate (forumPath' Templates.GetTemplateItem (DNTRequest.GetInt ("templateid"' 1)).Directory' config.Indexpage == 0 ? "forumindex.aspx" : "website.aspx"' DNTRequest.GetInt ("templateid"' 1));  			//当跳转模板页时，生成目标文件  		}  		CreateTemplate (forumPath' Templates.GetTemplateItem (int.Parse (strTemplateid)).Directory' requestPath.Substring (context.Request.Path.LastIndexOf ("/")).Replace ("/"' "")' int.Parse (strTemplateid));  	}  	//通过参数设置指定模板  	if (config.Specifytemplate > 0) {  		strTemplateid = SelectTemplate (strTemplateid' requestPath' context.Request.QueryString.ToString ());  	}  	context.RewritePath (forumPath + "aspx/" + strTemplateid + requestPath.Substring (context.Request.Path.LastIndexOf ("/"))' string.Empty' context.Request.QueryString.ToString () + "&selectedtemplateid=" + strTemplateid);  }  else if (requestPath.StartsWith (forumPath + "archiver/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 8);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "tools/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 5);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  	context.RewritePath (forumPath + "index.aspx");  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.StartsWith (forumPath + "archiver/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 8);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "tools/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 5);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  	context.RewritePath (forumPath + "index.aspx");  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.StartsWith (forumPath + "archiver/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 8);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "tools/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 5);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  	context.RewritePath (forumPath + "index.aspx");  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (config.Aspxrewrite == 1) {  	string path = requestPath.Substring (forumPath.Length + 8);  	foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  		if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  			string newUrl = Regex.Replace (path' url.Pattern' url.QueryString' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  			context.RewritePath (forumPath + "archiver" + url.Page' string.Empty' newUrl);  			return;  		}  	}  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (requestPath.StartsWith (forumPath + "tools/")) {  	//当使用伪aspx' 如:showforum-1.aspx等.  	if (config.Aspxrewrite == 1) {  		string path = requestPath.Substring (forumPath.Length + 5);  		foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  			if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  				string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  				context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  				return;  			}  		}  	}  	return;  }  else if (requestPath.StartsWith (forumPath + "upload/") || requestPath.StartsWith (forumPath + "space/upload/") || requestPath.StartsWith (forumPath + "avatars/upload/")) {  	context.RewritePath (forumPath + "index.aspx");  	return;  }  
Magic Number,Discuz.Forum,HttpModule,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\HttpModule.cs,ReUrl_BeginRequest,The following statement contains a magic number: if (config.Aspxrewrite == 1) {  	string path = requestPath.Substring (forumPath.Length + 5);  	foreach (SiteUrls.URLRewrite url in SiteUrls.GetSiteUrls ().Urls) {  		if (Regex.IsMatch (path' url.Pattern' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase)) {  			string newUrl = Regex.Replace (path' url.Pattern' Utils.UrlDecode (url.QueryString)' Utils.GetRegexCompiledOptions () | RegexOptions.IgnoreCase);  			context.RewritePath (forumPath + "tools" + url.Page' string.Empty' newUrl);  			return;  		}  	}  }  
Magic Number,Discuz.Forum,Invitation,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Invitation.cs,BuildInviteCode,The following statement contains a magic number: while (i++ < 7) {  	code += sourceCode [inviteCodeRandom.Next (0' 25)];  }  
Magic Number,Discuz.Forum,Invitation,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Invitation.cs,BuildInviteCode,The following statement contains a magic number: while (i++ < 7) {  	code += sourceCode [inviteCodeRandom.Next (0' 25)];  }  
Magic Number,Discuz.Forum,Invitation,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Invitation.cs,BuildInviteCode,The following statement contains a magic number: code += sourceCode [inviteCodeRandom.Next (0' 25)];  
Magic Number,Discuz.Forum,Invitation,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Invitation.cs,CreateInviteCode,The following statement contains a magic number: if (inviteCode.InviteType == 3)  	inviteCode.MaxCount = configInfo.InviteCodeMaxCount > 1 ? configInfo.InviteCodeMaxCount : 1;  else  	inviteCode.MaxCount = configInfo.InviteCodeMaxCount;  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: if ((Utils.StrToInt (ip [0]' 0) < 255 || Utils.StrToInt (ip [1]' 0) < 255 || Utils.StrToInt (ip [2]' 0) < 255 || Utils.StrToInt (ip [3]' 0) < 255) && (ip [0] != "0" && ip [1] != "0" && ip [2] != "0" && ip [3] != "0")) {  	IpInfo info = new IpInfo ();  	info.Ip1 = TypeConverter.StrToInt (ip [0]);  	info.Ip2 = TypeConverter.StrToInt (ip [1]' 0);  	info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  	info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  	info.Username = username;  	info.Dateline = DateTime.Now.ToShortDateString ();  	info.Expiration = DateTime.Now.AddDays (deteline).ToString ("yyyy-MM-dd");  	;  	Discuz.Data.Ips.AddBannedIp (info);  }  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: info.Ip3 = TypeConverter.StrToInt (ip [2]' 0);  
Magic Number,Discuz.Forum,Ips,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Ips.cs,AddBannedIp,The following statement contains a magic number: info.Ip4 = TypeConverter.StrToInt (ip [3]' 0);  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: lock (lockHelper) {  	DataTable dt = Discuz.Data.LoginLogs.GetErrLoginRecordByIP (ip);  	if (dt.Rows.Count > 0) {  		int errcount = Utils.StrToInt (dt.Rows [0] [0].ToString ()' 0);  		if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  			if ((errcount >= 5) || (!update)) {  				return errcount;  			}  			else {  				Discuz.Data.LoginLogs.AddErrLoginCount (ip);  				return errcount + 1;  			}  		}  		Discuz.Data.LoginLogs.ResetErrLoginCount (ip);  		return 1;  	}  	else {  		if (update)  			Discuz.Data.LoginLogs.AddErrLoginRecord (ip);  		return 1;  	}  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: lock (lockHelper) {  	DataTable dt = Discuz.Data.LoginLogs.GetErrLoginRecordByIP (ip);  	if (dt.Rows.Count > 0) {  		int errcount = Utils.StrToInt (dt.Rows [0] [0].ToString ()' 0);  		if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  			if ((errcount >= 5) || (!update)) {  				return errcount;  			}  			else {  				Discuz.Data.LoginLogs.AddErrLoginCount (ip);  				return errcount + 1;  			}  		}  		Discuz.Data.LoginLogs.ResetErrLoginCount (ip);  		return 1;  	}  	else {  		if (update)  			Discuz.Data.LoginLogs.AddErrLoginRecord (ip);  		return 1;  	}  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: if (dt.Rows.Count > 0) {  	int errcount = Utils.StrToInt (dt.Rows [0] [0].ToString ()' 0);  	if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  		if ((errcount >= 5) || (!update)) {  			return errcount;  		}  		else {  			Discuz.Data.LoginLogs.AddErrLoginCount (ip);  			return errcount + 1;  		}  	}  	Discuz.Data.LoginLogs.ResetErrLoginCount (ip);  	return 1;  }  else {  	if (update)  		Discuz.Data.LoginLogs.AddErrLoginRecord (ip);  	return 1;  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: if (dt.Rows.Count > 0) {  	int errcount = Utils.StrToInt (dt.Rows [0] [0].ToString ()' 0);  	if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  		if ((errcount >= 5) || (!update)) {  			return errcount;  		}  		else {  			Discuz.Data.LoginLogs.AddErrLoginCount (ip);  			return errcount + 1;  		}  	}  	Discuz.Data.LoginLogs.ResetErrLoginCount (ip);  	return 1;  }  else {  	if (update)  		Discuz.Data.LoginLogs.AddErrLoginRecord (ip);  	return 1;  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  	if ((errcount >= 5) || (!update)) {  		return errcount;  	}  	else {  		Discuz.Data.LoginLogs.AddErrLoginCount (ip);  		return errcount + 1;  	}  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: if (Utils.StrDateDiffMinutes (dt.Rows [0] [1].ToString ()' 0) < 15) {  	if ((errcount >= 5) || (!update)) {  		return errcount;  	}  	else {  		Discuz.Data.LoginLogs.AddErrLoginCount (ip);  		return errcount + 1;  	}  }  
Magic Number,Discuz.Forum,LoginLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\LoginLogs.cs,UpdateLoginLog,The following statement contains a magic number: if ((errcount >= 5) || (!update)) {  	return errcount;  }  else {  	Discuz.Data.LoginLogs.AddErrLoginCount (ip);  	return errcount + 1;  }  
Magic Number,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,CreateMenuJson,The following statement contains a magic number: menustr.Append (Utils.DataTableToJSON (dsSrc.Tables [2]));  
Magic Number,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,CreateMenuJson,The following statement contains a magic number: if (dsSrc.Tables.Count < 4)  	menustr.Append ("[]");  else  	menustr.Append (Utils.DataTableToJSON (dsSrc.Tables [3]));  
Magic Number,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,CreateMenuJson,The following statement contains a magic number: if (dsSrc.Tables.Count < 4)  	menustr.Append ("[]");  else  	menustr.Append (Utils.DataTableToJSON (dsSrc.Tables [3]));  
Magic Number,Discuz.Forum,MenuManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\MenuManage.cs,CreateMenuJson,The following statement contains a magic number: menustr.Append (Utils.DataTableToJSON (dsSrc.Tables [3]));  
Magic Number,Discuz.Forum,Moderators,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Moderators.cs,IsModer,The following statement contains a magic number: if (adminId == 1 || adminId == 2)  	return true;  
Magic Number,Discuz.Forum,Moderators,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Moderators.cs,IsModer,The following statement contains a magic number: if (adminId == 3) {  	// ����ǹ���Ա���ܰ���' ��������ͨ�������ڸð���а���Ȩ��  	foreach (ModeratorInfo moderInfo in GetModeratorList ()) {  		// ��̳�������д���'�򷵻���  		if (moderInfo.Uid == uid && moderInfo.Fid == fid)  			return true;  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (dt != null) {  	foreach (System.Data.DataRow dr in dt.Rows) {  		nav = ChangeStyleForCurrentUrl (dr);  		//使用等级  0 游客 1 会员  2 版主  3 管理员  		switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  		case 0:  			mainNavList.Add (nav);  			break;  		case 1: {  			if (userid != -1)  				mainNavList.Add (nav);  			break;  		}  		case 2: {  			if (useradminid == 3 || useradminid == 1 || useradminid == 2)  				mainNavList.Add (nav);  			break;  		}  		case 3: {  			if (useradminid == 1)  				mainNavList.Add (nav);  			break;  		}  		}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (dt != null) {  	foreach (System.Data.DataRow dr in dt.Rows) {  		nav = ChangeStyleForCurrentUrl (dr);  		//使用等级  0 游客 1 会员  2 版主  3 管理员  		switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  		case 0:  			mainNavList.Add (nav);  			break;  		case 1: {  			if (userid != -1)  				mainNavList.Add (nav);  			break;  		}  		case 2: {  			if (useradminid == 3 || useradminid == 1 || useradminid == 2)  				mainNavList.Add (nav);  			break;  		}  		case 3: {  			if (useradminid == 1)  				mainNavList.Add (nav);  			break;  		}  		}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (dt != null) {  	foreach (System.Data.DataRow dr in dt.Rows) {  		nav = ChangeStyleForCurrentUrl (dr);  		//使用等级  0 游客 1 会员  2 版主  3 管理员  		switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  		case 0:  			mainNavList.Add (nav);  			break;  		case 1: {  			if (userid != -1)  				mainNavList.Add (nav);  			break;  		}  		case 2: {  			if (useradminid == 3 || useradminid == 1 || useradminid == 2)  				mainNavList.Add (nav);  			break;  		}  		case 3: {  			if (useradminid == 1)  				mainNavList.Add (nav);  			break;  		}  		}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (dt != null) {  	foreach (System.Data.DataRow dr in dt.Rows) {  		nav = ChangeStyleForCurrentUrl (dr);  		//使用等级  0 游客 1 会员  2 版主  3 管理员  		switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  		case 0:  			mainNavList.Add (nav);  			break;  		case 1: {  			if (userid != -1)  				mainNavList.Add (nav);  			break;  		}  		case 2: {  			if (useradminid == 3 || useradminid == 1 || useradminid == 2)  				mainNavList.Add (nav);  			break;  		}  		case 3: {  			if (useradminid == 1)  				mainNavList.Add (nav);  			break;  		}  		}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (dt != null) {  	foreach (System.Data.DataRow dr in dt.Rows) {  		nav = ChangeStyleForCurrentUrl (dr);  		//使用等级  0 游客 1 会员  2 版主  3 管理员  		switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  		case 0:  			mainNavList.Add (nav);  			break;  		case 1: {  			if (userid != -1)  				mainNavList.Add (nav);  			break;  		}  		case 2: {  			if (useradminid == 3 || useradminid == 1 || useradminid == 2)  				mainNavList.Add (nav);  			break;  		}  		case 3: {  			if (useradminid == 1)  				mainNavList.Add (nav);  			break;  		}  		}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: foreach (System.Data.DataRow dr in dt.Rows) {  	nav = ChangeStyleForCurrentUrl (dr);  	//使用等级  0 游客 1 会员  2 版主  3 管理员  	switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  	case 0:  		mainNavList.Add (nav);  		break;  	case 1: {  		if (userid != -1)  			mainNavList.Add (nav);  		break;  	}  	case 2: {  		if (useradminid == 3 || useradminid == 1 || useradminid == 2)  			mainNavList.Add (nav);  		break;  	}  	case 3: {  		if (useradminid == 1)  			mainNavList.Add (nav);  		break;  	}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: foreach (System.Data.DataRow dr in dt.Rows) {  	nav = ChangeStyleForCurrentUrl (dr);  	//使用等级  0 游客 1 会员  2 版主  3 管理员  	switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  	case 0:  		mainNavList.Add (nav);  		break;  	case 1: {  		if (userid != -1)  			mainNavList.Add (nav);  		break;  	}  	case 2: {  		if (useradminid == 3 || useradminid == 1 || useradminid == 2)  			mainNavList.Add (nav);  		break;  	}  	case 3: {  		if (useradminid == 1)  			mainNavList.Add (nav);  		break;  	}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: foreach (System.Data.DataRow dr in dt.Rows) {  	nav = ChangeStyleForCurrentUrl (dr);  	//使用等级  0 游客 1 会员  2 版主  3 管理员  	switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  	case 0:  		mainNavList.Add (nav);  		break;  	case 1: {  		if (userid != -1)  			mainNavList.Add (nav);  		break;  	}  	case 2: {  		if (useradminid == 3 || useradminid == 1 || useradminid == 2)  			mainNavList.Add (nav);  		break;  	}  	case 3: {  		if (useradminid == 1)  			mainNavList.Add (nav);  		break;  	}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: foreach (System.Data.DataRow dr in dt.Rows) {  	nav = ChangeStyleForCurrentUrl (dr);  	//使用等级  0 游客 1 会员  2 版主  3 管理员  	switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  	case 0:  		mainNavList.Add (nav);  		break;  	case 1: {  		if (userid != -1)  			mainNavList.Add (nav);  		break;  	}  	case 2: {  		if (useradminid == 3 || useradminid == 1 || useradminid == 2)  			mainNavList.Add (nav);  		break;  	}  	case 3: {  		if (useradminid == 1)  			mainNavList.Add (nav);  		break;  	}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: foreach (System.Data.DataRow dr in dt.Rows) {  	nav = ChangeStyleForCurrentUrl (dr);  	//使用等级  0 游客 1 会员  2 版主  3 管理员  	switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  	case 0:  		mainNavList.Add (nav);  		break;  	case 1: {  		if (userid != -1)  			mainNavList.Add (nav);  		break;  	}  	case 2: {  		if (useradminid == 3 || useradminid == 1 || useradminid == 2)  			mainNavList.Add (nav);  		break;  	}  	case 3: {  		if (useradminid == 1)  			mainNavList.Add (nav);  		break;  	}  	}  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (useradminid == 3 || useradminid == 1 || useradminid == 2)  	mainNavList.Add (nav);  
Magic Number,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following statement contains a magic number: if (useradminid == 3 || useradminid == 1 || useradminid == 2)  	mainNavList.Add (nav);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,GetOnlineAllUserCount,The following statement contains a magic number: cache.AddObject ("/Forum/OnlineUserCount"' onlineAllUserCount' onlineUserCountCacheMinute * 60);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,GetCacheOnlineAllUserCount,The following statement contains a magic number: if (count == 0) {  	count = OnlineUsers.GetOnlineAllUserCount ();  	Utils.WriteCookie ("onlineusercount"' count.ToString ()' 3);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,GetCacheOnlineAllUserCount,The following statement contains a magic number: Utils.WriteCookie ("onlineusercount"' count.ToString ()' 3);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,ResetOnlineList,The following statement contains a magic number: try {  	// �����������ϵͳ����ʱ��С��10����  	if (System.Environment.TickCount < 600000 && System.Environment.TickCount > 0)  		return Discuz.Data.OnlineUsers.CreateOnlineTable ();  	return -1;  }  catch {  	try {  		return Discuz.Data.OnlineUsers.CreateOnlineTable ();  	}  	catch {  		return -1;  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,ResetOnlineList,The following statement contains a magic number: if (System.Environment.TickCount < 600000 && System.Environment.TickCount > 0)  	return Discuz.Data.OnlineUsers.CreateOnlineTable ();  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckUserVerifyCode,The following statement contains a magic number: return Discuz.Data.OnlineUsers.CheckUserVerifyCode (olid' verifycode' ForumUtils.CreateAuthStr (5' false));  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateGuestUser,The following statement contains a magic number: onlineuserinfo.Groupid = 7;  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateGuestUser,The following statement contains a magic number: onlineuserinfo.Olimg = GetGroupImg (7);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateGuestUser,The following statement contains a magic number: onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (uid > 0) {  	ShortUserInfo ui = Users.GetShortUserInfo (uid);  	if (ui != null) {  		onlineuserinfo.Userid = uid;  		onlineuserinfo.Username = ui.Username.Trim ();  		onlineuserinfo.Nickname = ui.Nickname.Trim ();  		onlineuserinfo.Password = ui.Password.Trim ();  		onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  		onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  		onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  		onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  		onlineuserinfo.Ip = DNTRequest.GetIP ();  		onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  		onlineuserinfo.Action = 0;  		onlineuserinfo.Lastactivity = 0;  		onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  		int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  		int newNotices = Notices.GetNewNoticeCountByUid (uid);  		onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  		onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  		//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  		//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  		onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  		//��������Ա���͹�ע֪ͨ  		if (ui.Adminid > 0 && ui.Adminid < 4) {  			if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  				NoticeInfo ni = new NoticeInfo ();  				ni.New = 1;  				ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  				ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  				ni.Type = NoticeType.AttentionNotice;  				ni.Poster = "";  				ni.Posterid = 0;  				ni.Uid = ui.Uid;  				Notices.CreateNoticeInfo (ni);  			}  		}  		Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  		HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  		if (cookie != null) {  			cookie.Values ["tpp"] = ui.Tpp.ToString ();  			cookie.Values ["ppp"] = ui.Ppp.ToString ();  			if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  				int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  				if (expires > 0) {  					cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  				}  			}  		}  		string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  		if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  			cookie.Domain = cookieDomain;  		HttpContext.Current.Response.AppendCookie (cookie);  	}  	else {  		onlineuserinfo = CreateGuestUser (timeout);  	}  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (uid > 0) {  	ShortUserInfo ui = Users.GetShortUserInfo (uid);  	if (ui != null) {  		onlineuserinfo.Userid = uid;  		onlineuserinfo.Username = ui.Username.Trim ();  		onlineuserinfo.Nickname = ui.Nickname.Trim ();  		onlineuserinfo.Password = ui.Password.Trim ();  		onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  		onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  		onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  		onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  		onlineuserinfo.Ip = DNTRequest.GetIP ();  		onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  		onlineuserinfo.Action = 0;  		onlineuserinfo.Lastactivity = 0;  		onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  		int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  		int newNotices = Notices.GetNewNoticeCountByUid (uid);  		onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  		onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  		//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  		//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  		onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  		//��������Ա���͹�ע֪ͨ  		if (ui.Adminid > 0 && ui.Adminid < 4) {  			if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  				NoticeInfo ni = new NoticeInfo ();  				ni.New = 1;  				ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  				ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  				ni.Type = NoticeType.AttentionNotice;  				ni.Poster = "";  				ni.Posterid = 0;  				ni.Uid = ui.Uid;  				Notices.CreateNoticeInfo (ni);  			}  		}  		Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  		HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  		if (cookie != null) {  			cookie.Values ["tpp"] = ui.Tpp.ToString ();  			cookie.Values ["ppp"] = ui.Ppp.ToString ();  			if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  				int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  				if (expires > 0) {  					cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  				}  			}  		}  		string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  		if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  			cookie.Domain = cookieDomain;  		HttpContext.Current.Response.AppendCookie (cookie);  	}  	else {  		onlineuserinfo = CreateGuestUser (timeout);  	}  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (uid > 0) {  	ShortUserInfo ui = Users.GetShortUserInfo (uid);  	if (ui != null) {  		onlineuserinfo.Userid = uid;  		onlineuserinfo.Username = ui.Username.Trim ();  		onlineuserinfo.Nickname = ui.Nickname.Trim ();  		onlineuserinfo.Password = ui.Password.Trim ();  		onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  		onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  		onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  		onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  		onlineuserinfo.Ip = DNTRequest.GetIP ();  		onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  		onlineuserinfo.Action = 0;  		onlineuserinfo.Lastactivity = 0;  		onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  		int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  		int newNotices = Notices.GetNewNoticeCountByUid (uid);  		onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  		onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  		//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  		//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  		onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  		//��������Ա���͹�ע֪ͨ  		if (ui.Adminid > 0 && ui.Adminid < 4) {  			if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  				NoticeInfo ni = new NoticeInfo ();  				ni.New = 1;  				ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  				ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  				ni.Type = NoticeType.AttentionNotice;  				ni.Poster = "";  				ni.Posterid = 0;  				ni.Uid = ui.Uid;  				Notices.CreateNoticeInfo (ni);  			}  		}  		Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  		HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  		if (cookie != null) {  			cookie.Values ["tpp"] = ui.Tpp.ToString ();  			cookie.Values ["ppp"] = ui.Ppp.ToString ();  			if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  				int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  				if (expires > 0) {  					cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  				}  			}  		}  		string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  		if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  			cookie.Domain = cookieDomain;  		HttpContext.Current.Response.AppendCookie (cookie);  	}  	else {  		onlineuserinfo = CreateGuestUser (timeout);  	}  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (uid > 0) {  	ShortUserInfo ui = Users.GetShortUserInfo (uid);  	if (ui != null) {  		onlineuserinfo.Userid = uid;  		onlineuserinfo.Username = ui.Username.Trim ();  		onlineuserinfo.Nickname = ui.Nickname.Trim ();  		onlineuserinfo.Password = ui.Password.Trim ();  		onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  		onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  		onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  		onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  		onlineuserinfo.Ip = DNTRequest.GetIP ();  		onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  		onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  		onlineuserinfo.Action = 0;  		onlineuserinfo.Lastactivity = 0;  		onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  		int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  		int newNotices = Notices.GetNewNoticeCountByUid (uid);  		onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  		onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  		//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  		//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  		onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  		//��������Ա���͹�ע֪ͨ  		if (ui.Adminid > 0 && ui.Adminid < 4) {  			if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  				NoticeInfo ni = new NoticeInfo ();  				ni.New = 1;  				ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  				ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  				ni.Type = NoticeType.AttentionNotice;  				ni.Poster = "";  				ni.Posterid = 0;  				ni.Uid = ui.Uid;  				Notices.CreateNoticeInfo (ni);  			}  		}  		Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  		HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  		if (cookie != null) {  			cookie.Values ["tpp"] = ui.Tpp.ToString ();  			cookie.Values ["ppp"] = ui.Ppp.ToString ();  			if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  				int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  				if (expires > 0) {  					cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  				}  			}  		}  		string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  		if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  			cookie.Domain = cookieDomain;  		HttpContext.Current.Response.AppendCookie (cookie);  	}  	else {  		onlineuserinfo = CreateGuestUser (timeout);  	}  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (ui != null) {  	onlineuserinfo.Userid = uid;  	onlineuserinfo.Username = ui.Username.Trim ();  	onlineuserinfo.Nickname = ui.Nickname.Trim ();  	onlineuserinfo.Password = ui.Password.Trim ();  	onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  	onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  	onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  	onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  	onlineuserinfo.Ip = DNTRequest.GetIP ();  	onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  	onlineuserinfo.Action = 0;  	onlineuserinfo.Lastactivity = 0;  	onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  	int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  	int newNotices = Notices.GetNewNoticeCountByUid (uid);  	onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  	onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  	//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  	//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  	onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  	//��������Ա���͹�ע֪ͨ  	if (ui.Adminid > 0 && ui.Adminid < 4) {  		if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  			NoticeInfo ni = new NoticeInfo ();  			ni.New = 1;  			ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  			ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  			ni.Type = NoticeType.AttentionNotice;  			ni.Poster = "";  			ni.Posterid = 0;  			ni.Uid = ui.Uid;  			Notices.CreateNoticeInfo (ni);  		}  	}  	Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  	HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  	if (cookie != null) {  		cookie.Values ["tpp"] = ui.Tpp.ToString ();  		cookie.Values ["ppp"] = ui.Ppp.ToString ();  		if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  			int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  			if (expires > 0) {  				cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  			}  		}  	}  	string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  	if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  		cookie.Domain = cookieDomain;  	HttpContext.Current.Response.AppendCookie (cookie);  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (ui != null) {  	onlineuserinfo.Userid = uid;  	onlineuserinfo.Username = ui.Username.Trim ();  	onlineuserinfo.Nickname = ui.Nickname.Trim ();  	onlineuserinfo.Password = ui.Password.Trim ();  	onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  	onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  	onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  	onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  	onlineuserinfo.Ip = DNTRequest.GetIP ();  	onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  	onlineuserinfo.Action = 0;  	onlineuserinfo.Lastactivity = 0;  	onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  	int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  	int newNotices = Notices.GetNewNoticeCountByUid (uid);  	onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  	onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  	//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  	//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  	onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  	//��������Ա���͹�ע֪ͨ  	if (ui.Adminid > 0 && ui.Adminid < 4) {  		if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  			NoticeInfo ni = new NoticeInfo ();  			ni.New = 1;  			ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  			ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  			ni.Type = NoticeType.AttentionNotice;  			ni.Poster = "";  			ni.Posterid = 0;  			ni.Uid = ui.Uid;  			Notices.CreateNoticeInfo (ni);  		}  	}  	Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  	HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  	if (cookie != null) {  		cookie.Values ["tpp"] = ui.Tpp.ToString ();  		cookie.Values ["ppp"] = ui.Ppp.ToString ();  		if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  			int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  			if (expires > 0) {  				cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  			}  		}  	}  	string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  	if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  		cookie.Domain = cookieDomain;  	HttpContext.Current.Response.AppendCookie (cookie);  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (ui != null) {  	onlineuserinfo.Userid = uid;  	onlineuserinfo.Username = ui.Username.Trim ();  	onlineuserinfo.Nickname = ui.Nickname.Trim ();  	onlineuserinfo.Password = ui.Password.Trim ();  	onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  	onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  	onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  	onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  	onlineuserinfo.Ip = DNTRequest.GetIP ();  	onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  	onlineuserinfo.Action = 0;  	onlineuserinfo.Lastactivity = 0;  	onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  	int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  	int newNotices = Notices.GetNewNoticeCountByUid (uid);  	onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  	onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  	//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  	//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  	onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  	//��������Ա���͹�ע֪ͨ  	if (ui.Adminid > 0 && ui.Adminid < 4) {  		if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  			NoticeInfo ni = new NoticeInfo ();  			ni.New = 1;  			ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  			ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  			ni.Type = NoticeType.AttentionNotice;  			ni.Poster = "";  			ni.Posterid = 0;  			ni.Uid = ui.Uid;  			Notices.CreateNoticeInfo (ni);  		}  	}  	Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  	HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  	if (cookie != null) {  		cookie.Values ["tpp"] = ui.Tpp.ToString ();  		cookie.Values ["ppp"] = ui.Ppp.ToString ();  		if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  			int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  			if (expires > 0) {  				cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  			}  		}  	}  	string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  	if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  		cookie.Domain = cookieDomain;  	HttpContext.Current.Response.AppendCookie (cookie);  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (ui != null) {  	onlineuserinfo.Userid = uid;  	onlineuserinfo.Username = ui.Username.Trim ();  	onlineuserinfo.Nickname = ui.Nickname.Trim ();  	onlineuserinfo.Password = ui.Password.Trim ();  	onlineuserinfo.Groupid = short.Parse (ui.Groupid.ToString ());  	onlineuserinfo.Olimg = GetGroupImg (short.Parse (ui.Groupid.ToString ()));  	onlineuserinfo.Adminid = short.Parse (ui.Adminid.ToString ());  	onlineuserinfo.Invisible = short.Parse (ui.Invisible.ToString ());  	onlineuserinfo.Ip = DNTRequest.GetIP ();  	onlineuserinfo.Lastposttime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastpostpmtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastsearchtime = "1900-1-1 00:00:00";  	onlineuserinfo.Lastupdatetime = Utils.GetDateTime ();  	onlineuserinfo.Action = 0;  	onlineuserinfo.Lastactivity = 0;  	onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  	int newPms = PrivateMessages.GetPrivateMessageCount (uid' 0' 1);  	int newNotices = Notices.GetNewNoticeCountByUid (uid);  	onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  	onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  	//onlineuserinfo.Newfriendrequest = short.Parse(Friendship.GetUserFriendRequestCount(uid).ToString());  	//onlineuserinfo.Newapprequest = short.Parse(ManyouApplications.GetApplicationInviteCount(uid).ToString());  	onlineuserinfo.Olid = Discuz.Data.OnlineUsers.CreateOnlineUserInfo (onlineuserinfo' timeout);  	//��������Ա���͹�ע֪ͨ  	if (ui.Adminid > 0 && ui.Adminid < 4) {  		if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  			NoticeInfo ni = new NoticeInfo ();  			ni.New = 1;  			ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  			ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  			ni.Type = NoticeType.AttentionNotice;  			ni.Poster = "";  			ni.Posterid = 0;  			ni.Uid = ui.Uid;  			Notices.CreateNoticeInfo (ni);  		}  	}  	Discuz.Data.OnlineUsers.SetUserOnlineState (uid' 1);  	HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  	if (cookie != null) {  		cookie.Values ["tpp"] = ui.Tpp.ToString ();  		cookie.Values ["ppp"] = ui.Ppp.ToString ();  		if (HttpContext.Current.Request.Cookies ["dnt"] ["expires"] != null) {  			int expires = TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0);  			if (expires > 0) {  				cookie.Expires = DateTime.Now.AddMinutes (TypeConverter.StrToInt (HttpContext.Current.Request.Cookies ["dnt"] ["expires"].ToString ()' 0));  			}  		}  	}  	string cookieDomain = GeneralConfigs.GetConfig ().CookieDomain.Trim ();  	if (!Utils.StrIsNullOrEmpty (cookieDomain) && HttpContext.Current.Request.Url.Host.IndexOf (cookieDomain) > -1 && ForumUtils.IsValidDomain (HttpContext.Current.Request.Url.Host))  		cookie.Domain = cookieDomain;  	HttpContext.Current.Response.AppendCookie (cookie);  }  else {  	onlineuserinfo = CreateGuestUser (timeout);  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: onlineuserinfo.Verifycode = ForumUtils.CreateAuthStr (5' false);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: onlineuserinfo.Newpms = short.Parse (newPms > 1000 ? "1000" : newPms.ToString ());  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: onlineuserinfo.Newnotices = short.Parse (newNotices > 1000 ? "1000" : newNotices.ToString ());  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CreateUser,The following statement contains a magic number: if (ui.Adminid > 0 && ui.Adminid < 4) {  	if (Discuz.Data.Notices.ReNewNotice ((int)NoticeType.AttentionNotice' ui.Uid) == 0) {  		NoticeInfo ni = new NoticeInfo ();  		ni.New = 1;  		ni.Note = "�뼰ʱ�鿴<a href=\"modcp.aspx?operation=attention&forumid=0\">��Ҫ��ע������</a>";  		ni.Postdatetime = DateTime.Now.ToString ("yyyy-MM-dd HH:mm:ss");  		ni.Type = NoticeType.AttentionNotice;  		ni.Poster = "";  		ni.Posterid = 0;  		ni.Uid = ui.Uid;  		Notices.CreateNoticeInfo (ni);  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckIp,The following statement contains a magic number: foreach (IpInfo ipinfo in list) {  	if (ip == (string.Format ("{0}.{1}.{2}.{3}"' ipinfo.Ip1' ipinfo.Ip2' ipinfo.Ip3' ipinfo.Ip4))) {  		errmsg = "����ip����'��" + ipinfo.Expiration + "����";  		break;  	}  	if (ipinfo.Ip4.ToString () == "*") {  		if ((TypeConverter.StrToInt (ip.Split ('.') [0]' -1) == ipinfo.Ip1) && (TypeConverter.StrToInt (ip.Split ('.') [1]' -1) == ipinfo.Ip2) && (TypeConverter.StrToInt (ip.Split ('.') [2]' -1) == ipinfo.Ip3)) {  			errmsg = "�����ڵ�ip�α���'��" + ipinfo.Expiration + "����";  			break;  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckIp,The following statement contains a magic number: if (ipinfo.Ip4.ToString () == "*") {  	if ((TypeConverter.StrToInt (ip.Split ('.') [0]' -1) == ipinfo.Ip1) && (TypeConverter.StrToInt (ip.Split ('.') [1]' -1) == ipinfo.Ip2) && (TypeConverter.StrToInt (ip.Split ('.') [2]' -1) == ipinfo.Ip3)) {  		errmsg = "�����ڵ�ip�α���'��" + ipinfo.Expiration + "����";  		break;  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,CheckIp,The following statement contains a magic number: if ((TypeConverter.StrToInt (ip.Split ('.') [0]' -1) == ipinfo.Ip1) && (TypeConverter.StrToInt (ip.Split ('.') [1]' -1) == ipinfo.Ip2) && (TypeConverter.StrToInt (ip.Split ('.') [2]' -1) == ipinfo.Ip3)) {  	errmsg = "�����ڵ�ip�α���'��" + ipinfo.Expiration + "����";  	break;  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: if ((timeout < 0) && (Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' Environment.TickCount) < 300000))  	Utils.WriteCookie ("lastolupdate"' Environment.TickCount.ToString ());  else  	UpdateAction (olid' action' inid);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: forumname = forumname.Length > 40 ? forumname.Substring (0' 37) + "..." : forumname;  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: forumname = forumname.Length > 40 ? forumname.Substring (0' 37) + "..." : forumname;  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: topictitle = topictitle.Length > 40 ? topictitle.Substring (0' 37) + "..." : topictitle;  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: topictitle = topictitle.Length > 40 ? topictitle.Substring (0' 37) + "..." : topictitle;  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: if (action == UserAction.PostReply.ActionID || action == UserAction.PostTopic.ActionID) {  	if (GeneralConfigs.GetConfig ().PostTimeStorageMedia == 0 || Utils.GetCookie ("lastposttime") == "")  		//�����⵽�û��ĸ�cookieֵΪ��(���û�����cookie)������Ҫͨ���������ݿ������б���ȷ����ֵ��׼ȷ�ԣ������ֻ�����û�cookie����֤��ֵ����ȷ��  		isupdate = true;  	else  		Utils.WriteCookie ("lastposttime"' Utils.GetDateTime ());  }  else if (GeneralConfigs.GetConfig ().Onlineoptimization != 1) {  	if (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) >= 300000)// ����ϴ�ˢ��cookie���С��5����' ��ˢ�����ݿ����ʱ��  	 {  		if (action == UserAction.ShowForum.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.PostReply.ActionID)  			isupdate = true;  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: if (GeneralConfigs.GetConfig ().Onlineoptimization != 1) {  	if (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) >= 300000)// ����ϴ�ˢ��cookie���С��5����' ��ˢ�����ݿ����ʱ��  	 {  		if (action == UserAction.ShowForum.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.PostReply.ActionID)  			isupdate = true;  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateAction,The following statement contains a magic number: if (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) >= 300000)// ����ϴ�ˢ��cookie���С��5����' ��ˢ�����ݿ����ʱ��   {  	if (action == UserAction.ShowForum.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.ShowTopic.ActionID || action == UserAction.PostReply.ActionID)  		isupdate = true;  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateLastTime,The following statement contains a magic number: if ((timeout < 0) && (System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastolupdate")' System.Environment.TickCount) < 300000))  	Utils.WriteCookie ("lastolupdate"' System.Environment.TickCount.ToString ());  else  	Discuz.Data.OnlineUsers.UpdateLastTime (olid);  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltimespan != 0) {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "onlinetime")))  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	//���ϴθ������ݿ����û�����ʱ��󵽵�ǰ��ʱ����  	int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount);  	if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  		Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  		oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  		//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  		if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  			Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  			Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltimespan != 0) {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "onlinetime")))  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	//���ϴθ������ݿ����û�����ʱ��󵽵�ǰ��ʱ����  	int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount);  	if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  		Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  		oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  		//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  		if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  			Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  			Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltimespan != 0) {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "onlinetime")))  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	//���ϴθ������ݿ����û�����ʱ��󵽵�ǰ��ʱ����  	int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount);  	if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  		Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  		oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  		//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  		if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  			Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  			Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltimespan != 0) {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "onlinetime")))  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	//���ϴθ������ݿ����û�����ʱ��󵽵�ǰ��ʱ����  	int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount);  	if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  		Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  		oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  		//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  		if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  			Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  			Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltimespan != 0) {  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "onlinetime")))  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	//���ϴθ������ݿ����û�����ʱ��󵽵�ǰ��ʱ����  	int oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "onlinetime")' System.Environment.TickCount);  	if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  		Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  		Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  		oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  		//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  		if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  			Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  			Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  	Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  	Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  	//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  		Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  		Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  	Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  	Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  	//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  		Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  		Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  	Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  	Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  	//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  		Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  		Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  	Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  	Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  	//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  		Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  		Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (oltime <= 0 /*TickCount 49���ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= oltimespan * 60 * 1000) {  	Discuz.Data.OnlineUsers.UpdateOnlineTime (oltimespan' uid);  	Utils.WriteCookie ("lastactivity"' "onlinetime"' System.Environment.TickCount.ToString ());  	oltime = System.Environment.TickCount - TypeConverter.StrToInt (Utils.GetCookie ("lastactivity"' "oltime")' System.Environment.TickCount);  	//�ж��Ƿ�ͬ��oltime (��¼��ĵ�һ��onlinetime���µ�ʱ��������߳���oltimespan2��ʱ����)  	if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  		Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  		Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  	}  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  	Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  	Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  	Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  	Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  }  
Magic Number,Discuz.Forum,OnlineUsers,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\OnlineUsers.cs,UpdateOnlineTime,The following statement contains a magic number: if (Utils.StrIsNullOrEmpty (Utils.GetCookie ("lastactivity"' "oltime")) || oltime <= 0 /*TickCount 49��ϵͳ�����㣬�����ɸ�ֵΪ��*/|| oltime >= (2 * oltimespan * 60 * 1000)) {  	Discuz.Data.OnlineUsers.SynchronizeOnlineTime (uid);  	Utils.WriteCookie ("lastactivity"' "oltime"' System.Environment.TickCount.ToString ());  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (la.IsClientLogin ()) {  	PlantEng.Login.LoginUserInfo loginUserInfo = la.GetLoginedUserInfo ();  	int _loginUserId = loginUserInfo.UserId;  	var _shortInfo = Users.GetShortUserInfo (_loginUserId);  	if (_shortInfo != null) {  		userid = _shortInfo.Uid;  	}  	//ShowMessage(string.Format("{0}"'userid)'0);  	//return;  	if (userid <= 0) {  		//论坛中不存在此用户  		//插入用户表  		UserInfo newUserInfo = new UserInfo ();  		newUserInfo.Uid = loginUserInfo.UserId;  		newUserInfo.Username = loginUserInfo.UserName;  		newUserInfo.Nickname = loginUserInfo.UserName;  		newUserInfo.Password = Utils.MD5 ("123123");  		newUserInfo.Secques = string.Empty;  		newUserInfo.Gender = 0;  		newUserInfo.Adminid = 0;  		newUserInfo.Groupexpiry = 0;  		newUserInfo.Extgroupids = "";  		newUserInfo.Regip = DNTRequest.GetIP ();  		newUserInfo.Joindate = Utils.GetDateTime ();  		newUserInfo.Lastip = DNTRequest.GetIP ();  		newUserInfo.Lastvisit = Utils.GetDateTime ();  		newUserInfo.Lastactivity = Utils.GetDateTime ();  		newUserInfo.Lastpost = Utils.GetDateTime ();  		newUserInfo.Lastpostid = 0;  		newUserInfo.Lastposttitle = "";  		newUserInfo.Posts = 0;  		newUserInfo.Digestposts = 0;  		newUserInfo.Oltime = 0;  		newUserInfo.Pageviews = 0;  		newUserInfo.Credits = 0;  		newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  		newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  		newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  		newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  		newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  		newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  		newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  		newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  		newUserInfo.Email = loginUserInfo.Email;  		newUserInfo.Bday = string.Empty;  		newUserInfo.Sigstatus = 0;  		newUserInfo.Tpp = 0;  		newUserInfo.Ppp = 0;  		newUserInfo.Templateid = 0;  		newUserInfo.Pmsound = 0;  		newUserInfo.Showemail = 0;  		newUserInfo.Salt = "0";  		newUserInfo.Invisible = 0;  		newUserInfo.Newpm = 0;  		newUserInfo.Medals = "";  		newUserInfo.Accessmasks = 0;  		newUserInfo.Website = string.Empty;  		newUserInfo.Icq = string.Empty;  		newUserInfo.Qq = string.Empty;  		newUserInfo.Yahoo = string.Empty;  		newUserInfo.Msn = string.Empty;  		newUserInfo.Skype = string.Empty;  		newUserInfo.Location = string.Empty;  		newUserInfo.Customstatus = string.Empty;  		newUserInfo.Bio = string.Empty;  		newUserInfo.Signature = string.Empty;  		newUserInfo.Sightml = string.Empty;  		newUserInfo.Authtime = Utils.GetDateTime ();  		newUserInfo.Authstr = "";  		newUserInfo.Authflag = 0;  		newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  		newUserInfo.Realname = string.Empty;  		newUserInfo.Idcard = string.Empty;  		newUserInfo.Mobile = string.Empty;  		newUserInfo.Phone = string.Empty;  		userid = Discuz.Forum.Users.CreateUser (newUserInfo);  	}  	//ShowMessage(string.Format("{0}|{1}"' userid'useradminid)' 0);  	//return;  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	usergroupinfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	useradminid = usergroupinfo.Radminid;  	// 根据用户组得到相关联的管理组id  	//更新论坛信息  	Users.UpdateTrendStat (TrendType.Login);  	OnlineUsers.UpdateAction (olid' UserAction.Login.ActionID' 0);  	LoginLogs.DeleteLoginLog (DNTRequest.GetIP ());  	Users.UpdateUserCreditsAndVisit (userInfo.Uid' DNTRequest.GetIP ());  	//写Cookie信息  	ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  	ForumUtils.WriteUserCreditsCookie (userInfo' usergroupinfo.Grouptitle);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (userid <= 0) {  	//论坛中不存在此用户  	//插入用户表  	UserInfo newUserInfo = new UserInfo ();  	newUserInfo.Uid = loginUserInfo.UserId;  	newUserInfo.Username = loginUserInfo.UserName;  	newUserInfo.Nickname = loginUserInfo.UserName;  	newUserInfo.Password = Utils.MD5 ("123123");  	newUserInfo.Secques = string.Empty;  	newUserInfo.Gender = 0;  	newUserInfo.Adminid = 0;  	newUserInfo.Groupexpiry = 0;  	newUserInfo.Extgroupids = "";  	newUserInfo.Regip = DNTRequest.GetIP ();  	newUserInfo.Joindate = Utils.GetDateTime ();  	newUserInfo.Lastip = DNTRequest.GetIP ();  	newUserInfo.Lastvisit = Utils.GetDateTime ();  	newUserInfo.Lastactivity = Utils.GetDateTime ();  	newUserInfo.Lastpost = Utils.GetDateTime ();  	newUserInfo.Lastpostid = 0;  	newUserInfo.Lastposttitle = "";  	newUserInfo.Posts = 0;  	newUserInfo.Digestposts = 0;  	newUserInfo.Oltime = 0;  	newUserInfo.Pageviews = 0;  	newUserInfo.Credits = 0;  	newUserInfo.Extcredits1 = Scoresets.GetScoreSet (1).Init;  	newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  	newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  	newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  	newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  	newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  	newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  	newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  	newUserInfo.Email = loginUserInfo.Email;  	newUserInfo.Bday = string.Empty;  	newUserInfo.Sigstatus = 0;  	newUserInfo.Tpp = 0;  	newUserInfo.Ppp = 0;  	newUserInfo.Templateid = 0;  	newUserInfo.Pmsound = 0;  	newUserInfo.Showemail = 0;  	newUserInfo.Salt = "0";  	newUserInfo.Invisible = 0;  	newUserInfo.Newpm = 0;  	newUserInfo.Medals = "";  	newUserInfo.Accessmasks = 0;  	newUserInfo.Website = string.Empty;  	newUserInfo.Icq = string.Empty;  	newUserInfo.Qq = string.Empty;  	newUserInfo.Yahoo = string.Empty;  	newUserInfo.Msn = string.Empty;  	newUserInfo.Skype = string.Empty;  	newUserInfo.Location = string.Empty;  	newUserInfo.Customstatus = string.Empty;  	newUserInfo.Bio = string.Empty;  	newUserInfo.Signature = string.Empty;  	newUserInfo.Sightml = string.Empty;  	newUserInfo.Authtime = Utils.GetDateTime ();  	newUserInfo.Authstr = "";  	newUserInfo.Authflag = 0;  	newUserInfo.Groupid = UserCredits.GetCreditsUserGroupId (0).Groupid;  	newUserInfo.Realname = string.Empty;  	newUserInfo.Idcard = string.Empty;  	newUserInfo.Mobile = string.Empty;  	newUserInfo.Phone = string.Empty;  	userid = Discuz.Forum.Users.CreateUser (newUserInfo);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits2 = Scoresets.GetScoreSet (2).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits3 = Scoresets.GetScoreSet (3).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits4 = Scoresets.GetScoreSet (4).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits5 = Scoresets.GetScoreSet (5).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits6 = Scoresets.GetScoreSet (6).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits7 = Scoresets.GetScoreSet (7).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: newUserInfo.Extcredits8 = Scoresets.GetScoreSet (8).Init;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: ForumUtils.WriteUserCookie (userid' 30' config.Passwordkey' 0' -1);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if ((pagename != "forumlist.aspx") && (pagename != "forumindex.aspx")) {  	oluserinfo = OnlineUsers.UpdateInfo (config.Passwordkey' config.Onlinetimeout);  }  else {  	try {  		oluserinfo = OnlineUsers.UpdateInfo (config.Passwordkey' config.Onlinetimeout);  	}  	catch {  		System.Threading.Thread.Sleep (2000);  		oluserinfo = OnlineUsers.UpdateInfo (config.Passwordkey' config.Onlinetimeout);  	}  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: try {  	oluserinfo = OnlineUsers.UpdateInfo (config.Passwordkey' config.Onlinetimeout);  }  catch {  	System.Threading.Thread.Sleep (2000);  	oluserinfo = OnlineUsers.UpdateInfo (config.Passwordkey' config.Onlinetimeout);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: System.Threading.Thread.Sleep (2000);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: userkey = password.Length > 16 ? password.Substring (4' 8).Trim () : "";  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: userkey = password.Length > 16 ? password.Substring (4' 8).Trim () : "";  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: userkey = password.Length > 16 ? password.Substring (4' 8).Trim () : "";  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (usergroupid == 4 || usergroupid == 5) {  	//int groupExpiry = Users.GetShortUserInfo(userid).Groupexpiry;  	//if (groupExpiry != 0 && groupExpiry <= Utils.StrToInt(DateTime.Now.ToString("yyyyMMdd")' 0))  	//{  	//    //先改为第一个积分组  	//    usergroupid = 11;  	//    //usergroupinfo = UserGroups.GetUserGroupInfo(usergroupid);  	//    Users.UpdateUserGroup(userid' 11);  	//}  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	if (userInfo.Groupexpiry != 0 && userInfo.Groupexpiry <= Utils.StrToInt (DateTime.Now.ToString ("yyyyMMdd")' 0)) {  		UserGroupInfo groupInfo = UserCredits.GetCreditsUserGroupId (userInfo.Credits);  		usergroupid = groupInfo.Groupid != 0 ? groupInfo.Groupid : usergroupid;  		Users.UpdateUserGroup (userid' usergroupid);  	}  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (usergroupid == 4 || usergroupid == 5) {  	//int groupExpiry = Users.GetShortUserInfo(userid).Groupexpiry;  	//if (groupExpiry != 0 && groupExpiry <= Utils.StrToInt(DateTime.Now.ToString("yyyyMMdd")' 0))  	//{  	//    //先改为第一个积分组  	//    usergroupid = 11;  	//    //usergroupinfo = UserGroups.GetUserGroupInfo(usergroupid);  	//    Users.UpdateUserGroup(userid' 11);  	//}  	ShortUserInfo userInfo = Users.GetShortUserInfo (userid);  	if (userInfo.Groupexpiry != 0 && userInfo.Groupexpiry <= Utils.StrToInt (DateTime.Now.ToString ("yyyyMMdd")' 0)) {  		UserGroupInfo groupInfo = UserCredits.GetCreditsUserGroupId (userInfo.Credits);  		usergroupid = groupInfo.Groupid != 0 ? groupInfo.Groupid : usergroupid;  		Users.UpdateUserGroup (userid' usergroupid);  	}  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: if (tips != "") {  	string[] userinfotipsList = tips.Split (''');  	//因为考虑到应用程序做单点登录时获取不到userinfotips，封装了此方法  	userinfotips = "<p><a class=\"drop\" onmouseover=\"showMenu(this.id);\" href=\"" + BaseConfigs.GetForumPath + "usercpcreditspay.aspx\" id=\"extcreditmenu\">" + userinfotipsList [0] + "</a> ";  	userinfotips += "<span class=\"pipe\">|</span>用户组: <a class=\"xi2\" id=\"g_upmine\" href=\"" + BaseConfigs.GetForumPath + "usercp.aspx\">" + userinfotipsList [1].Split (':') [1] + "</a></p>";  	userinfotips += "<ul id=\"extcreditmenu_menu\" class=\"p_pop\" style=\"display:none;\">";  	for (int i = 2; i < userinfotipsList.Length; i++) {  		userinfotips += string.Format ("<li><a> {0}</a></li>"' userinfotipsList [i]);  	}  	userinfotips += "</ul>";  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: for (int i = 2; i < userinfotipsList.Length; i++) {  	userinfotips += string.Format ("<li><a> {0}</a></li>"' userinfotipsList [i]);  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,PageBase,The following statement contains a magic number: m_processtime = DateTime.Now.Subtract (m_starttick).TotalMilliseconds / 1000;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetCachePage,The following statement contains a magic number: if (str != null && str.Length > 1) {  	System.Web.HttpContext.Current.Response.Write (str);  	System.Web.HttpContext.Current.Response.End ();  	return 2;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetCachePage,The following statement contains a magic number: return 2;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: switch (pagename) {  case "website.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "forumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "spaceindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "albumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "showtopic.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  		TopicStats.Track (topicid' 1);  		return true;  	}  	break;  }  case "showforum.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  		return true;  	break;  }  default:  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: switch (pagename) {  case "website.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "forumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "spaceindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "albumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "showtopic.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  		TopicStats.Track (topicid' 1);  		return true;  	}  	break;  }  case "showforum.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  		return true;  	break;  }  default:  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: switch (pagename) {  case "website.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "forumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "spaceindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "albumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "showtopic.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  		TopicStats.Track (topicid' 1);  		return true;  	}  	break;  }  case "showforum.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  		return true;  	break;  }  default:  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: switch (pagename) {  case "website.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "forumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "spaceindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "albumindex.aspx":  	isguestcachepage = GetCachePage (pagename);  	break;  case "showtopic.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  		TopicStats.Track (topicid' 1);  		return true;  	}  	break;  }  case "showforum.aspx": {  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  		return true;  	break;  }  default:  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  	TopicStats.Track (topicid' 1);  	return true;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && ForumUtils.ResponseShowTopicCacheFile (topicid' pageid)) {  	TopicStats.Track (topicid' 1);  	return true;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  	return true;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,GetUserCachePage,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && ForumUtils.ResponseShowForumCacheFile (forumid' pageid))  	return true;  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: if (usergroupinfo.Allowvisit != 1 && useradminid != 1 && pagename != "login.aspx" && pagename != "register.aspx" && pagename != "logout.aspx" && pagename != "activationuser.aspx" && pagename != "getpassword.aspx") {  	ShowMessage ("抱歉' 您所在的用户组不允许访问论坛"' 2);  	return false;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: ShowMessage ("抱歉' 您所在的用户组不允许访问论坛"' 2);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: if (config.Ipdenyaccess.Trim () != "") {  	string[] regctrl = Utils.SplitString (config.Ipdenyaccess' "\n");  	if (Utils.InIPArray (DNTRequest.GetIP ()' regctrl)) {  		ShowMessage ("由于您严重违反了论坛的相关规定' 已被禁止访问."' 2);  		return false;  	}  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: if (Utils.InIPArray (DNTRequest.GetIP ()' regctrl)) {  	ShowMessage ("由于您严重违反了论坛的相关规定' 已被禁止访问."' 2);  	return false;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: ShowMessage ("由于您严重违反了论坛的相关规定' 已被禁止访问."' 2);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: if (useradminid != 1 && pagename != "login.aspx" && pagename != "logout.aspx" && usergroupinfo.Disableperiodctrl != 1) {  	if (Scoresets.BetweenTime (config.Visitbanperiods)) {  		ShowMessage ("在此时间段内不允许访问本论坛"' 2);  		return false;  	}  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: if (Scoresets.BetweenTime (config.Visitbanperiods)) {  	ShowMessage ("在此时间段内不允许访问本论坛"' 2);  	return false;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ValidateUserPermission,The following statement contains a magic number: ShowMessage ("在此时间段内不允许访问本论坛"' 2);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,SetMetaRefresh,The following statement contains a magic number: SetMetaRefresh (2' msgbox_url);  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1073741824) {  	return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  }  else if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1073741824) * 100) / 100).ToString () + " G");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1048576) {  	return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  }  else if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1048576) * 100) / 100).ToString () + " M");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: if (bytes > 1024) {  	return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  }  else {  	return (bytes.ToString () + " Bytes");  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,FormatBytes,The following statement contains a magic number: return ((Math.Round ((bytes / 1024) * 100) / 100).ToString () + " K");  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,ShowMessage,The following statement contains a magic number: switch (mode) {  case 1:  	title = "论坛已关闭";  	body = config.Closedreason;  	break;  case 2:  	title = "禁止访问";  	body = hint;  	break;  default:  	title = "提示";  	body = hint;  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if (isguestcachepage == 1) {  	switch (pagename) {  	case "index.aspx":  		Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  		//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  		//ics.TimeOut = config.Guestcachepagetimeout * 60;  		//cache.LoadCacheStrategy(ics);  		string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  		if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  			templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  			cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  		}  		//cache.LoadDefaultCacheStrategy();  		break;  	case "showtopic.aspx": {  		int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	case "showforum.aspx": {  		int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	default:  		//  		break;  	}  }  #if DEBUG  else {  	System.Web.HttpContext.Current.Response.Clear ();  	System.Web.HttpContext.Current.Response.Write (templateBuilder.Replace ("</body>"' "<div>注意: 以下为数据查询分析工具，正式站点使用请使用官方发布版本或自行Release编译。</div>" + querydetail + "</body>").ToString ());  	System.Web.HttpContext.Current.Response.End ();  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if (isguestcachepage == 1) {  	switch (pagename) {  	case "index.aspx":  		Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  		//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  		//ics.TimeOut = config.Guestcachepagetimeout * 60;  		//cache.LoadCacheStrategy(ics);  		string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  		if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  			templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  			cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  		}  		//cache.LoadDefaultCacheStrategy();  		break;  	case "showtopic.aspx": {  		int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	case "showforum.aspx": {  		int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	default:  		//  		break;  	}  }  #if DEBUG  else {  	System.Web.HttpContext.Current.Response.Clear ();  	System.Web.HttpContext.Current.Response.Write (templateBuilder.Replace ("</body>"' "<div>注意: 以下为数据查询分析工具，正式站点使用请使用官方发布版本或自行Release编译。</div>" + querydetail + "</body>").ToString ());  	System.Web.HttpContext.Current.Response.End ();  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if (isguestcachepage == 1) {  	switch (pagename) {  	case "index.aspx":  		Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  		//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  		//ics.TimeOut = config.Guestcachepagetimeout * 60;  		//cache.LoadCacheStrategy(ics);  		string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  		if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  			templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  			cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  		}  		//cache.LoadDefaultCacheStrategy();  		break;  	case "showtopic.aspx": {  		int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	case "showforum.aspx": {  		int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	default:  		//  		break;  	}  }  #if DEBUG  else {  	System.Web.HttpContext.Current.Response.Clear ();  	System.Web.HttpContext.Current.Response.Write (templateBuilder.Replace ("</body>"' "<div>注意: 以下为数据查询分析工具，正式站点使用请使用官方发布版本或自行Release编译。</div>" + querydetail + "</body>").ToString ());  	System.Web.HttpContext.Current.Response.End ();  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if (isguestcachepage == 1) {  	switch (pagename) {  	case "index.aspx":  		Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  		//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  		//ics.TimeOut = config.Guestcachepagetimeout * 60;  		//cache.LoadCacheStrategy(ics);  		string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  		if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  			templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  			cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  		}  		//cache.LoadDefaultCacheStrategy();  		break;  	case "showtopic.aspx": {  		int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	case "showforum.aspx": {  		int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  		int pageid = DNTRequest.GetQueryInt ("page"' 1);  		//参数数目为2或0表示当前页面可能为第一页帖子列表  		if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  			ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  		}  		break;  	}  	default:  		//  		break;  	}  }  #if DEBUG  else {  	System.Web.HttpContext.Current.Response.Clear ();  	System.Web.HttpContext.Current.Response.Write (templateBuilder.Replace ("</body>"' "<div>注意: 以下为数据查询分析工具，正式站点使用请使用官方发布版本或自行Release编译。</div>" + querydetail + "</body>").ToString ());  	System.Web.HttpContext.Current.Response.End ();  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: switch (pagename) {  case "index.aspx":  	Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = config.Guestcachepagetimeout * 60;  	//cache.LoadCacheStrategy(ics);  	string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  	if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  		templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  		cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  	}  	//cache.LoadDefaultCacheStrategy();  	break;  case "showtopic.aspx": {  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  	}  	break;  }  case "showforum.aspx": {  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  	}  	break;  }  default:  	//  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: switch (pagename) {  case "index.aspx":  	Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = config.Guestcachepagetimeout * 60;  	//cache.LoadCacheStrategy(ics);  	string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  	if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  		templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  		cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  	}  	//cache.LoadDefaultCacheStrategy();  	break;  case "showtopic.aspx": {  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  	}  	break;  }  case "showforum.aspx": {  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  	}  	break;  }  default:  	//  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: switch (pagename) {  case "index.aspx":  	Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = config.Guestcachepagetimeout * 60;  	//cache.LoadCacheStrategy(ics);  	string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  	if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  		templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  		cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  	}  	//cache.LoadDefaultCacheStrategy();  	break;  case "showtopic.aspx": {  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  	}  	break;  }  case "showforum.aspx": {  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  	}  	break;  }  default:  	//  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: switch (pagename) {  case "index.aspx":  	Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  	//Discuz.Cache.ICacheStrategy ics = new ForumCacheStrategy();  	//ics.TimeOut = config.Guestcachepagetimeout * 60;  	//cache.LoadCacheStrategy(ics);  	string str = cache.RetrieveObject ("/Forum/GuestCachePage/" + pagename) as string;  	if (str == null && templateBuilder.Length > 1 && templateid == config.Templateid) {  		templateBuilder.Append ("\r\n\r\n<!-- Discuz!NT CachedPage (Created: " + Utils.GetDateTime () + ") -->");  		cache.AddObject ("/Forum/GuestCachePage/" + pagename' templateBuilder.ToString ());  	}  	//cache.LoadDefaultCacheStrategy();  	break;  case "showtopic.aspx": {  	int topicid = DNTRequest.GetQueryInt ("topicid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  	}  	break;  }  case "showforum.aspx": {  	int forumid = DNTRequest.GetQueryInt ("forumid"' 0);  	int pageid = DNTRequest.GetQueryInt ("page"' 1);  	//参数数目为2或0表示当前页面可能为第一页帖子列表  	if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  		ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  	}  	break;  }  default:  	//  	break;  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  	ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && topicid > 0 && templateid == config.Templateid) {  	ForumUtils.CreateShowTopicCacheFile (topicid' pageid' templateBuilder.ToString ());  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  	ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  }  
Magic Number,Discuz.Forum,PageBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PageBase.cs,OnUnload,The following statement contains a magic number: if ((DNTRequest.GetParamCount () == 2 || DNTRequest.GetParamCount () == 3) && forumid > 0 && templateid == config.Templateid) {  	ForumUtils.CreateShowForumCacheFile (forumid' pageid' templateBuilder.ToString ());  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,BuyTopic,The following statement contains a magic number: if (userInfo == null)  	return -2;  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,BuyTopic,The following statement contains a magic number: return -2;  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,PaymentLogs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PaymentLogs.cs,GetUserExtCredits,The following statement contains a magic number: switch (extCreditsId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The following statement contains a magic number: if (pollid > 0) {  	for (int i = 0; i < itemcount; i++) {  		PollOptionInfo polloptioninfo = new PollOptionInfo ();  		polloptioninfo.Displayorder = i + 1;  		polloptioninfo.Pollid = pollid;  		polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  		polloptioninfo.Tid = tid;  		polloptioninfo.Voternames = "";  		polloptioninfo.Votes = 0;  		Discuz.Data.Polls.CreatePollOption (polloptioninfo);  	}  	return true;  }  else {  	return false;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The following statement contains a magic number: for (int i = 0; i < itemcount; i++) {  	PollOptionInfo polloptioninfo = new PollOptionInfo ();  	polloptioninfo.Displayorder = i + 1;  	polloptioninfo.Pollid = pollid;  	polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  	polloptioninfo.Tid = tid;  	polloptioninfo.Voternames = "";  	polloptioninfo.Votes = 0;  	Discuz.Data.Polls.CreatePollOption (polloptioninfo);  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,CreatePoll,The following statement contains a magic number: polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: if (result) {  	List<PollOptionInfo> pollOptionInfoList = Discuz.Data.Polls.GetPollOptionInfoCollection (pollinfo.Tid);  	int i = 0;  	//先作已存在的投票选项更新及新添加选项的添加操作  	bool optionexist;  	foreach (string optionid in polloptionid) {  		optionexist = false;  		foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  			if (optionid == polloptioninfo.Polloptionid.ToString ()) {  				polloptioninfo.Pollid = pollinfo.Pollid;  				polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  				polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  				Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  				optionexist = true;  				break;  			}  		}  		if (!optionexist)//如果当前选项不存在，表示该选项为新添选项  		 {  			PollOptionInfo polloptioninfo = new PollOptionInfo ();  			polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  			polloptioninfo.Pollid = pollinfo.Pollid;  			polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  			polloptioninfo.Tid = tid;  			polloptioninfo.Voternames = "";  			polloptioninfo.Votes = 0;  			Discuz.Data.Polls.CreatePollOption (polloptioninfo);  		}  		i++;  	}  	foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  		//下面代码用于删除已去除的投票项  		if (("\r\n" + polloptionidlist + "\r\n").IndexOf ("\r\n" + polloptioninfo.Polloptionid + "\r\n") < 0)  			Discuz.Data.Polls.DeletePollOption (polloptioninfo);  	}  	return true;  }  else {  	return false;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: if (result) {  	List<PollOptionInfo> pollOptionInfoList = Discuz.Data.Polls.GetPollOptionInfoCollection (pollinfo.Tid);  	int i = 0;  	//先作已存在的投票选项更新及新添加选项的添加操作  	bool optionexist;  	foreach (string optionid in polloptionid) {  		optionexist = false;  		foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  			if (optionid == polloptioninfo.Polloptionid.ToString ()) {  				polloptioninfo.Pollid = pollinfo.Pollid;  				polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  				polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  				Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  				optionexist = true;  				break;  			}  		}  		if (!optionexist)//如果当前选项不存在，表示该选项为新添选项  		 {  			PollOptionInfo polloptioninfo = new PollOptionInfo ();  			polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  			polloptioninfo.Pollid = pollinfo.Pollid;  			polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  			polloptioninfo.Tid = tid;  			polloptioninfo.Voternames = "";  			polloptioninfo.Votes = 0;  			Discuz.Data.Polls.CreatePollOption (polloptioninfo);  		}  		i++;  	}  	foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  		//下面代码用于删除已去除的投票项  		if (("\r\n" + polloptionidlist + "\r\n").IndexOf ("\r\n" + polloptioninfo.Polloptionid + "\r\n") < 0)  			Discuz.Data.Polls.DeletePollOption (polloptioninfo);  	}  	return true;  }  else {  	return false;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: foreach (string optionid in polloptionid) {  	optionexist = false;  	foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  		if (optionid == polloptioninfo.Polloptionid.ToString ()) {  			polloptioninfo.Pollid = pollinfo.Pollid;  			polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  			polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  			Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  			optionexist = true;  			break;  		}  	}  	if (!optionexist)//如果当前选项不存在，表示该选项为新添选项  	 {  		PollOptionInfo polloptioninfo = new PollOptionInfo ();  		polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  		polloptioninfo.Pollid = pollinfo.Pollid;  		polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  		polloptioninfo.Tid = tid;  		polloptioninfo.Voternames = "";  		polloptioninfo.Votes = 0;  		Discuz.Data.Polls.CreatePollOption (polloptioninfo);  	}  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: foreach (string optionid in polloptionid) {  	optionexist = false;  	foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  		if (optionid == polloptioninfo.Polloptionid.ToString ()) {  			polloptioninfo.Pollid = pollinfo.Pollid;  			polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  			polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  			Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  			optionexist = true;  			break;  		}  	}  	if (!optionexist)//如果当前选项不存在，表示该选项为新添选项  	 {  		PollOptionInfo polloptioninfo = new PollOptionInfo ();  		polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  		polloptioninfo.Pollid = pollinfo.Pollid;  		polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  		polloptioninfo.Tid = tid;  		polloptioninfo.Voternames = "";  		polloptioninfo.Votes = 0;  		Discuz.Data.Polls.CreatePollOption (polloptioninfo);  	}  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	if (optionid == polloptioninfo.Polloptionid.ToString ()) {  		polloptioninfo.Pollid = pollinfo.Pollid;  		polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  		polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  		Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  		optionexist = true;  		break;  	}  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: if (optionid == polloptioninfo.Polloptionid.ToString ()) {  	polloptioninfo.Pollid = pollinfo.Pollid;  	polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  	polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  	Discuz.Data.Polls.UpdatePollOption (polloptioninfo);  	optionexist = true;  	break;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: if (!optionexist)//如果当前选项不存在，表示该选项为新添选项   {  	PollOptionInfo polloptioninfo = new PollOptionInfo ();  	polloptioninfo.Displayorder = Utils.StrIsNullOrEmpty (itemdisplayorder [i]) ? i + 1 : Utils.StrToInt (itemdisplayorder [i]' 0);  	polloptioninfo.Pollid = pollinfo.Pollid;  	polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  	polloptioninfo.Tid = tid;  	polloptioninfo.Voternames = "";  	polloptioninfo.Votes = 0;  	Discuz.Data.Polls.CreatePollOption (polloptioninfo);  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: polloptioninfo.Polloption = Utils.GetSubString (itemname [i]' 80' "");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: if (pollinfo.Pollid < 1)  	return -3;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,UpdatePoll,The following statement contains a magic number: return -3;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: foreach (PollOptionInfo polloptioninfo in pollOptionInfoList) {  	rowVals = new object[10];  	rowVals [0] = polloptioninfo.Polloption;  	rowVals [1] = polloptioninfo.Votes;  	rowVals [2] = i % 10;  	rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  	rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  	rowVals [5] = multiple;  	rowVals [6] = polloptioninfo.Polloptionid;  	rowVals [7] = polloptioninfo.Displayorder;  	if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  		//将投票人字段的数据重新组合成链接字符串  		foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  			votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  		}  		rowVals [8] = votername;  		votername = "";  	}  	else  		rowVals [8] = "";  	rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  	dt.Rows.Add (rowVals);  	i++;  }  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals = new object[10];  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [2] = i % 10;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [2] = i % 10;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [3] = (((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100) * 200 + 3).ToString ("0.00");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [4] = ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) * 100 / votesum) / 100).ToString ("0.00%");  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [5] = multiple;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [6] = polloptioninfo.Polloptionid;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [7] = polloptioninfo.Displayorder;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  	//将投票人字段的数据重新组合成链接字符串  	foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  		votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  	}  	rowVals [8] = votername;  	votername = "";  }  else  	rowVals [8] = "";  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (polloptioninfo.Voternames)) {  	//将投票人字段的数据重新组合成链接字符串  	foreach (string username in Utils.SplitString (polloptioninfo.Voternames' "\r\n")) {  		votername += "<a href=\"userinfo.aspx?username=" + Utils.UrlEncode (username.Trim ()) + "\">" + username.Trim () + "</a> ";  	}  	rowVals [8] = votername;  	votername = "";  }  else  	rowVals [8] = "";  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [8] = votername;  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [8] = "";  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  
Magic Number,Discuz.Forum,Polls,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Polls.cs,GetPollOptionList,The following statement contains a magic number: rowVals [9] = (420 * ((double)(Utils.StrToFloat (polloptioninfo.Votes' 0) / maxVote))).ToString ();  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,DeletePost,The following statement contains a magic number: if (config.Losslessdel == 0 || Utils.StrDateDiffHours (postInfo.Postdatetime' config.Losslessdel * 24) < 0) {  	//获取版块积分规则  	float[] creditsValue = Forums.GetValues (Forums.GetForumInfo (postInfo.Fid).Replycredits);  	//如果未定义版块积分规则  	if (creditsValue == null)  		creditsValue = Scoresets.GetUserExtCredits (CreditsOperationType.PostReply);  	UserCredits.UpdateUserExtCredits (postInfo.Posterid' creditsValue' 1' CreditsOperationType.PostReply' -1' true);  	UserCredits.UpdateUserCredits (postInfo.Posterid);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	dr ["spaces"] = Utils.GetSpacesString (Utils.StrToInt (dr ["layer"].ToString ()' 0));  	if (hide == -1)  		dr ["message"] = Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50);  	else  		dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit);  	if (!dr ["message"].Equals (""))  		dr ["title"] = dr ["message"];  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	dr ["spaces"] = Utils.GetSpacesString (Utils.StrToInt (dr ["layer"].ToString ()' 0));  	if (hide == -1)  		dr ["message"] = Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50);  	else  		dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit);  	if (!dr ["message"].Equals (""))  		dr ["title"] = dr ["message"];  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: if (hide == -1)  	dr ["message"] = Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50);  else  	dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: if (hide == -1)  	dr ["message"] = Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50);  else  	dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: dr ["message"] = Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTree,The following statement contains a magic number: dr ["message"] = UBB.HideDetail (Utils.CutString (Utils.HtmlEncode (dr ["message"].ToString ())' 0' 50)' hide' userCredit);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostRateLogList,The following statement contains a magic number: if (pageSize <= 0)  	pageSize = 10;  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostRateLogList,The following statement contains a magic number: pageSize = 10;  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: if (topicInfo.Special == 4 && UserGroups.GetUserGroupInfo (7).Allowdiggs != 1) {  	diggedPidList = Discuz.Data.Debates.GetUesrDiggs (postpramsInfo.Tid' postpramsInfo.CurrentUserid);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: if (topicInfo.Special == 4 && UserGroups.GetUserGroupInfo (7).Allowdiggs != 1) {  	diggedPidList = Discuz.Data.Debates.GetUesrDiggs (postpramsInfo.Tid' postpramsInfo.CurrentUserid);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: foreach (ShowtopicPagePostInfo postInfo in postList) {  	LoadPostMessage (postpramsInfo' attachList' isModer' allowGetAttach' originalHideStatus' postInfo);  	if (topicInfo.Special == 4) {  		if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 1)  			postInfo.Digged = Debates.IsDigged (postInfo.Pid' postpramsInfo.CurrentUserid);  		else  			postInfo.Digged = Utils.InArray (postInfo.Pid.ToString ()' diggedPidList);  		//diggslist.Contains(reader["pid"].ToString());  	}  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: foreach (ShowtopicPagePostInfo postInfo in postList) {  	LoadPostMessage (postpramsInfo' attachList' isModer' allowGetAttach' originalHideStatus' postInfo);  	if (topicInfo.Special == 4) {  		if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 1)  			postInfo.Digged = Debates.IsDigged (postInfo.Pid' postpramsInfo.CurrentUserid);  		else  			postInfo.Digged = Utils.InArray (postInfo.Pid.ToString ()' diggedPidList);  		//diggslist.Contains(reader["pid"].ToString());  	}  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: if (topicInfo.Special == 4) {  	if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 1)  		postInfo.Digged = Debates.IsDigged (postInfo.Pid' postpramsInfo.CurrentUserid);  	else  		postInfo.Digged = Utils.InArray (postInfo.Pid.ToString ()' diggedPidList);  	//diggslist.Contains(reader["pid"].ToString());  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: if (topicInfo.Special == 4) {  	if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 1)  		postInfo.Digged = Debates.IsDigged (postInfo.Pid' postpramsInfo.CurrentUserid);  	else  		postInfo.Digged = Utils.InArray (postInfo.Pid.ToString ()' diggedPidList);  	//diggslist.Contains(reader["pid"].ToString());  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ParsePostListExtraInfo,The following statement contains a magic number: if (UserGroups.GetUserGroupInfo (7).Allowdiggs == 1)  	postInfo.Digged = Debates.IsDigged (postInfo.Pid' postpramsInfo.CurrentUserid);  else  	postInfo.Digged = Utils.InArray (postInfo.Pid.ToString ()' diggedPidList);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,BanPosts,The following statement contains a magic number: if (invisible != -1 && (invisible == 0 || invisible == -2)) {  	Data.Posts.BanPosts (GetPostTableId (tid)' postList' invisible);  	return true;  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetPostTableCount,The following statement contains a magic number: return (PostTables.GetPostTableCount (tableName) / 10000) + 1;  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,UpdateMinMaxField,The following statement contains a magic number: if (tablelistmaxid > 0 && tablelistmaxid < 213)//表值总数不能大于213   {  	PostTables.UpdateMinMaxField (BaseConfigs.GetTablePrefix + "posts" + tablelistmaxid' tablelistmaxid);  	return true;  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,WriteAggregationPostData,The following statement contains a magic number: foreach (XmlNode node in topiclistnode) {  	if (("'" + selecttidlist + "'").IndexOf ("'" + node.ChildNodes [20].InnerText + "'") >= 0)  		websitetopiclistnode.AppendChild (node.Clone ());  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,WriteAggregationPostData,The following statement contains a magic number: if (("'" + selecttidlist + "'").IndexOf ("'" + node.ChildNodes [20].InnerText + "'") >= 0)  	websitetopiclistnode.AppendChild (node.Clone ());  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (dr ["tid"].ToString () != tid)  		continue;  	PostInfo newpost = null;  	foreach (PostInfo post in posts) {  		if (post.Tid.ToString () == dr ["tid"].ToString ())  			newpost = post;  	}  	//创建Topic节点  	XmlElement topic = doc.CreateElement ("Topic");  	doc.AppendChildElementByDataRow (ref topic' dt.Columns' dr' "tid'message");  	doc.AppendChildElementByNameValue (ref topic' "topicid"' dr ["tid"].ToString ());  	string tempubbstr = UBB.ClearUBB (dr ["message"].ToString ());  	if (tempubbstr.Length > 200)  		tempubbstr = tempubbstr.Substring (0' 200) + "...";  	if (newpost != null)  		tempubbstr = newpost.Message;  	doc.AppendChildElementByNameValue (ref topic' "shortdescription"' tempubbstr' true);  	doc.AppendChildElementByNameValue (ref topic' "fulldescription"' UBB.ClearUBB (dr ["message"].ToString ())' true);  	ForumInfo forumInfo = Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"]));  	if (forumInfo != null) {  		doc.AppendChildElementByNameValue (ref topic' "forumname"' forumInfo.Name);  		doc.AppendChildElementByNameValue (ref topic' "forumnamerewritename"' forumInfo.Rewritename);  	}  	else {  		doc.AppendChildElementByNameValue (ref topic' "forumname"' "");  		doc.AppendChildElementByNameValue (ref topic' "forumnamerewritename"' "");  	}  	return topic;  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (dr ["tid"].ToString () != tid)  		continue;  	PostInfo newpost = null;  	foreach (PostInfo post in posts) {  		if (post.Tid.ToString () == dr ["tid"].ToString ())  			newpost = post;  	}  	//创建Topic节点  	XmlElement topic = doc.CreateElement ("Topic");  	doc.AppendChildElementByDataRow (ref topic' dt.Columns' dr' "tid'message");  	doc.AppendChildElementByNameValue (ref topic' "topicid"' dr ["tid"].ToString ());  	string tempubbstr = UBB.ClearUBB (dr ["message"].ToString ());  	if (tempubbstr.Length > 200)  		tempubbstr = tempubbstr.Substring (0' 200) + "...";  	if (newpost != null)  		tempubbstr = newpost.Message;  	doc.AppendChildElementByNameValue (ref topic' "shortdescription"' tempubbstr' true);  	doc.AppendChildElementByNameValue (ref topic' "fulldescription"' UBB.ClearUBB (dr ["message"].ToString ())' true);  	ForumInfo forumInfo = Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"]));  	if (forumInfo != null) {  		doc.AppendChildElementByNameValue (ref topic' "forumname"' forumInfo.Name);  		doc.AppendChildElementByNameValue (ref topic' "forumnamerewritename"' forumInfo.Rewritename);  	}  	else {  		doc.AppendChildElementByNameValue (ref topic' "forumname"' "");  		doc.AppendChildElementByNameValue (ref topic' "forumnamerewritename"' "");  	}  	return topic;  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,The following statement contains a magic number: if (tempubbstr.Length > 200)  	tempubbstr = tempubbstr.Substring (0' 200) + "...";  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,The following statement contains a magic number: if (tempubbstr.Length > 200)  	tempubbstr = tempubbstr.Substring (0' 200) + "...";  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetTopicInDataTable,The following statement contains a magic number: tempubbstr = tempubbstr.Substring (0' 200) + "...";  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetOldTopicNode,The following statement contains a magic number: foreach (XmlNode topic in oldTopicList.ChildNodes) {  	if (topic.ChildNodes [20].InnerText.Trim () == tid)  		return topic.Clone ();  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,GetOldTopicNode,The following statement contains a magic number: if (topic.ChildNodes [20].InnerText.Trim () == tid)  	return topic.Clone ();  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: foreach (char cc in message) {  	int ss = (int)cc;  	if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  		tempmessage.AppendFormat ("&#x{0:X};"' ss);  	else  		tempmessage.Append (cc);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: foreach (char cc in message) {  	int ss = (int)cc;  	if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  		tempmessage.AppendFormat ("&#x{0:X};"' ss);  	else  		tempmessage.Append (cc);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: foreach (char cc in message) {  	int ss = (int)cc;  	if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  		tempmessage.AppendFormat ("&#x{0:X};"' ss);  	else  		tempmessage.Append (cc);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: foreach (char cc in message) {  	int ss = (int)cc;  	if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  		tempmessage.AppendFormat ("&#x{0:X};"' ss);  	else  		tempmessage.Append (cc);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: foreach (char cc in message) {  	int ss = (int)cc;  	if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  		tempmessage.AppendFormat ("&#x{0:X};"' ss);  	else  		tempmessage.Append (cc);  }  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  	tempmessage.AppendFormat ("&#x{0:X};"' ss);  else  	tempmessage.Append (cc);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  	tempmessage.AppendFormat ("&#x{0:X};"' ss);  else  	tempmessage.Append (cc);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  	tempmessage.AppendFormat ("&#x{0:X};"' ss);  else  	tempmessage.Append (cc);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  	tempmessage.AppendFormat ("&#x{0:X};"' ss);  else  	tempmessage.Append (cc);  
Magic Number,Discuz.Forum,Posts,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Posts.cs,ReplaceMessageChar,The following statement contains a magic number: if (((ss >= 0) && (ss <= 8)) || ((ss >= 11) && (ss <= 12)) || ((ss >= 14) && (ss <= 32)))  	tempmessage.AppendFormat ("&#x{0:X};"' ss);  else  	tempmessage.Append (cc);  
Magic Number,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetPrivateMessageListForIndex,The following statement contains a magic number: if (list.Count > 0) {  	for (int i = 0; i < list.Count; i++) {  		list [i].Message = Utils.GetSubString (list [i].Message' 20' "...");  	}  }  
Magic Number,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetPrivateMessageListForIndex,The following statement contains a magic number: for (int i = 0; i < list.Count; i++) {  	list [i].Message = Utils.GetSubString (list [i].Message' 20' "...");  }  
Magic Number,Discuz.Forum,PrivateMessages,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\PrivateMessages.cs,GetPrivateMessageListForIndex,The following statement contains a magic number: list [i].Message = Utils.GetSubString (list [i].Message' 20' "...");  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: if (extcredits > 0) {  	userextcreditsinfo.Name = dt.Rows [0] [extcreditsname].ToString ();  	userextcreditsinfo.Unit = dt.Rows [1] [extcreditsname].ToString ();  	userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  	userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  	userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  	userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  	userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  	userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  	userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  	userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  	userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  	userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  	userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Rate = Single.Parse (dt.Rows [2] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Init = Single.Parse (dt.Rows [3] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Topic = Single.Parse (dt.Rows [4] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Reply = Single.Parse (dt.Rows [5] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Digest = Single.Parse (dt.Rows [6] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Upload = Single.Parse (dt.Rows [7] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Download = Single.Parse (dt.Rows [8] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Pm = Single.Parse (dt.Rows [9] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Search = Single.Parse (dt.Rows [10] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Pay = Single.Parse (dt.Rows [11] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScoreSet,The following statement contains a magic number: userextcreditsinfo.Vote = Single.Parse (dt.Rows [12] [extcreditsname].ToString ());  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: if (dt == null) {  	DataTable dtScoreSet = GetScoreSet ();  	DataTable dtScorePaySet = new DataTable ();  	dtScorePaySet.Columns.Add ("id"' Type.GetType ("System.Int32"));  	dtScorePaySet.Columns.Add ("name"' Type.GetType ("System.String"));  	dtScorePaySet.Columns.Add ("rate"' Type.GetType ("System.Single"));  	for (int i = 1; i <= 8; i++) {  		pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  		if (type == 0)  			pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  		if (pass) {  			DataRow dr = dtScorePaySet.NewRow ();  			dr ["id"] = i;  			dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  			dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  			dtScorePaySet.Rows.Add (dr);  		}  	}  	if (type == 0)  		cache.AddObject ("/Forum/ScorePaySet"' dtScorePaySet);  	else  		cache.AddObject ("/Forum/ScorePaySet1"' dtScorePaySet);  	dt = dtScorePaySet;  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: if (dt == null) {  	DataTable dtScoreSet = GetScoreSet ();  	DataTable dtScorePaySet = new DataTable ();  	dtScorePaySet.Columns.Add ("id"' Type.GetType ("System.Int32"));  	dtScorePaySet.Columns.Add ("name"' Type.GetType ("System.String"));  	dtScorePaySet.Columns.Add ("rate"' Type.GetType ("System.Single"));  	for (int i = 1; i <= 8; i++) {  		pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  		if (type == 0)  			pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  		if (pass) {  			DataRow dr = dtScorePaySet.NewRow ();  			dr ["id"] = i;  			dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  			dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  			dtScorePaySet.Rows.Add (dr);  		}  	}  	if (type == 0)  		cache.AddObject ("/Forum/ScorePaySet"' dtScorePaySet);  	else  		cache.AddObject ("/Forum/ScorePaySet1"' dtScorePaySet);  	dt = dtScorePaySet;  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: if (dt == null) {  	DataTable dtScoreSet = GetScoreSet ();  	DataTable dtScorePaySet = new DataTable ();  	dtScorePaySet.Columns.Add ("id"' Type.GetType ("System.Int32"));  	dtScorePaySet.Columns.Add ("name"' Type.GetType ("System.String"));  	dtScorePaySet.Columns.Add ("rate"' Type.GetType ("System.Single"));  	for (int i = 1; i <= 8; i++) {  		pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  		if (type == 0)  			pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  		if (pass) {  			DataRow dr = dtScorePaySet.NewRow ();  			dr ["id"] = i;  			dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  			dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  			dtScorePaySet.Rows.Add (dr);  		}  	}  	if (type == 0)  		cache.AddObject ("/Forum/ScorePaySet"' dtScorePaySet);  	else  		cache.AddObject ("/Forum/ScorePaySet1"' dtScorePaySet);  	dt = dtScorePaySet;  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: for (int i = 1; i <= 8; i++) {  	pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  	if (type == 0)  		pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  	if (pass) {  		DataRow dr = dtScorePaySet.NewRow ();  		dr ["id"] = i;  		dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  		dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  		dtScorePaySet.Rows.Add (dr);  	}  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: for (int i = 1; i <= 8; i++) {  	pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  	if (type == 0)  		pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  	if (pass) {  		DataRow dr = dtScorePaySet.NewRow ();  		dr ["id"] = i;  		dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  		dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  		dtScorePaySet.Rows.Add (dr);  	}  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: for (int i = 1; i <= 8; i++) {  	pass = (!Utils.StrIsNullOrEmpty (dtScoreSet.Rows [0] ["extcredits" + i].ToString ()));  	if (type == 0)  		pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  	if (pass) {  		DataRow dr = dtScorePaySet.NewRow ();  		dr ["id"] = i;  		dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  		dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  		dtScorePaySet.Rows.Add (dr);  	}  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: if (type == 0)  	pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: pass = pass && (dtScoreSet.Rows [2] ["extcredits" + i].ToString () != "0");  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: if (pass) {  	DataRow dr = dtScorePaySet.NewRow ();  	dr ["id"] = i;  	dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i.ToString ()].ToString ().Trim ();  	dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  	dtScorePaySet.Rows.Add (dr);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetScorePaySet,The following statement contains a magic number: dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetRateScoreSet,The following statement contains a magic number: if (dt == null) {  	DataTable dtScoreSet = GetScoreSet ();  	DataTable dtRateScoreSet = new DataTable ();  	dtRateScoreSet.Columns.Add ("id"' Type.GetType ("System.Int32"));  	dtRateScoreSet.Columns.Add ("name"' Type.GetType ("System.String"));  	dtRateScoreSet.Columns.Add ("rate"' Type.GetType ("System.Single"));  	for (int i = 1; i <= 8; i++) {  		DataRow dr = dtRateScoreSet.NewRow ();  		dr ["id"] = i;  		dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i].ToString ().Trim ();  		dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  		dtRateScoreSet.Rows.Add (dr);  	}  	dt = dtRateScoreSet;  	cache.AddObject ("/Forum/RateScoreSet"' dt);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetRateScoreSet,The following statement contains a magic number: if (dt == null) {  	DataTable dtScoreSet = GetScoreSet ();  	DataTable dtRateScoreSet = new DataTable ();  	dtRateScoreSet.Columns.Add ("id"' Type.GetType ("System.Int32"));  	dtRateScoreSet.Columns.Add ("name"' Type.GetType ("System.String"));  	dtRateScoreSet.Columns.Add ("rate"' Type.GetType ("System.Single"));  	for (int i = 1; i <= 8; i++) {  		DataRow dr = dtRateScoreSet.NewRow ();  		dr ["id"] = i;  		dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i].ToString ().Trim ();  		dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  		dtRateScoreSet.Rows.Add (dr);  	}  	dt = dtRateScoreSet;  	cache.AddObject ("/Forum/RateScoreSet"' dt);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetRateScoreSet,The following statement contains a magic number: for (int i = 1; i <= 8; i++) {  	DataRow dr = dtRateScoreSet.NewRow ();  	dr ["id"] = i;  	dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i].ToString ().Trim ();  	dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  	dtRateScoreSet.Rows.Add (dr);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetRateScoreSet,The following statement contains a magic number: for (int i = 1; i <= 8; i++) {  	DataRow dr = dtRateScoreSet.NewRow ();  	dr ["id"] = i;  	dr ["name"] = dtScoreSet.Rows [0] ["extcredits" + i].ToString ().Trim ();  	dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  	dtRateScoreSet.Rows.Add (dr);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetRateScoreSet,The following statement contains a magic number: dr ["rate"] = TypeConverter.ObjectToFloat (dtScoreSet.Rows [2] ["extcredits" + i]);  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetUserExtCredits,The following statement contains a magic number: for (int i = 0; i < 8; i++) {  	extCredits [i] = TypeConverter.ObjectToFloat (dr ["extcredits" + (i + 1)]);  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetValidScore,The following statement contains a magic number: for (int i = 1; i < 9; i++) {  	if (Utils.StrIsNullOrEmpty (dt.Rows [validid] ["extcredits" + i].ToString ()))  		scoreunit [i] = "";  	else  		scoreunit [i] = dt.Rows [validid] ["extcredits" + i].ToString ();  }  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetTopicAttachCreditsTrans,The following statement contains a magic number: if (transfermincredits < 1 || transfermincredits > 8)  	transfermincredits = GetCreditsTrans ();  
Magic Number,Discuz.Forum,Scoresets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Scoresets.cs,GetValidScoreNameAndId,The following statement contains a magic number: for (int i = 1; i < 9; i++) {  	if (scoreNames [i] == string.Empty)  		continue;  	validScore.Append (i);  	validScore.Append ("|");  	validScore.Append (scoreNames [i]);  	validScore.Append ("|");  	validScore.Append ("'");  }  
Magic Number,Discuz.Forum,Statistics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Statistics.cs,CheckSearchCount,The following statement contains a magic number: if (Utils.StrDateDiffSeconds (GetStatisticsSearchtime ()' 60) > 0) {  	SetStatisticsSearchtime (DateTime.Now.ToString ());  	SetStatisticsSearchcount (1);  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetExtsRankUserArray,The following statement contains a magic number: for (int i = 1; i < 9; i++) {  	if (score [i] == string.Empty)  		list.Add (new ShortUserInfo[0]);  	else  		list.Add (GetUserArray ("extcredits" + i.ToString ()));  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: foreach (string key in list) {  	string variable = "";  	int count = 0;  	switch (type) {  	case "month":  	case "monthposts":  		if (key.Length < 4)  			break;  		variable = key.Substring (0' 4) + "-" + key.Substring (4);  		break;  	case "dayposts":  		variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  		break;  	case "week":  		switch (key) {  		case "0":  			variable = "星期日";  			break;  		case "1":  			variable = "星期一";  			break;  		case "2":  			variable = "星期二";  			break;  		case "3":  			variable = "星期三";  			break;  		case "4":  			variable = "星期四";  			break;  		case "5":  			variable = "星期五";  			break;  		case "6":  			variable = "星期六";  			break;  		default:  			continue;  		}  		break;  	case "hour":  		variable = key;  		break;  	default:  		variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  		break;  	}  	count = Utils.StrToInt (statht [key]' 0);  	int width = (int)(370 * (max == 0 ? 0.0 : ((double)count / (double)max)));  	double percent = ((double)Math.Round ((double)count * 100 / (double)(sum == 0 ? 1 : sum)' 2));  	if (width <= 0)  		width = 2;  	variable = count == max ? "<strong>" + variable + "</strong>" : variable;  	string countstr = "<div class='optionbar left'><div class='pollcolor5' style='width: " + width.ToString () + "px'>&nbsp;</div></div>&nbsp;<strong>" + count.ToString () + "</strong> (" + percent + "%)";  	statsbar += "<tr><th width=\"100\">" + variable + "</th><td style='text-align:left'>" + countstr + "</td></tr>\r\n";  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: switch (type) {  case "month":  case "monthposts":  	if (key.Length < 4)  		break;  	variable = key.Substring (0' 4) + "-" + key.Substring (4);  	break;  case "dayposts":  	variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  	break;  case "week":  	switch (key) {  	case "0":  		variable = "星期日";  		break;  	case "1":  		variable = "星期一";  		break;  	case "2":  		variable = "星期二";  		break;  	case "3":  		variable = "星期三";  		break;  	case "4":  		variable = "星期四";  		break;  	case "5":  		variable = "星期五";  		break;  	case "6":  		variable = "星期六";  		break;  	default:  		continue;  	}  	break;  case "hour":  	variable = key;  	break;  default:  	variable = "<img src='images/stats/" + key.Replace ("/"' "") + ".gif ' border='0' alt='" + key + "' title='" + key + "' />&nbsp;" + key;  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: if (key.Length < 4)  	break;  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: variable = key.Substring (0' 4) + "-" + key.Substring (4' 2) + "-" + key.Substring (6);  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: if (width <= 0)  	width = 2;  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetStatsDataHtml,The following statement contains a magic number: width = 2;  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: foreach (ShortUserInfo u in users) {  	string count = string.Empty;  	switch (type) {  	case "credits":  		count = u.Credits.ToString ();  		break;  	case "extcredits1":  		count = u.Extcredits1.ToString ();  		unit = Scoresets.GetValidScoreUnit () [1];  		break;  	case "extcredits2":  		count = u.Extcredits2.ToString ();  		unit = Scoresets.GetValidScoreUnit () [2];  		break;  	case "extcredits3":  		count = u.Extcredits3.ToString ();  		unit = Scoresets.GetValidScoreUnit () [3];  		break;  	case "extcredits4":  		count = u.Extcredits4.ToString ();  		unit = Scoresets.GetValidScoreUnit () [4];  		break;  	case "extcredits5":  		count = u.Extcredits5.ToString ();  		unit = Scoresets.GetValidScoreUnit () [5];  		break;  	case "extcredits6":  		count = u.Extcredits6.ToString ();  		unit = Scoresets.GetValidScoreUnit () [6];  		break;  	case "extcredits7":  		count = u.Extcredits7.ToString ();  		unit = Scoresets.GetValidScoreUnit () [7];  		break;  	case "extcredits8":  		count = u.Extcredits8.ToString ();  		unit = Scoresets.GetValidScoreUnit () [8];  		break;  	case "digestposts":  		count = u.Digestposts.ToString ();  		break;  	case "onlinetime":  		count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  		unit = "小时";  		break;  	default:  		count = u.Posts.ToString ();  		break;  	}  	builder.AppendFormat ("<li><em>{0}</em><a href=\"{1}\" target=\"_blank\">{2}</a></li>"' count + (unit == string.Empty ? string.Empty : " " + unit)' Urls.UserInfoAspxRewrite (u.Uid)' u.Username);  	blankrows--;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: switch (type) {  case "credits":  	count = u.Credits.ToString ();  	break;  case "extcredits1":  	count = u.Extcredits1.ToString ();  	unit = Scoresets.GetValidScoreUnit () [1];  	break;  case "extcredits2":  	count = u.Extcredits2.ToString ();  	unit = Scoresets.GetValidScoreUnit () [2];  	break;  case "extcredits3":  	count = u.Extcredits3.ToString ();  	unit = Scoresets.GetValidScoreUnit () [3];  	break;  case "extcredits4":  	count = u.Extcredits4.ToString ();  	unit = Scoresets.GetValidScoreUnit () [4];  	break;  case "extcredits5":  	count = u.Extcredits5.ToString ();  	unit = Scoresets.GetValidScoreUnit () [5];  	break;  case "extcredits6":  	count = u.Extcredits6.ToString ();  	unit = Scoresets.GetValidScoreUnit () [6];  	break;  case "extcredits7":  	count = u.Extcredits7.ToString ();  	unit = Scoresets.GetValidScoreUnit () [7];  	break;  case "extcredits8":  	count = u.Extcredits8.ToString ();  	unit = Scoresets.GetValidScoreUnit () [8];  	break;  case "digestposts":  	count = u.Digestposts.ToString ();  	break;  case "onlinetime":  	count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  	unit = "小时";  	break;  default:  	count = u.Posts.ToString ();  	break;  }  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [2];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [3];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [4];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [5];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [6];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [7];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: unit = Scoresets.GetValidScoreUnit () [8];  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  
Magic Number,Discuz.Forum,Stats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Stats.cs,GetUserRankHtml,The following statement contains a magic number: count = Math.Round (((double)u.Oltime) / 60' 2).ToString ();  
Magic Number,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,GetAsyncTarget,The following statement contains a magic number: foreach (ApplicationInfo appInfo in apiInfo.AppCollection) {  	if (appInfo.SyncMode == 1 || (appInfo.SyncMode == 2 && Utils.InArray (action' appInfo.SyncList))) {  		if (appInfo.SyncUrl.Trim () == string.Empty)  			continue;  		appCollection.Add (appInfo);  	}  }  
Magic Number,Discuz.Forum,Sync,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Sync.cs,GetAsyncTarget,The following statement contains a magic number: if (appInfo.SyncMode == 1 || (appInfo.SyncMode == 2 && Utils.InArray (action' appInfo.SyncList))) {  	if (appInfo.SyncUrl.Trim () == string.Empty)  		continue;  	appCollection.Add (appInfo);  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (ds.Tables [0].Rows.Count > 0) {  	DataTable topTable = Discuz.Data.TopicAdmins.GetShortForums ();  	int[] fidIndex = null;  	if (topTable != null && topTable.Rows.Count > 0) {  		fidIndex = new int[TypeConverter.ObjectToInt (topTable.Rows [0] ["fid"]) + 1];  		for (int i = 0; i < topTable.Rows.Count; i++) {  			fidIndex [TypeConverter.ObjectToInt (topTable.Rows [i] ["fid"])] = i;  		}  	}  	ds.DataSetName = "topics";  	ds.Tables [0].TableName = "topic";  	int tidCount = 0' tid0Count = 0' tid1Count' tid2Count' tid3Count = 0;  	StringBuilder sbTop3 = new StringBuilder ();  	foreach (DataRow dr in ds.Tables [0].Rows) {  		if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  			if (sbTop3.Length > 0)  				sbTop3.Append ("'");  			if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  				sbTop3.Append (dr ["tid"]);  				tidCount++;  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  			}  		}  		else {  			if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  				if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  				}  				else {  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  				}  			}  		}  	}  	if (topTable != null && topTable.Rows.Count > 0) {  		foreach (DataRow dr in topTable.Rows) {  			dr ["temptidlist"] = sbTop3.ToString () + dr ["tidlist"].ToString () + dr ["tid2list"].ToString ();  			tid1Count = TypeConverter.ObjectToInt (dr ["tidcount"]);  			tid2Count = TypeConverter.ObjectToInt (dr ["tid2count"]);  			tid3Count = TypeConverter.ObjectToInt (dr ["tid3count"]);  			tid0Count = tid1Count + tid2Count + tid3Count;  			dr ["tidcount"] = tid1Count + tidCount + TypeConverter.ObjectToInt (dr ["tid2count"]);  			string filterexpress = Discuz.Data.TopicAdmins.ResetTopTopicListSql (TypeConverter.ObjectToInt (dr ["layer"])' dr ["fid"].ToString ()' dr ["parentidlist"].ToString ().Trim ());  			foreach (DataRow drTemp in topTable.Select (filterexpress)) {  				if (!drTemp ["tid2list"].ToString ().Equals ("")) {  					dr ["temptidlist"] = dr ["temptidlist"].ToString () + drTemp ["tid2list"].ToString ();  					dr ["tidcount"] = TypeConverter.ObjectToInt (drTemp ["tid2count"]) + TypeConverter.ObjectToInt (dr ["tidcount"]);  					tid2Count = tid2Count + TypeConverter.ObjectToInt (drTemp ["tid2count"]);  				}  			}  			tid0Count = TypeConverter.ObjectToInt (dr ["tidcount"]) - tid0Count;  			if (ds.Tables.Count == 1) {  				ds.Tables.Add ("fidtopic");  				ds.Tables [1].Columns.Add ("tid"' Type.GetType ("System.String"));  				ds.Tables [1].Columns.Add ("tidCount"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid0Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid1Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid2Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid3Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Rows.Add (ds.Tables [1].NewRow ());  			}  			ds.Tables [1].Rows [0] ["tid"] = dr ["temptidlist"];  			ds.Tables [1].Rows [0] ["tidCount"] = dr ["tidcount"];  			ds.Tables [1].Rows [0] ["tid0Count"] = tid0Count;  			ds.Tables [1].Rows [0] ["tid1Count"] = tid1Count;  			ds.Tables [1].Rows [0] ["tid2Count"] = tid2Count;  			ds.Tables [1].Rows [0] ["tid3Count"] = tidCount;  			DataSet tempDS = new DataSet ("topics");  			tempDS.Tables.Add (ds.Tables [1].Copy ());  			tempDS.Tables [0].TableName = "topic";  			if (!Directory.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/")))  				Directory.CreateDirectory (Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/"));  			tempDS.WriteXml (@Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/" + dr ["fid"].ToString () + ".xml")' XmlWriteMode.WriteSchema);  			tempDS.Clear ();  			tempDS.Dispose ();  		}  	}  	topTable.Dispose ();  	ds.Clear ();  	ds.Dispose ();  	return 1;  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (ds.Tables [0].Rows.Count > 0) {  	DataTable topTable = Discuz.Data.TopicAdmins.GetShortForums ();  	int[] fidIndex = null;  	if (topTable != null && topTable.Rows.Count > 0) {  		fidIndex = new int[TypeConverter.ObjectToInt (topTable.Rows [0] ["fid"]) + 1];  		for (int i = 0; i < topTable.Rows.Count; i++) {  			fidIndex [TypeConverter.ObjectToInt (topTable.Rows [i] ["fid"])] = i;  		}  	}  	ds.DataSetName = "topics";  	ds.Tables [0].TableName = "topic";  	int tidCount = 0' tid0Count = 0' tid1Count' tid2Count' tid3Count = 0;  	StringBuilder sbTop3 = new StringBuilder ();  	foreach (DataRow dr in ds.Tables [0].Rows) {  		if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  			if (sbTop3.Length > 0)  				sbTop3.Append ("'");  			if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  				sbTop3.Append (dr ["tid"]);  				tidCount++;  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  			}  		}  		else {  			if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  				if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  				}  				else {  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  					topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  				}  			}  		}  	}  	if (topTable != null && topTable.Rows.Count > 0) {  		foreach (DataRow dr in topTable.Rows) {  			dr ["temptidlist"] = sbTop3.ToString () + dr ["tidlist"].ToString () + dr ["tid2list"].ToString ();  			tid1Count = TypeConverter.ObjectToInt (dr ["tidcount"]);  			tid2Count = TypeConverter.ObjectToInt (dr ["tid2count"]);  			tid3Count = TypeConverter.ObjectToInt (dr ["tid3count"]);  			tid0Count = tid1Count + tid2Count + tid3Count;  			dr ["tidcount"] = tid1Count + tidCount + TypeConverter.ObjectToInt (dr ["tid2count"]);  			string filterexpress = Discuz.Data.TopicAdmins.ResetTopTopicListSql (TypeConverter.ObjectToInt (dr ["layer"])' dr ["fid"].ToString ()' dr ["parentidlist"].ToString ().Trim ());  			foreach (DataRow drTemp in topTable.Select (filterexpress)) {  				if (!drTemp ["tid2list"].ToString ().Equals ("")) {  					dr ["temptidlist"] = dr ["temptidlist"].ToString () + drTemp ["tid2list"].ToString ();  					dr ["tidcount"] = TypeConverter.ObjectToInt (drTemp ["tid2count"]) + TypeConverter.ObjectToInt (dr ["tidcount"]);  					tid2Count = tid2Count + TypeConverter.ObjectToInt (drTemp ["tid2count"]);  				}  			}  			tid0Count = TypeConverter.ObjectToInt (dr ["tidcount"]) - tid0Count;  			if (ds.Tables.Count == 1) {  				ds.Tables.Add ("fidtopic");  				ds.Tables [1].Columns.Add ("tid"' Type.GetType ("System.String"));  				ds.Tables [1].Columns.Add ("tidCount"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid0Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid1Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid2Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Columns.Add ("tid3Count"' Type.GetType ("System.Int32"));  				ds.Tables [1].Rows.Add (ds.Tables [1].NewRow ());  			}  			ds.Tables [1].Rows [0] ["tid"] = dr ["temptidlist"];  			ds.Tables [1].Rows [0] ["tidCount"] = dr ["tidcount"];  			ds.Tables [1].Rows [0] ["tid0Count"] = tid0Count;  			ds.Tables [1].Rows [0] ["tid1Count"] = tid1Count;  			ds.Tables [1].Rows [0] ["tid2Count"] = tid2Count;  			ds.Tables [1].Rows [0] ["tid3Count"] = tidCount;  			DataSet tempDS = new DataSet ("topics");  			tempDS.Tables.Add (ds.Tables [1].Copy ());  			tempDS.Tables [0].TableName = "topic";  			if (!Directory.Exists (Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/")))  				Directory.CreateDirectory (Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/"));  			tempDS.WriteXml (@Utils.GetMapPath (BaseConfigs.GetForumPath + "cache/topic/" + dr ["fid"].ToString () + ".xml")' XmlWriteMode.WriteSchema);  			tempDS.Clear ();  			tempDS.Dispose ();  		}  	}  	topTable.Dispose ();  	ds.Clear ();  	ds.Dispose ();  	return 1;  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: foreach (DataRow dr in ds.Tables [0].Rows) {  	if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  		if (sbTop3.Length > 0)  			sbTop3.Append ("'");  		if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  			sbTop3.Append (dr ["tid"]);  			tidCount++;  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  		}  	}  	else {  		if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  			if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  			}  			else {  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  			}  		}  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: foreach (DataRow dr in ds.Tables [0].Rows) {  	if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  		if (sbTop3.Length > 0)  			sbTop3.Append ("'");  		if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  			sbTop3.Append (dr ["tid"]);  			tidCount++;  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  		}  	}  	else {  		if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  			if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  			}  			else {  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  				topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  			}  		}  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  	if (sbTop3.Length > 0)  		sbTop3.Append ("'");  	if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  		sbTop3.Append (dr ["tid"]);  		tidCount++;  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  	}  }  else {  	if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  		if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  		}  		else {  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  		}  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (TypeConverter.ObjectToInt (dr ["displayorder"]) == 3) {  	if (sbTop3.Length > 0)  		sbTop3.Append ("'");  	if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  		sbTop3.Append (dr ["tid"]);  		tidCount++;  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid3count"]) + 1;  	}  }  else {  	if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  		if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  		}  		else {  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  			topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  		}  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (fidIndex != null && fidIndex.Length >= TypeConverter.ObjectToInt (dr ["fid"])) {  	if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  	}  	else {  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  		topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,ResetTopTopicList,The following statement contains a magic number: if (TypeConverter.ObjectToInt (dr ["displayorder"]) != 2) {  	topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidlist"].ToString () + "'" + dr ["tid"].ToString ();  	topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tidcount"]) + 1;  }  else {  	topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"] = topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2list"].ToString () + "'" + dr ["tid"].ToString ();  	topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"] = TypeConverter.ObjectToInt (topTable.Rows [fidIndex [TypeConverter.ObjectToInt (dr ["fid"])]] ["tid2count"]) + 1;  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The following statement contains a magic number: if (dt != null) {  	Hashtable attUidCount = new Hashtable ();  	foreach (DataRow dr in dt.Rows) {  		//��̨���õ���Ϊ�������������ɾ���������֣������Ƕ�������ɾ�����Բ�����  		if (configinfo.Losslessdel == 0 || Utils.StrDateDiffHours (dr ["postdatetime"].ToString ()' configinfo.Losslessdel * 24) < 0) {  			CreditsOperationType creditsOperationType = TypeConverter.ObjectToInt (dr ["layer"]) == 0 ? CreditsOperationType.PostTopic : CreditsOperationType.PostReply;  			//��ȡ�����ֹ���  			float[] creditsValue = Forums.GetValues (creditsOperationType == CreditsOperationType.PostTopic ? Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Postcredits : Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Replycredits);  			//���δ��������ֹ���  			if (creditsValue == null)  				creditsValue = Scoresets.GetUserExtCredits (creditsOperationType);  			UserCredits.UpdateUserExtCredits (TypeConverter.ObjectToInt (dr ["posterid"])' creditsValue' 1' creditsOperationType' -1' true);  			int attCount = Attachments.GetAttachmentCountByPid (TypeConverter.ObjectToInt (dr ["pid"]));  			if (attCount > 0) {  				int posterid = TypeConverter.ObjectToInt (dr ["posterid"]);  				if (attUidCount.ContainsKey (posterid))  					attUidCount [posterid] = (int)attUidCount [posterid] + attCount;  				else  					attUidCount.Add (TypeConverter.ObjectToInt (dr ["posterid"])' attCount);  			}  		}  		UserCredits.UpdateUserCredits (TypeConverter.ObjectToInt (dr ["posterid"]));  	}  	int i = 0;  	int[] tuidlist = new int[attUidCount.Count];  	int[] attcountlist = new int[attUidCount.Count];  	foreach (DictionaryEntry de in attUidCount) {  		tuidlist [i] = (int)de.Key;  		attcountlist [i] = (int)de.Value;  		i++;  	}  	UserCredits.UpdateUserCredits (tuidlist' attcountlist' CreditsOperationType.UploadAttachment' -1);  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	//��̨���õ���Ϊ�������������ɾ���������֣������Ƕ�������ɾ�����Բ�����  	if (configinfo.Losslessdel == 0 || Utils.StrDateDiffHours (dr ["postdatetime"].ToString ()' configinfo.Losslessdel * 24) < 0) {  		CreditsOperationType creditsOperationType = TypeConverter.ObjectToInt (dr ["layer"]) == 0 ? CreditsOperationType.PostTopic : CreditsOperationType.PostReply;  		//��ȡ�����ֹ���  		float[] creditsValue = Forums.GetValues (creditsOperationType == CreditsOperationType.PostTopic ? Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Postcredits : Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Replycredits);  		//���δ��������ֹ���  		if (creditsValue == null)  			creditsValue = Scoresets.GetUserExtCredits (creditsOperationType);  		UserCredits.UpdateUserExtCredits (TypeConverter.ObjectToInt (dr ["posterid"])' creditsValue' 1' creditsOperationType' -1' true);  		int attCount = Attachments.GetAttachmentCountByPid (TypeConverter.ObjectToInt (dr ["pid"]));  		if (attCount > 0) {  			int posterid = TypeConverter.ObjectToInt (dr ["posterid"]);  			if (attUidCount.ContainsKey (posterid))  				attUidCount [posterid] = (int)attUidCount [posterid] + attCount;  			else  				attUidCount.Add (TypeConverter.ObjectToInt (dr ["posterid"])' attCount);  		}  	}  	UserCredits.UpdateUserCredits (TypeConverter.ObjectToInt (dr ["posterid"]));  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,DeleteTopics,The following statement contains a magic number: if (configinfo.Losslessdel == 0 || Utils.StrDateDiffHours (dr ["postdatetime"].ToString ()' configinfo.Losslessdel * 24) < 0) {  	CreditsOperationType creditsOperationType = TypeConverter.ObjectToInt (dr ["layer"]) == 0 ? CreditsOperationType.PostTopic : CreditsOperationType.PostReply;  	//��ȡ�����ֹ���  	float[] creditsValue = Forums.GetValues (creditsOperationType == CreditsOperationType.PostTopic ? Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Postcredits : Forums.GetForumInfo (TypeConverter.ObjectToInt (dr ["fid"])).Replycredits);  	//���δ��������ֹ���  	if (creditsValue == null)  		creditsValue = Scoresets.GetUserExtCredits (creditsOperationType);  	UserCredits.UpdateUserExtCredits (TypeConverter.ObjectToInt (dr ["posterid"])' creditsValue' 1' creditsOperationType' -1' true);  	int attCount = Attachments.GetAttachmentCountByPid (TypeConverter.ObjectToInt (dr ["pid"]));  	if (attCount > 0) {  		int posterid = TypeConverter.ObjectToInt (dr ["posterid"]);  		if (attUidCount.ContainsKey (posterid))  			attUidCount [posterid] = (int)attUidCount [posterid] + attCount;  		else  			attUidCount.Add (TypeConverter.ObjectToInt (dr ["posterid"])' attCount);  	}  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,MoveTopics,The following statement contains a magic number: if (savelink) {  	if (Discuz.Data.TopicAdmins.CopyTopicLink (oldfid' tidList) <= 0)  		return -2;  	AdminForumStats.ReSetFourmTopicAPost (oldfid);  	Forums.SetRealCurrentTopics (oldfid);  }  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,MoveTopics,The following statement contains a magic number: if (Discuz.Data.TopicAdmins.CopyTopicLink (oldfid' tidList) <= 0)  	return -2;  
Magic Number,Discuz.Forum,TopicAdmins,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicAdmins.cs,MoveTopics,The following statement contains a magic number: return -2;  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopicList,The following statement contains a magic number: return Utils.IsNumericList (topicList) ? GetTopicList (topicList' -10) : null;  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopTopicList,The following statement contains a magic number: if ((mcci != null && mcci.ApplyMemCached) || (rci != null && rci.ApplyRedis)) {  	Discuz.Cache.DNTCache cache = Discuz.Cache.DNTCache.GetCacheService ();  	list = cache.RetrieveObject ("/Forum/ShowTopic/TopList/" + fid + "/") as List<TopicInfo>;  	if (list == null) {  		list = Data.Topics.GetTopTopicList (fid' pageSize' pageIndex' tids);  		LoadTopTopicListExtraInfo (topicTypePrefix' list);  		cache.AddObject ("/Forum/ShowTopic/TopList/" + fid + "/"' list' 300);  	}  }  else {  	list = Data.Topics.GetTopTopicList (fid' pageSize' pageIndex' tids);  	LoadTopTopicListExtraInfo (topicTypePrefix' list);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopTopicList,The following statement contains a magic number: if (list == null) {  	list = Data.Topics.GetTopTopicList (fid' pageSize' pageIndex' tids);  	LoadTopTopicListExtraInfo (topicTypePrefix' list);  	cache.AddObject ("/Forum/ShowTopic/TopList/" + fid + "/"' list' 300);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTopTopicList,The following statement contains a magic number: cache.AddObject ("/Forum/ShowTopic/TopList/" + fid + "/"' list' 300);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,WriteHtmlTitleFile,The following statement contains a magic number: dir.Append ((topicid / 1000 + 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 2)  	return TypeConverter.ObjectToInt (m.Substring (1' 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 5)  	return TypeConverter.ObjectToInt (m.Substring (2' 3));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 5)  	return TypeConverter.ObjectToInt (m.Substring (2' 3));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 5)  	return TypeConverter.ObjectToInt (m.Substring (2' 3));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: return TypeConverter.ObjectToInt (m.Substring (2' 3));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: return TypeConverter.ObjectToInt (m.Substring (2' 3));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 6)  	return TypeConverter.ObjectToInt (m.Substring (5' 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: if (m.Length >= 6)  	return TypeConverter.ObjectToInt (m.Substring (5' 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following statement contains a magic number: return TypeConverter.ObjectToInt (m.Substring (5' 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 2) {  	m [1] = newmagicvalue.ToString ().Substring (0' 1);  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 5) {  	string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  	m [2] = t [0];  	m [3] = t [1];  	m [4] = t [2];  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: m [2] = t [0];  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: m [3] = t [1];  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: m [4] = t [2];  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: m [4] = t [2];  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 6) {  	m [5] = newmagicvalue.ToString ().Substring (0' 1);  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: if (m.Length >= 6) {  	m [5] = newmagicvalue.ToString ().Substring (0' 1);  	return TypeConverter.StrToInt (string.Join (""' m)' magic);  }  else {  	return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following statement contains a magic number: m [5] = newmagicvalue.ToString ().Substring (0' 1);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetHtmlTitle,The following statement contains a magic number: dir.Append ((topicid / 1000 + 1));  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: if (oldtopic.IndexOf ("D" + topic.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * 600) < DateTime.Parse (topic.Lastpost)) {  	oldtopic = "D" + topic.Tid.ToString () + Utils.CutString (oldtopic' 0' oldtopic.Length - 1);  	if (oldtopic.Length > 3000) {  		oldtopic = Utils.CutString (oldtopic' 0' 3000);  		oldtopic = Utils.CutString (oldtopic' 0' oldtopic.LastIndexOf ("D"));  	}  	ForumUtils.WriteCookie ("oldtopic"' oldtopic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: if (oldtopic.IndexOf ("D" + topic.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * 600) < DateTime.Parse (topic.Lastpost)) {  	oldtopic = "D" + topic.Tid.ToString () + Utils.CutString (oldtopic' 0' oldtopic.Length - 1);  	if (oldtopic.Length > 3000) {  		oldtopic = Utils.CutString (oldtopic' 0' 3000);  		oldtopic = Utils.CutString (oldtopic' 0' oldtopic.LastIndexOf ("D"));  	}  	ForumUtils.WriteCookie ("oldtopic"' oldtopic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: if (oldtopic.IndexOf ("D" + topic.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * 600) < DateTime.Parse (topic.Lastpost)) {  	oldtopic = "D" + topic.Tid.ToString () + Utils.CutString (oldtopic' 0' oldtopic.Length - 1);  	if (oldtopic.Length > 3000) {  		oldtopic = Utils.CutString (oldtopic' 0' 3000);  		oldtopic = Utils.CutString (oldtopic' 0' oldtopic.LastIndexOf ("D"));  	}  	ForumUtils.WriteCookie ("oldtopic"' oldtopic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: if (oldtopic.Length > 3000) {  	oldtopic = Utils.CutString (oldtopic' 0' 3000);  	oldtopic = Utils.CutString (oldtopic' 0' oldtopic.LastIndexOf ("D"));  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: if (oldtopic.Length > 3000) {  	oldtopic = Utils.CutString (oldtopic' 0' 3000);  	oldtopic = Utils.CutString (oldtopic' 0' oldtopic.LastIndexOf ("D"));  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,MarkOldTopic,The following statement contains a magic number: oldtopic = Utils.CutString (oldtopic' 0' 3000);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: foreach (string tid in tidarray) {  	topic = Topics.GetTopicInfo (int.Parse (tid));  	//获取主题信息  	if (fid != topic.Fid)//当上一个和当前主题不在一个版块内时，重新读取版块的积分设置  	 {  		fid = topic.Fid;  		forum = Discuz.Forum.Forums.GetForumInfo (fid);  		if (!forum.Postcredits.Equals ("")) {  			int index = 0;  			float tempval = 0;  			values = new float[8];  			foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  				if (index == 0) {  					if (!ext.Equals ("True")) {  						values = null;  						break;  					}  					index++;  					continue;  				}  				tempval = Utils.StrToFloat (ext' 0);  				values [index - 1] = tempval;  				index++;  				if (index > 8) {  					break;  				}  			}  		}  	}  	if (values != null)  		//使用版块内积分  		UserCredits.UpdateUserCreditsByPostTopic (topic.Posterid' values);  	else  		//使用默认积分  		UserCredits.UpdateUserCreditsByPostTopic (topic.Posterid);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: foreach (string tid in tidarray) {  	topic = Topics.GetTopicInfo (int.Parse (tid));  	//获取主题信息  	if (fid != topic.Fid)//当上一个和当前主题不在一个版块内时，重新读取版块的积分设置  	 {  		fid = topic.Fid;  		forum = Discuz.Forum.Forums.GetForumInfo (fid);  		if (!forum.Postcredits.Equals ("")) {  			int index = 0;  			float tempval = 0;  			values = new float[8];  			foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  				if (index == 0) {  					if (!ext.Equals ("True")) {  						values = null;  						break;  					}  					index++;  					continue;  				}  				tempval = Utils.StrToFloat (ext' 0);  				values [index - 1] = tempval;  				index++;  				if (index > 8) {  					break;  				}  			}  		}  	}  	if (values != null)  		//使用版块内积分  		UserCredits.UpdateUserCreditsByPostTopic (topic.Posterid' values);  	else  		//使用默认积分  		UserCredits.UpdateUserCreditsByPostTopic (topic.Posterid);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: if (fid != topic.Fid)//当上一个和当前主题不在一个版块内时，重新读取版块的积分设置   {  	fid = topic.Fid;  	forum = Discuz.Forum.Forums.GetForumInfo (fid);  	if (!forum.Postcredits.Equals ("")) {  		int index = 0;  		float tempval = 0;  		values = new float[8];  		foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  			if (index == 0) {  				if (!ext.Equals ("True")) {  					values = null;  					break;  				}  				index++;  				continue;  			}  			tempval = Utils.StrToFloat (ext' 0);  			values [index - 1] = tempval;  			index++;  			if (index > 8) {  				break;  			}  		}  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: if (fid != topic.Fid)//当上一个和当前主题不在一个版块内时，重新读取版块的积分设置   {  	fid = topic.Fid;  	forum = Discuz.Forum.Forums.GetForumInfo (fid);  	if (!forum.Postcredits.Equals ("")) {  		int index = 0;  		float tempval = 0;  		values = new float[8];  		foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  			if (index == 0) {  				if (!ext.Equals ("True")) {  					values = null;  					break;  				}  				index++;  				continue;  			}  			tempval = Utils.StrToFloat (ext' 0);  			values [index - 1] = tempval;  			index++;  			if (index > 8) {  				break;  			}  		}  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: if (!forum.Postcredits.Equals ("")) {  	int index = 0;  	float tempval = 0;  	values = new float[8];  	foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  		if (index == 0) {  			if (!ext.Equals ("True")) {  				values = null;  				break;  			}  			index++;  			continue;  		}  		tempval = Utils.StrToFloat (ext' 0);  		values [index - 1] = tempval;  		index++;  		if (index > 8) {  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: if (!forum.Postcredits.Equals ("")) {  	int index = 0;  	float tempval = 0;  	values = new float[8];  	foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  		if (index == 0) {  			if (!ext.Equals ("True")) {  				values = null;  				break;  			}  			index++;  			continue;  		}  		tempval = Utils.StrToFloat (ext' 0);  		values [index - 1] = tempval;  		index++;  		if (index > 8) {  			break;  		}  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: values = new float[8];  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: foreach (string ext in Utils.SplitString (forum.Postcredits' "'")) {  	if (index == 0) {  		if (!ext.Equals ("True")) {  			values = null;  			break;  		}  		index++;  		continue;  	}  	tempval = Utils.StrToFloat (ext' 0);  	values [index - 1] = tempval;  	index++;  	if (index > 8) {  		break;  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,PassAuditNewTopic,The following statement contains a magic number: if (index > 8) {  	break;  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTitleDisplayOrder,The following statement contains a magic number: if (forum.Modnewtopics == 1 || usergroupinfo.ModNewTopics == 1 || Scoresets.BetweenTime (GeneralConfigs.GetConfig ().Postmodperiods) && disablepost != 1 || ForumUtils.HasAuditWord (topicInfo.Title) || ForumUtils.HasAuditWord (message))  	return -2;  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetTitleDisplayOrder,The following statement contains a magic number: return -2;  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicFolder,The following statement contains a magic number: if (topicInfo.Closed == 0) {  	string oldtopic = ForumUtils.GetCookie ("oldtopic") + "D";  	if (newMinutes > 0 && oldtopic.IndexOf ("D" + topicInfo.Tid.ToString () + "D") == -1 && DateTime.Now.AddMinutes (-1 * newMinutes) < TypeConverter.StrToDateTime (topicInfo.Lastpost))  		topicInfo.Folder = "new";  	else  		topicInfo.Folder = "old";  	if (hotReplyNumber > 0 && topicInfo.Replies >= hotReplyNumber)  		topicInfo.Folder += "hot";  	if (autocloseTime > 0 && Utils.StrDateDiffHours (topicInfo.Postdatetime' autocloseTime * 24) > 0) {  		topicInfo.Closed = 1;  		topicInfo.Folder = "closed";  	}  }  else {  	topicInfo.Folder = "closed";  	if (topicInfo.Closed > 1) {  		int trueTid = topicInfo.Tid;  		topicInfo.Tid = topicInfo.Closed;  		topicInfo.Closed = trueTid;  		topicInfo.Folder = "move";  	}  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicFolder,The following statement contains a magic number: if (autocloseTime > 0 && Utils.StrDateDiffHours (topicInfo.Postdatetime' autocloseTime * 24) > 0) {  	topicInfo.Closed = 1;  	topicInfo.Folder = "closed";  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicListExtraInfo,The following statement contains a magic number: foreach (TopicInfo topic in list) {  	if (topic.Closed == 0 && autoCloseTime > 0 && Utils.StrDateDiffHours (topic.Postdatetime' autoCloseTime * 24) > 0) {  		closedIds.Append (topic.Tid.ToString ());  		closedIds.Append ("'");  	}  	LoadTopicFolder (autoCloseTime' newMinutes' hotReplyNumber' topic);  	LoadTopicHighlightTitle (topic);  	LoadTopicType (topicTypePrefix' topicTypeList' topic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicListExtraInfo,The following statement contains a magic number: if (topic.Closed == 0 && autoCloseTime > 0 && Utils.StrDateDiffHours (topic.Postdatetime' autoCloseTime * 24) > 0) {  	closedIds.Append (topic.Tid.ToString ());  	closedIds.Append ("'");  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopTopicListExtraInfo,The following statement contains a magic number: foreach (TopicInfo topic in list) {  	ForumInfo forumInfo = Forums.GetForumInfo (topic.Fid);  	if (topic.Closed == 0 && forumInfo.Autoclose > 0 && Utils.StrDateDiffHours (topic.Postdatetime' forumInfo.Autoclose * 24) > 0) {  		closedIds.Append (topic.Tid.ToString ());  		closedIds.Append ("'");  	}  	LoadTopicFolder (forumInfo.Autoclose' newMinutes' hotReplyNumber' topic);  	LoadTopicHighlightTitle (topic);  	LoadTopicType (topicTypePrefix' topicTypeList' topic);  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopTopicListExtraInfo,The following statement contains a magic number: if (topic.Closed == 0 && forumInfo.Autoclose > 0 && Utils.StrDateDiffHours (topic.Postdatetime' forumInfo.Autoclose * 24) > 0) {  	closedIds.Append (topic.Tid.ToString ());  	closedIds.Append ("'");  }  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopTopicListExtraInfo,The following statement contains a magic number: LoadTopTopicListExtraInfo (topicTypePrefix' 600' 0' list);  
Magic Number,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,LoadTopicListExtraInfo,The following statement contains a magic number: LoadTopicListExtraInfo (autoCloseTime' topicTypePrefix' 600' 0' list);  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,SetQueueCount,The following statement contains a magic number: if (GeneralConfigs.GetConfig ().TopicQueueStatsCount > 20 && GeneralConfigs.GetConfig ().TopicQueueStatsCount <= 1000)  	queuedAllowCount = GeneralConfigs.GetConfig ().TopicQueueStatsCount;  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,SetQueueCount,The following statement contains a magic number: if (GeneralConfigs.GetConfig ().TopicQueueStatsCount > 20 && GeneralConfigs.GetConfig ().TopicQueueStatsCount <= 1000)  	queuedAllowCount = GeneralConfigs.GetConfig ().TopicQueueStatsCount;  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,AddQuedStats,The following statement contains a magic number: lock (queuedStatsList.SyncRoot) {  	//Check for the limit  	if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  		//make sure the pool queue was not cleared during a wait for the lock  		if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  			TopicView[] tva = new TopicView[queuedStatsList.Count];  			queuedStatsList.CopyTo (tva' 0);  			ClearTrackTopicQueue (new TopicViewCollection<TopicView> (tva));  			queuedStatsList.Clear ();  			queuedStatsList.ViewCount = 0;  		}  	}  	bool inArray = false;  	foreach (TopicView curtv in queuedStatsList) {  		if (curtv.TopicID == tv.TopicID) {  			curtv.ViewCount = curtv.ViewCount + tv.ViewCount;  			inArray = true;  			break;  		}  	}  	if (!inArray)  		queuedStatsList.Add (tv);  }  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,AddQuedStats,The following statement contains a magic number: lock (queuedStatsList.SyncRoot) {  	//Check for the limit  	if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  		//make sure the pool queue was not cleared during a wait for the lock  		if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  			TopicView[] tva = new TopicView[queuedStatsList.Count];  			queuedStatsList.CopyTo (tva' 0);  			ClearTrackTopicQueue (new TopicViewCollection<TopicView> (tva));  			queuedStatsList.Clear ();  			queuedStatsList.ViewCount = 0;  		}  	}  	bool inArray = false;  	foreach (TopicView curtv in queuedStatsList) {  		if (curtv.TopicID == tv.TopicID) {  			curtv.ViewCount = curtv.ViewCount + tv.ViewCount;  			inArray = true;  			break;  		}  	}  	if (!inArray)  		queuedStatsList.Add (tv);  }  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,AddQuedStats,The following statement contains a magic number: if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  	//make sure the pool queue was not cleared during a wait for the lock  	if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  		TopicView[] tva = new TopicView[queuedStatsList.Count];  		queuedStatsList.CopyTo (tva' 0);  		ClearTrackTopicQueue (new TopicViewCollection<TopicView> (tva));  		queuedStatsList.Clear ();  		queuedStatsList.ViewCount = 0;  	}  }  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,AddQuedStats,The following statement contains a magic number: if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  	//make sure the pool queue was not cleared during a wait for the lock  	if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  		TopicView[] tva = new TopicView[queuedStatsList.Count];  		queuedStatsList.CopyTo (tva' 0);  		ClearTrackTopicQueue (new TopicViewCollection<TopicView> (tva));  		queuedStatsList.Clear ();  		queuedStatsList.ViewCount = 0;  	}  }  
Magic Number,Discuz.Forum,TopicStats,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\TopicStats.cs,AddQuedStats,The following statement contains a magic number: if (queuedStatsList.ViewCount >= queuedAllowCount || queuedStatsList.Count >= 5) {  	TopicView[] tva = new TopicView[queuedStatsList.Count];  	queuedStatsList.CopyTo (tva' 0);  	ClearTrackTopicQueue (new TopicViewCollection<TopicView> (tva));  	queuedStatsList.Clear ();  	queuedStatsList.ViewCount = 0;  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [2] = new Regex (@"viewfile.asp\?id=(\d{1'})"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [3] = new Regex (@"(\[uploadimage\])(.*?)(\[\/uploadimage\])"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [4] = new Regex (@"viewfile.asp\?id=(\d{1'})"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [5] = new Regex (@"(\[uploadfile\])(.*?)(\[\/uploadfile\])"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [6] = new Regex (@"viewfile.asp\?id=(\d{1'})"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [7] = new Regex (@"(\[upload\])(.*?)(\[\/upload\])"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [8] = new Regex (@"viewfile.asp\?id=(\d{1'})"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [9] = new Regex (@"(\r\n((&nbsp;)|��| )+)(?<����>\S+)"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [10] = new Regex (@"\s*\[hide\][\n\r]*([\s\S]+?)[\n\r]*\[\/hide\]\s*"' RegexOptions.IgnoreCase);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [11] = new Regex (@"\[table(?:=(\d{1'4}%?)(?:'([\(\)%'#\w ]+))?)?\]\s*([\s\S]+?)\s*\[\/table\]"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [12] = new Regex (@"\[media=(\w{1'4})'(\d{1'4})'(\d{1'4})('(\d))?\]\s*([^\[\<\r\n]+?)\s*\[\/media\]"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [13] = new Regex (@"\[attach\](\d+)(\[/attach\])*"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [14] = new Regex (@"\[attachimg\](\d+)(\[/attachimg\])*"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [15] = new Regex (@"\s*\[free\][\n\r]*([\s\S]+?)[\n\r]*\[\/free\]\s*"' RegexOptions.IgnoreCase);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [16] = new Regex (@"\s*\[hide=(\d+?)\][\n\r]*([\s\S]+?)[\n\r]*\[\/hide\]\s*"' RegexOptions.IgnoreCase);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [17] = new Regex (@"\[audio(=(\d))?\]\s*([^\[\<\r\n]+?)\s*\[\/audio\]"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [18] = new Regex (@"\[p=(\d{1'4})' (\d{1'4})' (left|center|right)\]\s*([^\<\r\n]+?)\s*\[\/p\]"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBB,The following statement contains a magic number: r [19] = new Regex (@"\[flash(=(\d{1'4})'(\d{1'4}))?\]\s*([^\[\<\r\n]+?)\s*\[\/flash\]"' options);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodeoff == 0) {  	if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  		for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  		}  	}  	// Bold' Italic' Underline  	sDetail = parseBold (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[b(?:\s*)\]"' "<b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[i(?:\s*)\]"' "<i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[u(?:\s*)\]"' "<u>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/b(?:\s*)\]"' "</b>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/i(?:\s*)\]"' "</i>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/u(?:\s*)\]"' "</u>"' options);  	// Sub/Sup  	sDetail = Regex.Replace (sDetail' @"\[sup(?:\s*)\]"' "<sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[sub(?:\s*)\]"' "<sub>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sup(?:\s*)\]"' "</sup>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/sub(?:\s*)\]"' "</sub>"' options);  	// P  	sDetail = Regex.Replace (sDetail' @"((\r\n)*\[p\])(.*?)((\r\n)*\[\/p\])"' "<p>$3</p>"' RegexOptions.IgnoreCase | RegexOptions.Singleline);  	// Anchors  	sDetail = ParseUrl (sDetail);  	// Email  	sDetail = Regex.Replace (sDetail' @"\[email(?:\s*)\](.*?)\[\/email\]"' "<a href=\"mailto:$1\" target=\"_blank\">$1</a>"' options);  	sDetail = Regex.Replace (sDetail' @"\[email=(.[^\[]*)(?:\s*)\](.*?)\[\/email(?:\s*)\]"' "<a href=\"mailto:$1\" target=\"_blank\">$2</a>"' options);  	#region  	// Font  	sDetail = parseFont (sDetail);  	//sDetail = Regex.Replace(sDetail' @"\[color=([^\[\<]+?)\]"' "<font color=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+?)\]"' "<font size=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[size=(\d+(\.\d+)?(px|pt|in|cm|mm|pc|em|ex|%)+?)\]"' "<font style=\"font-size: $1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[font=([^\[\<]+?)\]"' "<font face=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[align=([^\[\<]+?)\]"' "<p align=\"$1\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[float=(left|right)\]"' "<br style=\"clear: both\"><span style=\"float: $1;\">"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/color(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/size(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/font(?:\s*)\]"' "</font>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/align(?:\s*)\]"' "</p>"' options);  	//sDetail = Regex.Replace(sDetail' @"\[/float(?:\s*)\]"' "</span>"' options);  	// BlockQuote  	sDetail = Regex.Replace (sDetail' @"\[indent(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/indent(?:\s*)\]"' "</blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[simpletag(?:\s*)\]"' "<blockquote>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/simpletag(?:\s*)\]"' "</blockquote>"' options);  	// List  	sDetail = Regex.Replace (sDetail' @"\[list\]"' "<ul>"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=1\]"' "<ul type=1 class=\"litype_1\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=a\]"' "<ul type=1 class=\"litype_2\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[list=A\]"' "<ul type=1 class=\"litype_3\">"' options);  	sDetail = Regex.Replace (sDetail' @"\[\*\]"' "<li>"' options);  	sDetail = Regex.Replace (sDetail' @"\[/list\]"' "</ul>"' options);  	#endregion  	#region ѭ��ת��table  	sDetail = ParseTable (sDetail);  	#endregion  	// shadow  	sDetail = Regex.Replace (sDetail' @"(\[SHADOW=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/SHADOW\])"' "<table width='$2'  style='filter:SHADOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// glow  	sDetail = Regex.Replace (sDetail' @"(\[glow=)(\d*?)'(#*\w*?)'(\d*?)\]([\s]||[\s\S]+?)(\[\/glow\])"' "<table width='$2'  style='filter:GLOW(COLOR=$3' STRENGTH=$4)'>$5</table>"' options);  	// center  	sDetail = Regex.Replace (sDetail' @"\[center\]([\s]||[\s\S]+?)\[\/center\]"' "<center>$1</center>"' options);  	// Media  	MatchCollection mc = r [12].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  	}  	//Audio  	mc = r [17].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  	}  	//p  	mc = r [18].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	sDetail = sDetail.Replace ("[p=30' 2' left][/p]"' "<p style=\"line-height: 30px; text-indent: 2em; text-align: left;\"></p>");  	//flash  	mc = r [19].Matches (sDetail);  	foreach (Match match in mc) {  		sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  	}  	#region �Զ����ǩ  	if (_postpramsinfo.Customeditorbuttoninfo != null) {  		sDetail = ReplaceCustomTag (sDetail' _postpramsinfo.Customeditorbuttoninfo);  	}  	#endregion  	#region ����[quote][/quote]���  	int intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]");  	int quotecount = 0;  	while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  		quotecount++;  		sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  		intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  	}  	#endregion  	//����[area]��ǩ  	sDetail = Regex.Replace (sDetail' @"\[area=([\s\S]+?)\]([\s\S]+?)\[/area\]"' "<div class=\"msgheader\">$1</div><div class=\"msgborder\">$2</div>"' options);  	sDetail = Regex.Replace (sDetail' @"\[area\]([\s\S]+?)\[/area\]"' "<br /><br /><div class=\"msgheader\"></div><div class=\"msgborder\">$1</div>"' options);  	#region ��������ģʽubb  	if (_postpramsinfo.Bbcodemode == 1) {  		///[upload=jpg].jpg[/upload]  		string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  		string replacement = "";  		string attachIcon = "images/attachicons/attachment.gif";  		for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				attachIcon = "images/attachicons/rar.gif";  			}  			if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  				if (_postpramsinfo.Showimages == 1) {  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  				}  				else {  					replacement = attachPath;  					if (replacement.LastIndexOf ("/") > 0) {  						replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  					}  					replacement = string.Format (attachCode' attachIcon' attachPath);  					sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  				}  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  				attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  			}  			else {  				attachPath = BaseConfigs.GetForumPath + attachPath;  			}  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  		replacement = "";  		for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  		sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  		//[upload].*[/upload]  		replacement = "";  		for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  			Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  			if (m1.Success) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  				continue;  			}  			replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  			if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  				replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  			}  			else {  				replacement = BaseConfigs.GetForumPath + replacement;  			}  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	#endregion  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (sDetail.ToLower ().Contains ("[free]") || sDetail.ToLower ().Contains ("[/free]")) {  	for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [15].Match (sDetail); m.Success; m = m.NextMatch ()) {  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<br /><div class=\"msgheader\">�������:</div><div class=\"msgborder\">" + m.Groups [1].ToString () + "</div><br />");  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: m = r [15].Match (sDetail)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseMedia (match.Groups [1].Value' Utils.StrToInt (match.Groups [2].Value' 64)' Utils.StrToInt (match.Groups [3].Value' 48)' match.Groups [4].Value == "1" ? true : false' match.Groups [6].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: mc = r [17].Matches (sDetail);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseAudio (match.Groups [2].Value' match.Groups [3].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: mc = r [18].Matches (sDetail);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseP (match.Groups [1].Value' match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: mc = r [19].Matches (sDetail);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: foreach (Match match in mc) {  	sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: sDetail = sDetail.Replace (match.Groups [0].Value' ParseFlash (match.Groups [2].Value' match.Groups [3].Value' match.Groups [4].Value));  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  	quotecount++;  	sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  	intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: while (intQuoteIndexOf >= 0 && sDetail.ToLower ().IndexOf ("[/quote]") >= 0 && quotecount < 3) {  	quotecount++;  	sDetail = Regex.Replace (sDetail' @"\[quote\]([\s\S]+?)\[/quote\]"' "<table style=\"width: auto;\"><tr><td style=\"border:none;\"><div class=\"quote\"><blockquote>$1</blockquote></div></td></tr></table>"' options);  	intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: intQuoteIndexOf = sDetail.ToLower ().IndexOf ("[quote]"' intQuoteIndexOf + 7);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if (_postpramsinfo.Bbcodemode == 1) {  	///[upload=jpg].jpg[/upload]  	string attachCode = "<p><img alt=\"\" src=\"{0}\" border=\"0\" /><span class=\"bold\">����</span>: <a href=\"{1}\" target=\"_blank\">{2}</a> </p>";  	string replacement = "";  	string attachIcon = "images/attachicons/attachment.gif";  	for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			attachIcon = "images/attachicons/rar.gif";  		}  		if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  			if (_postpramsinfo.Showimages == 1) {  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  			}  			else {  				replacement = attachPath;  				if (replacement.LastIndexOf ("/") > 0) {  					replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  				}  				replacement = string.Format (attachCode' attachIcon' attachPath);  				sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  			}  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadimage\](\d{1'})\[/uploadimage\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  			attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  		}  		else {  			attachPath = BaseConfigs.GetForumPath + attachPath;  		}  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	sDetail = Regex.Replace (sDetail' @"\[uploadfile\](\d{1'})\[/uploadfile\]"' "[attach]$1[/attach]"' options);  	replacement = "";  	for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  	sDetail = Regex.Replace (sDetail' @"\[upload\](\d{1'})\[/upload\]"' "[attach]$1[/attach]"' options);  	//[upload].*[/upload]  	replacement = "";  	for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  		Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  		if (m1.Success) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  			continue;  		}  		replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  		if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  			replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  		}  		else {  			replacement = BaseConfigs.GetForumPath + replacement;  		}  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		attachIcon = "images/attachicons/rar.gif";  	}  	if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		attachIcon = "images/attachicons/rar.gif";  	}  	if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		attachIcon = "images/attachicons/rar.gif";  	}  	if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		attachIcon = "images/attachicons/rar.gif";  	}  	if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [1].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [2].Match (m.Groups [4].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [4].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		attachIcon = "images/attachicons/rar.gif";  	}  	if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  		if (_postpramsinfo.Showimages == 1) {  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  		}  		else {  			replacement = attachPath;  			if (replacement.LastIndexOf ("/") > 0) {  				replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  			}  			replacement = string.Format (attachCode' attachIcon' attachPath);  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  		}  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if ("rar'zip".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  	attachIcon = "images/attachicons/rar.gif";  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: if ("jpg'jpeg'gif'bmp'png".IndexOf (m.Groups [2].ToString ().ToLower ()) != -1) {  	if (_postpramsinfo.Showimages == 1) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  else {  	replacement = attachPath;  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if (_postpramsinfo.Showimages == 1) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if (_postpramsinfo.Showimages == 1) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if (_postpramsinfo.Showimages == 1) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [3].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [4].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	string attachPath = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (attachPath.IndexOf ("attachment.aspx?attachmentid") == -1) {  		attachPath = BaseConfigs.GetForumPath + "upload/" + attachPath;  	}  	else {  		attachPath = BaseConfigs.GetForumPath + attachPath;  	}  	if (_postpramsinfo.Showimages == 1) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "<img src=\"" + attachPath + "\" border=\"0\" onload=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onmouseover=\"if(this.width>screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.style.cursor=\'hand\'; this.alt=\'������´������ͼƬ\\nCTRL+Mouse ���ֿɷŴ�/��С\';}\" onclick=\"if(!this.resized) {return true;} else {window.open(this.src);}\" onmousewheel=\"return imgzoom(this);\" />");  	}  	else {  		replacement = attachPath;  		if (replacement.LastIndexOf ("/") > 0) {  			replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  		}  		replacement = string.Format (attachCode' attachIcon' attachPath' replacement);  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: m = r [3].Match (sDetail)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [5].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [6].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: m = r [5].Match (sDetail)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: replacement = m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: for (m = r [7].Match (sDetail); m.Success; m = m.NextMatch ()) {  	Match m1 = r [8].Match (m.Groups [2].ToString ().ToLower ());  	if (m1.Success) {  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' "[attach]" + m1.Groups [1] + "[/attach]");  		continue;  	}  	replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  	if (replacement.IndexOf ("attachment.aspx?attachmentid") == -1) {  		replacement = BaseConfigs.GetForumPath + "upload/" + replacement;  	}  	else {  		replacement = BaseConfigs.GetForumPath + replacement;  	}  	if (replacement.LastIndexOf ("/") > 0) {  		replacement = Utils.CutString (replacement' replacement.LastIndexOf ("/"));  	}  	replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' replacement);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: m = r [7].Match (sDetail)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: replacement = BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,UBBToHTML,The following statement contains a magic number: replacement = string.Format (attachCode' attachIcon' BaseConfigs.GetForumPath + m.Groups [2].ToString ().ToLower ().Replace ("viewfile.asp?id"' "attachment.aspx?attachmentid")' replacement);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/hide]") >= 0) {  	for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  		if (hide == 1)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  	}  	for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  		hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  		if (hide != -2 && usercredit < hidecredits)  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  		else  			str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  	}  	if (intTableIndexOf + 7 > str.Length)  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  	else  		intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: for (m = r [10].Match (str); m.Success; m = m.NextMatch ()) {  	if (hide == 1)  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ���������Ա�ظ��ſ���� *****</div></div>");  	else  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">�������ݻ�Ա�����ظ����ܿ���</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [1].ToString () + "<br /><br />==============================</div></div>");  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: m = r [10].Match (str)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  	hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  	if (hide != -2 && usercredit < hidecredits)  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  	else  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  	hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  	if (hide != -2 && usercredit < hidecredits)  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  	else  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: for (m = r [16].Match (str); m.Success; m = m.NextMatch ()) {  	hidecredits = TypeConverter.StrToInt (m.Groups [1].ToString ());  	if (hide != -2 && usercredit < hidecredits)  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  	else  		str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: m = r [16].Match (str)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: if (hide != -2 && usercredit < hidecredits)  	str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  else  	str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: if (hide != -2 && usercredit < hidecredits)  	str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">***** ������������߻��ָ���" + hidecredits + " �ſ���� ***** </div></div>");  else  	str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: str = str.Replace (m.Groups [0].ToString ()' "<div class=\"hide\"><div class=\"hidestyle\">��������ֻ��������߻��ָ��� " + hidecredits + " ʱ����ʾ</div><div class=\"hidetext\"><br />==============================<br /><br />" + m.Groups [2].ToString () + "<br /><br />==============================</div></div>");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: if (intTableIndexOf + 7 > str.Length)  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  else  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: if (intTableIndexOf + 7 > str.Length)  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' str.Length);  else  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,HideDetail,The following statement contains a magic number: intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ReplaceCustomTag,The following statement contains a magic number: for (int i = 0; i < Editors.regexCustomTag.Length; i++) {  	replacement = customeditorbuttoninfo [i].Replacement;  	b_params = customeditorbuttoninfo [i].Params;  	for (int k = 0; k < customeditorbuttoninfo [i].Nest; k++) {  		for (m = Editors.regexCustomTag [i].Match (sDetail); m.Success; m = m.NextMatch ()) {  			tempReplacement = replacement.Replace (@"{1}"' m.Groups [m.Groups.Count - 1].ToString ());  			if (b_params > 1) {  				for (int j = 2; j <= b_params; j++) {  					if (m.Groups.Count > j)  						tempReplacement = tempReplacement.Replace ("{" + j + "}"' m.Groups [j].ToString ());  				}  			}  			sDetail = sDetail.Replace (m.Groups [0].ToString ()' tempReplacement);  			sDetail = sDetail.Replace ("{RANDOM}"' Guid.NewGuid ().ToString ());  		}  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ReplaceCustomTag,The following statement contains a magic number: for (int k = 0; k < customeditorbuttoninfo [i].Nest; k++) {  	for (m = Editors.regexCustomTag [i].Match (sDetail); m.Success; m = m.NextMatch ()) {  		tempReplacement = replacement.Replace (@"{1}"' m.Groups [m.Groups.Count - 1].ToString ());  		if (b_params > 1) {  			for (int j = 2; j <= b_params; j++) {  				if (m.Groups.Count > j)  					tempReplacement = tempReplacement.Replace ("{" + j + "}"' m.Groups [j].ToString ());  			}  		}  		sDetail = sDetail.Replace (m.Groups [0].ToString ()' tempReplacement);  		sDetail = sDetail.Replace ("{RANDOM}"' Guid.NewGuid ().ToString ());  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ReplaceCustomTag,The following statement contains a magic number: for (m = Editors.regexCustomTag [i].Match (sDetail); m.Success; m = m.NextMatch ()) {  	tempReplacement = replacement.Replace (@"{1}"' m.Groups [m.Groups.Count - 1].ToString ());  	if (b_params > 1) {  		for (int j = 2; j <= b_params; j++) {  			if (m.Groups.Count > j)  				tempReplacement = tempReplacement.Replace ("{" + j + "}"' m.Groups [j].ToString ());  		}  	}  	sDetail = sDetail.Replace (m.Groups [0].ToString ()' tempReplacement);  	sDetail = sDetail.Replace ("{RANDOM}"' Guid.NewGuid ().ToString ());  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ReplaceCustomTag,The following statement contains a magic number: if (b_params > 1) {  	for (int j = 2; j <= b_params; j++) {  		if (m.Groups.Count > j)  			tempReplacement = tempReplacement.Replace ("{" + j + "}"' m.Groups [j].ToString ());  	}  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ReplaceCustomTag,The following statement contains a magic number: for (int j = 2; j <= b_params; j++) {  	if (m.Groups.Count > j)  		tempReplacement = tempReplacement.Replace ("{" + j + "}"' m.Groups [j].ToString ());  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: while (intTableIndexOf >= 0 && str.ToLower ().IndexOf ("[/table]") >= 0) {  	for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  		width = m.Groups [1].ToString ();  		width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  		bgcolor = m.Groups [2].ToString ();  		stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  		stable += width.Equals ("") ? "" : ("width:" + width + ";");  		stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  		stable += "\">";  		width = m.Groups [3].ToString ();  		width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  		width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  		width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  		width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  		width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  		width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  		width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  		stable += width;  		stable += "</table>";  		str = str.Replace (m.Groups [0].ToString ()' stable);  	}  	intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: for (m = r [11].Match (str); m.Success; m = m.NextMatch ()) {  	width = m.Groups [1].ToString ();  	width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  	bgcolor = m.Groups [2].ToString ();  	stable = "<table class=\"t_table\" cellspacing=\"1\" cellpadding=\"4\" style=\"";  	stable += width.Equals ("") ? "" : ("width:" + width + ";");  	stable += "".Equals (bgcolor) ? "" : ("background: " + bgcolor + ";");  	stable += "\">";  	width = m.Groups [3].ToString ();  	width = Regex.Replace (width' @"\[td=(\d{1'2})'(\d{1'2})('(\d{1'4}%?))?\]"' "<td colspan=\"$1\" rowspan=\"$2\" width=\"$4\" class=\"t_table\">"' options);  	width = Regex.Replace (width' @"\[td=(\d{1'4})\]"' "<td width=\"$1\">"' options);  	width = Regex.Replace (width' @"\[tr\]"' "<tr>"' options);  	width = Regex.Replace (width' @"\[td\]"' "<td>"' options);  	width = Regex.Replace (width' @"\[\/td\]"' "</td>"' options);  	width = Regex.Replace (width' @"\[\/tr\](\r\n)?"' "</tr>"' options);  	width = Regex.Replace (width' @"\<td\>\<\/td\>"' "<td>&nbsp;</td>"' options);  	stable += width;  	stable += "</table>";  	str = str.Replace (m.Groups [0].ToString ()' stable);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: m = r [11].Match (str)
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: width = Utils.CutString (width' width.Length - 1' width.Length).Equals ("%") ? (Utils.StrToInt (Utils.CutString (width' 0' width.Length - 1)' 100) <= 98 ? width : "98%") : (Utils.StrToInt (width' 560) <= 560 ? width : "560");  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: bgcolor = m.Groups [2].ToString ();  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: width = m.Groups [3].ToString ();  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseTable,The following statement contains a magic number: intTableIndexOf = str.ToLower ().IndexOf ("[table"' intTableIndexOf + 7);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseMedia,The following statement contains a magic number: switch (type) {  case "mp3":  case "wma":  case "ra":  case "ram":  case "wav":  case "mid":  	return ParseAudio (autostart ? "1" : "0"' url);  case "rm":  case "rmvb":  case "rtsp":  	Random r = new Random (3);  	string mediaid = "media_" + r.Next ();  	return string.Format (@"<object classid=""clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><param name=""controls"" value=""imagewindow"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""IMAGEWINDOW"" console=""{4}_"" width=""{0}"" height=""{1}""></embed></object><br /><object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""src"" value=""{3}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {5} console=""{4}_"" width=""{0}"" height=""32""></embed></object>"' width' height' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty);  case "flv":  	return string.Format (@"<script type=""text/javascript"" reload=""1"">document.write(AC_FL_RunContent('width'' '{0}'' 'height'' '{1}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'never'' 'src'' '{2}images/common/flvplayer.swf'' 'flashvars'' 'file={3}'' 'quality'' 'high'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true'));</script>"' width' height' BaseConfigs.GetForumPath' Utils.UrlEncode (url));  case "swf":  	return string.Format (@"<script type=""text/javascript"" reload=""1"">document.write(AC_FL_RunContent('width'' '{0}'' 'height'' '{1}'' 'allowNetworking'' 'internal'' 'allowScriptAccess'' 'never'' 'src'' '{2}'' 'quality'' 'high'' 'bgcolor'' '#ffffff'' 'wmode'' 'transparent'' 'allowfullscreen'' 'true'));</script>"' width' height' url);  case "asf":  case "asx":  case "wmv":  case "mms":  case "avi":  case "mpg":  case "mpeg":  	return string.Format (@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""{1}""><param name=""invokeURLs"" value=""0""><param name=""autostart"" value=""{2}"" /><param name=""url"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""application/x-mplayer2"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart' url);  case "mov":  	return string.Format (@"<object classid=""clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""video/quicktime"" controller=""true"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart ? "" : "fale"' url);  //case "ra":  //    return string.Format(@"<object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""autostart"" value=""{1}"" /><param name=""src"" value=""{2}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{3}_"" /><embed src=""{2}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {4} console=""{3}_"" width=""{0}"" height=""32""></embed></object>"' width' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty);  //case "rm":  //    return string.Format(@"<object classid=""clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><param name=""controls"" value=""imagewindow"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""IMAGEWINDOW"" console=""{4}_"" width=""{0}"" height=""{1}""></embed></object><br /><object classid=""clsid:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"" width=""{0}"" height=""32""><param name=""src"" value=""{3}"" /><param name=""controls"" value=""controlpanel"" /><param name=""console"" value=""{4}_"" /><embed src=""{3}"" type=""audio/x-pn-realaudio-plugin"" controls=""ControlPanel"" {5} console=""{4}_"" width=""{0}"" height=""32""></embed></object>"' width' height' autostart ? 1 : 0' url' mediaid' autostart ? "autostart=\"true\"" : string.Empty);  //case "wma":  //    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""64""><param name=""autostart"" value=""{1}"" /><param name=""url"" value=""{2}"" /><embed src=""{2}"" autostart=""{1}"" type=""audio/x-ms-wma"" width=""{0}"" height=""64""></embed></object>"' width' autostart ? 1 : 0' url);  //case "wmv":  //    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""url"" value=""{3}"" /><embed src=""{3}"" autostart=""{2}"" type=""video/x-ms-wmv"" width=""{0}"" height=""{1}""></embed></object>"' width' height' autostart ? 1 : 0' url);  //case "mp3":  //    return string.Format(@"<object classid=""clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"" width=""{0}"" height=""64""><param name=""autostart"" value=""{1}""/><param name=""url"" value=""{2}"" /><embed src=""{2}"" autostart=""{1}"" type=""application/x-mplayer2"" width=""{0}"" height=""64""></embed></object>"' width' autostart ? 1 : 0' url);  //case "mov":  //    return string.Format(@"<object classid=""clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"" width=""{0}"" height=""{1}""><param name=""autostart"" value=""{2}"" /><param name=""src"" value=""{3}"" /><embed controller=""true"" width=""{0}"" height=""{1}"" src=""{3}"" autostart=""{2}""></embed></object>"' width' height' autostart.ToString().ToLower()' url);  default:  	return string.Format (@"<a href=""{0}"" target=""_blank"">{0}</a>"' url);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl != ReplaceString (new string[] {  	"player.youku.com/player.php/sid/"'  	"tudou.com/v/"'  	"player.ku6.com/refer/"  }' ""' lowerUrl)) {  	flv = url;  }  else if (lowerUrl.Contains ("v.youku.com/v_show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.youku.com\/v_show\/id_([^\/]+)(.html|)"' "http://player.youku.com/player.php/sid/{0}/v.swf");  else if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl != ReplaceString (new string[] {  	"player.youku.com/player.php/sid/"'  	"tudou.com/v/"'  	"player.ku6.com/refer/"  }' ""' lowerUrl)) {  	flv = url;  }  else if (lowerUrl.Contains ("v.youku.com/v_show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.youku.com\/v_show\/id_([^\/]+)(.html|)"' "http://player.youku.com/player.php/sid/{0}/v.swf");  else if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("v.youku.com/v_show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.youku.com\/v_show\/id_([^\/]+)(.html|)"' "http://player.youku.com/player.php/sid/{0}/v.swf");  else if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("v.youku.com/v_show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.youku.com\/v_show\/id_([^\/]+)(.html|)"' "http://player.youku.com/player.php/sid/{0}/v.swf");  else if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("tudou.com/programs/view/"))  	flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  else if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: flv = GetFlvUrl (url' @"http:\/\/(www.)?tudou.com\/programs\/view\/([^\/]+)"' "http://www.tudou.com/v/{0}"' 2);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("v.ku6.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/show\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("v.ku6.com/special/show_"))  	flv = GetFlvUrl (url' @"http:\/\/v.ku6.com\/special\/show_\d+\/([^\/]+).html"' "http://player.ku6.com/refer/{0}/v.swf");  else if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("www.youtube.com/watch?"))  	flv = GetFlvUrl (url' @"http:\/\/www.youtube.com\/watch\?v=([^\/&]+)&?"' "http://www.youtube.com/v/{0}&hl=zh_CN&fs=1");  else if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("tv.mofile.com/"))  	flv = GetFlvUrl (url' @"http:\/\/tv.mofile.com\/([^\/]+)"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("v.mofile.com/show/"))  	flv = GetFlvUrl (url' @"http:\/\/v.mofile.com\/show\/([^\/]+).shtml"' "http://tv.mofile.com/cn/xplayer.swf?v={0}");  else if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("you.video.sina.com.cn/b/"))  	flv = GetFlvUrl (url' @"http:\/\/you.video.sina.com.cn\/b\/(\d+)-(\d+).html"' "http://vhead.blog.sina.com.cn/player/outer_player.swf?vid={0}");  else if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("http://v.blog.sohu.com/u/"))  	flv = GetFlvUrl (url' @"http:\/\/v.blog.sohu.com\/u\/[^\/]+\/(\d+)"' "http://v.blog.sohu.com/fo/v4/{0}");  else if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if (lowerUrl.Contains ("http://www.56.com")) {  	MatchCollection mc;  	if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  	else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  		flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  }  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/play_album-aid-(\d+)_vid-(.+?).html"' RegexOptions.IgnoreCase)).Count > 0)  	flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  else if ((mc = Regex.Matches (url' @"http:\/\/www.56.com\/\S+\/([^\/]+).html"' RegexOptions.IgnoreCase)).Count > 0)  	flv = string.Format ("http://player.56.com/{0}.swf"' mc [0].Groups [1].Value);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ParseFlv,The following statement contains a magic number: flv = string.Format ("http://player.56.com/v_{0}.swf"' mc [0].Groups [2].Value);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ClearAttachUBB,The following statement contains a magic number: sDetail = r [13].Replace (sDetail' string.Empty);  
Magic Number,Discuz.Forum,UBB,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UBB.cs,ClearAttachUBB,The following statement contains a magic number: return r [14].Replace (sDetail' string.Empty);  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if (forum.Allowspecialonly > 0) {  	//当版块设置了只允许特殊主题，但又没有开启任何特殊主题类型，则相当于关闭了版块的发主题功能  	if (forum.Allowpostspecial <= 0) {  		msg = "您没有在该版块发表特殊主题的权限";  		return false;  	}  	if ((forum.Allowpostspecial & 1) == 1 && userGroupInfo.Allowpostpoll != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布投票的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  	else  		return true;  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if (forum.Allowspecialonly > 0) {  	//当版块设置了只允许特殊主题，但又没有开启任何特殊主题类型，则相当于关闭了版块的发主题功能  	if (forum.Allowpostspecial <= 0) {  		msg = "您没有在该版块发表特殊主题的权限";  		return false;  	}  	if ((forum.Allowpostspecial & 1) == 1 && userGroupInfo.Allowpostpoll != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布投票的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  	else  		return true;  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if (forum.Allowspecialonly > 0) {  	//当版块设置了只允许特殊主题，但又没有开启任何特殊主题类型，则相当于关闭了版块的发主题功能  	if (forum.Allowpostspecial <= 0) {  		msg = "您没有在该版块发表特殊主题的权限";  		return false;  	}  	if ((forum.Allowpostspecial & 1) == 1 && userGroupInfo.Allowpostpoll != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布投票的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  	else  		return true;  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if (forum.Allowspecialonly > 0) {  	//当版块设置了只允许特殊主题，但又没有开启任何特殊主题类型，则相当于关闭了版块的发主题功能  	if (forum.Allowpostspecial <= 0) {  		msg = "您没有在该版块发表特殊主题的权限";  		return false;  	}  	if ((forum.Allowpostspecial & 1) == 1 && userGroupInfo.Allowpostpoll != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布投票的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  	else  		return true;  	if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  		msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  	else  		return true;  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  	msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  else  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if ((forum.Allowpostspecial & 4) == 4 && userGroupInfo.Allowbonus != 1)  	msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发布悬赏的权限";  else  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  	msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  else  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostAuthority,The following statement contains a magic number: if ((forum.Allowpostspecial & 16) == 16 && userGroupInfo.Allowdebate != 1)  	msg = "您当前的身份 \"" + userGroupInfo.Grouptitle + "\" 没有发起辩论的权限";  else  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (forum.Allowpostspecial > 0) {  	if (type == "poll" && (forum.Allowpostspecial & 1) != 1) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表投票"' forum.Name);  		return false;  	}  	if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  		return false;  	}  	if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  		return false;  	}  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (forum.Allowpostspecial > 0) {  	if (type == "poll" && (forum.Allowpostspecial & 1) != 1) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表投票"' forum.Name);  		return false;  	}  	if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  		return false;  	}  	if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  		return false;  	}  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (forum.Allowpostspecial > 0) {  	if (type == "poll" && (forum.Allowpostspecial & 1) != 1) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表投票"' forum.Name);  		return false;  	}  	if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  		return false;  	}  	if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  		return false;  	}  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (forum.Allowpostspecial > 0) {  	if (type == "poll" && (forum.Allowpostspecial & 1) != 1) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表投票"' forum.Name);  		return false;  	}  	if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  		return false;  	}  	if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  		msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  		return false;  	}  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  	msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (type == "bonus" && (forum.Allowpostspecial & 4) != 4) {  	msg = string.Format ("当前版块 \"{0}\" 不允许发表悬赏"' forum.Name);  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  	msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,PostSpecialAuthority,The following statement contains a magic number: if (type == "debate" && (forum.Allowpostspecial & 16) != 16) {  	msg = string.Format ("当前版块 \"{0}\" 不允许发表辩论"' forum.Name);  	return false;  }  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,NeedAudit,The following statement contains a magic number: if (forum.Modnewposts == 1 || userGroup.ModNewPosts == 1)  	return true;  else if (topicInfo.Displayorder == -2)  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,NeedAudit,The following statement contains a magic number: if (topicInfo.Displayorder == -2)  	return true;  
Magic Number,Discuz.Forum,UserAuthority,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserAuthority.cs,Search,The following statement contains a magic number: if (usergroupinfo.Allowsearch == 2 && DNTRequest.GetInt ("keywordtype"' 0) == 1) {  	msg = "您当前的身份 " + usergroupinfo.Grouptitle + " 没有全文搜索的权限";  	return false;  }  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserCredits,The following statement contains a magic number: if (userInfo != null) {  	Discuz.Data.UserCredits.UpdateUserCredits (uid);  	UserGroupInfo tmpUserGroupInfo = UserGroups.GetUserGroupInfo (userInfo.Groupid);  	if (tmpUserGroupInfo != null && (UserGroups.IsCreditUserGroup (tmpUserGroupInfo) || tmpUserGroupInfo.Groupid == 7))//���û���Ϊ�����û��������IDΪ�ο�(ID=7)  	 {  		tmpUserGroupInfo = GetCreditsUserGroupId (userInfo.Credits);  		if (tmpUserGroupInfo.Groupid != userInfo.Groupid)//���û������鷢���仯ʱ  		 {  			Discuz.Data.Users.UpdateUserGroup (userInfo.Uid.ToString ()' tmpUserGroupInfo.Groupid);  			Discuz.Data.OnlineUsers.UpdateGroupid (userInfo.Uid' tmpUserGroupInfo.Groupid);  		}  	}  	//�жϲ����û��Ƿ��ǵ�ǰ�û�������������dntusertips��cookie  	HttpCookie cookie = HttpContext.Current.Request.Cookies ["dnt"];  	if (cookie != null) {  		if (cookie ["userid"] == uid.ToString ())  			ForumUtils.WriteUserCreditsCookie (userInfo' tmpUserGroupInfo.Grouptitle);  	}  	return 1;  }  else  	return 0;  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserCredits,The following statement contains a magic number: if (tmpUserGroupInfo != null && (UserGroups.IsCreditUserGroup (tmpUserGroupInfo) || tmpUserGroupInfo.Groupid == 7))//���û���Ϊ�����û��������IDΪ�ο�(ID=7)   {  	tmpUserGroupInfo = GetCreditsUserGroupId (userInfo.Credits);  	if (tmpUserGroupInfo.Groupid != userInfo.Groupid)//���û������鷢���仯ʱ  	 {  		Discuz.Data.Users.UpdateUserGroup (userInfo.Uid.ToString ()' tmpUserGroupInfo.Groupid);  		Discuz.Data.OnlineUsers.UpdateGroupid (userInfo.Uid' tmpUserGroupInfo.Groupid);  	}  }  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,WriteUpdateUserExtCreditsCookies,The following statement contains a magic number: cookie.Expires = DateTime.Now.AddMinutes (36000);  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,UpdateUserExtCredits,The following statement contains a magic number: if (values.Length < 8)  	return -1;  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,CheckUserCreditsIsEnough,The following statement contains a magic number: for (int i = 0; i < 8; i++) {  	extCredits [i] = TypeConverter.ObjectToFloat (dt.Rows [(int)creditsOperationType] ["extcredits" + (i + 1)]);  }  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,CheckUserCreditsIsEnough,The following statement contains a magic number: if (pos < 0) {  	for (int i = 0; i < 8; i++) {  		if (Utils.StrToFloat (extCredits [i]' 0) < 0)  			//ֻҪ�κ�һ��Ҫ�����'��ȥ���ݿ���  			return Discuz.Data.UserCredits.CheckUserCreditsIsEnough (uid' extCredits' pos' mount);  	}  }  
Magic Number,Discuz.Forum,UserCredits,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserCredits.cs,CheckUserCreditsIsEnough,The following statement contains a magic number: for (int i = 0; i < 8; i++) {  	if (Utils.StrToFloat (extCredits [i]' 0) < 0)  		//ֻҪ�κ�һ��Ҫ�����'��ȥ���ݿ���  		return Discuz.Data.UserCredits.CheckUserCreditsIsEnough (uid' extCredits' pos' mount);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCredit,The following statement contains a magic number: switch (extId) {  case 1:  	return userInfo.Extcredits1;  case 2:  	return userInfo.Extcredits2;  case 3:  	return userInfo.Extcredits3;  case 4:  	return userInfo.Extcredits4;  case 5:  	return userInfo.Extcredits5;  case 6:  	return userInfo.Extcredits6;  case 7:  	return userInfo.Extcredits7;  case 8:  	return userInfo.Extcredits8;  default:  	return 0;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckRegisterDateDiff,The following statement contains a magic number: if (GeneralConfigs.GetConfig ().Ipregctrl.Trim () != "" && Utils.InIPArray (DNTRequest.GetIP ()' Utils.SplitString (GeneralConfigs.GetConfig ().Ipregctrl' "\n")) && userinfo != null) {  	int Interval = Utils.StrDateDiffHours (userinfo.Joindate' 72);  	if (Interval < 0)  		return "��Ǹ' ϵͳ����������IPע������' �������� " + (Interval * -1) + " Сʱ��ſ���ע��";  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The following statement contains a magic number: if (uid != -1) {  	string Authstr = ForumUtils.CreateAuthStr (20);  	Users.UpdateAuthStr (uid' Authstr' 2);  	StringBuilder body = new StringBuilder (username);  	body.AppendFormat ("����!<br />��������� {0}"' GeneralConfigs.GetConfig ().Forumtitle);  	body.Append (" ���͵�.<br /><br />���յ�����ʼ�'����Ϊ�����ǵ���̳����������ַ���Ǽ�Ϊ�û�����'�Ҹ��û�����ʹ�� Email �������ù�������.");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br />��Ҫ��");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br /><br />�����û���ύ�������õ��������������̳��ע���û�'���������Բ�ɾ������ʼ�.ֻ����ȷ����Ҫ��������������'�ż����Ķ����������.");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br />��������˵��");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br /><br />��ֻ�����ύ����������֮��'ͨ��������������������������:<br /><br />");  	body.AppendFormat ("<a href={0}/setnewpassword.aspx?uid={1}&id={2} target=_blank>{0}"' forumPath' uid' Authstr);  	body.AppendFormat ("/setnewpassword.aspx?uid={0}&id={1}</a>"' uid' Authstr);  	body.Append ("<br /><br />(������治��������ʽ'�뽫��ַ�ֹ�ճ�����������ַ���ٷ���)");  	body.Append ("<br /><br />�����ҳ��򿪺�'�����µ�������ύ'֮��������ʹ���µ������¼��̳��.���������û������������ʱ�޸���������.");  	body.AppendFormat ("<br /><br />�������ύ�ߵ� IP Ϊ {0}<br /><br /><br /><br />"' DNTRequest.GetIP ());  	body.AppendFormat ("<br />���� <br /><br />{0} �����Ŷ�.<br />{1}<br /><br />"' GeneralConfigs.GetConfig ().Forumtitle' forumPath);  	Emails.DiscuzSmtpMailToUser (DNTRequest.GetString ("email")' GeneralConfigs.GetConfig ().Forumtitle + " ȡ������˵��"' body.ToString ());  	return true;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The following statement contains a magic number: if (uid != -1) {  	string Authstr = ForumUtils.CreateAuthStr (20);  	Users.UpdateAuthStr (uid' Authstr' 2);  	StringBuilder body = new StringBuilder (username);  	body.AppendFormat ("����!<br />��������� {0}"' GeneralConfigs.GetConfig ().Forumtitle);  	body.Append (" ���͵�.<br /><br />���յ�����ʼ�'����Ϊ�����ǵ���̳����������ַ���Ǽ�Ϊ�û�����'�Ҹ��û�����ʹ�� Email �������ù�������.");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br />��Ҫ��");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br /><br />�����û���ύ�������õ��������������̳��ע���û�'���������Բ�ɾ������ʼ�.ֻ����ȷ����Ҫ��������������'�ż����Ķ����������.");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br />��������˵��");  	body.Append ("<br /><br />----------------------------------------------------------------------");  	body.Append ("<br /><br />��ֻ�����ύ����������֮��'ͨ��������������������������:<br /><br />");  	body.AppendFormat ("<a href={0}/setnewpassword.aspx?uid={1}&id={2} target=_blank>{0}"' forumPath' uid' Authstr);  	body.AppendFormat ("/setnewpassword.aspx?uid={0}&id={1}</a>"' uid' Authstr);  	body.Append ("<br /><br />(������治��������ʽ'�뽫��ַ�ֹ�ճ�����������ַ���ٷ���)");  	body.Append ("<br /><br />�����ҳ��򿪺�'�����µ�������ύ'֮��������ʹ���µ������¼��̳��.���������û������������ʱ�޸���������.");  	body.AppendFormat ("<br /><br />�������ύ�ߵ� IP Ϊ {0}<br /><br /><br /><br />"' DNTRequest.GetIP ());  	body.AppendFormat ("<br />���� <br /><br />{0} �����Ŷ�.<br />{1}<br /><br />"' GeneralConfigs.GetConfig ().Forumtitle' forumPath);  	Emails.DiscuzSmtpMailToUser (DNTRequest.GetString ("email")' GeneralConfigs.GetConfig ().Forumtitle + " ȡ������˵��"' body.ToString ());  	return true;  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckEmailAndSecques,The following statement contains a magic number: Users.UpdateAuthStr (uid' Authstr' 2);  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (userInfo != null) {  	if (questionid != -1 && !Utils.StrIsNullOrEmpty (answer) && userInfo.Secques.Trim () != ForumUtils.GetUserSecques (questionid' answer))  		return -1;  	string pw = userInfo.Password.Trim ();  	if (pw.Length > 16 && Utils.MD5 (password) == pw) {  		uid = userInfo.Uid;  	}  	else if (Utils.MD5 (password).Substring (8' 16) == pw) {  		uid = userInfo.Uid;  		UpdateUserPassword (uid' password' true);  	}  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (userInfo != null) {  	if (questionid != -1 && !Utils.StrIsNullOrEmpty (answer) && userInfo.Secques.Trim () != ForumUtils.GetUserSecques (questionid' answer))  		return -1;  	string pw = userInfo.Password.Trim ();  	if (pw.Length > 16 && Utils.MD5 (password) == pw) {  		uid = userInfo.Uid;  	}  	else if (Utils.MD5 (password).Substring (8' 16) == pw) {  		uid = userInfo.Uid;  		UpdateUserPassword (uid' password' true);  	}  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (userInfo != null) {  	if (questionid != -1 && !Utils.StrIsNullOrEmpty (answer) && userInfo.Secques.Trim () != ForumUtils.GetUserSecques (questionid' answer))  		return -1;  	string pw = userInfo.Password.Trim ();  	if (pw.Length > 16 && Utils.MD5 (password) == pw) {  		uid = userInfo.Uid;  	}  	else if (Utils.MD5 (password).Substring (8' 16) == pw) {  		uid = userInfo.Uid;  		UpdateUserPassword (uid' password' true);  	}  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (pw.Length > 16 && Utils.MD5 (password) == pw) {  	uid = userInfo.Uid;  }  else if (Utils.MD5 (password).Substring (8' 16) == pw) {  	uid = userInfo.Uid;  	UpdateUserPassword (uid' password' true);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (pw.Length > 16 && Utils.MD5 (password) == pw) {  	uid = userInfo.Uid;  }  else if (Utils.MD5 (password).Substring (8' 16) == pw) {  	uid = userInfo.Uid;  	UpdateUserPassword (uid' password' true);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (pw.Length > 16 && Utils.MD5 (password) == pw) {  	uid = userInfo.Uid;  }  else if (Utils.MD5 (password).Substring (8' 16) == pw) {  	uid = userInfo.Uid;  	UpdateUserPassword (uid' password' true);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (Utils.MD5 (password).Substring (8' 16) == pw) {  	uid = userInfo.Uid;  	UpdateUserPassword (uid' password' true);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckDvBbsPasswordAndSecques,The following statement contains a magic number: if (Utils.MD5 (password).Substring (8' 16) == pw) {  	uid = userInfo.Uid;  	UpdateUserPassword (uid' password' true);  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPassword,The following statement contains a magic number: groupid = 7;  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,CheckPassword,The following statement contains a magic number: groupid = 7;  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,UpdateBanUser,The following statement contains a magic number: if (groupid == 4)  	noticeinfo.Type = NoticeType.BanPostNotice;  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,UpdateBanUser,The following statement contains a magic number: if (groupid == 5)  	noticeinfo.Type = NoticeType.BanVisitNotice;  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetUserExtCreditsByUserid,The following statement contains a magic number: if (extnumber > 0 && extnumber <= 8)  	return Discuz.Data.Users.GetUserExtCreditsByUserid (uid' extnumber);  else  	return 0;  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,ClearUsersAuthstrByUncheckedUserGroup,The following statement contains a magic number: ClearUsersAuthstr (GetUidListByUserGroupId (8));  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,DeleteAuditUser,The following statement contains a magic number: DeleteUsers (GetUidListByUserGroupId (8));  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetSearchUserList,The following statement contains a magic number: while (idr.Read ()) {  	//���ҳ��Ӳ˵����е���ز˵�  	isexist = true;  	if (count >= 3) {  		count = 0;  		sb.Append ("</tr><tr>");  	}  	count++;  	sb.Append ("<td width=\"33%\" style=\"align:left\"><a href=\"#\" onclick=\"javascript:resetindexmenu('7'''3'''7'8'''global/global_edituser.aspx?uid=" + idr ["uid"] + "');\">" + idr ["username"] + "</a></td>");  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,GetSearchUserList,The following statement contains a magic number: if (count >= 3) {  	count = 0;  	sb.Append ("</tr><tr>");  }  
Magic Number,Discuz.Forum,Users,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Users.cs,SendEmailForUncheckedUserGroup,The following statement contains a magic number: foreach (DataRow dr in Users.GetUserListByGroupid (8).Rows) {  	Emails.DiscuzSmtpMail (dr ["username"].ToString ().Trim ()' dr ["email"].ToString ().Trim ()' dr ["password"].ToString ().Trim ());  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GetUserGroupInfo,The following statement contains a magic number: if (info != null) {  	return info;  }  else {  	// ������Ҳ�����Ϊ�ο�  	return userGroupInfoList.Find (delegate (UserGroupInfo i) {  		return i.Groupid == 7;  	});  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GetUserGroupInfo,The following statement contains a magic number: return userGroupInfoList.Find (delegate (UserGroupInfo i) {  	return i.Groupid == 7;  });  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GetUserGroupInfo,The following statement contains a magic number: return i.Groupid == 7;  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: for (int rowcount = 0; rowcount < 8; rowcount++) {  	DataRow dr = templateDT.NewRow ();  	dr ["id"] = rowcount + 1;  	dr ["available"] = false;  	dr ["ScoreCode"] = rowcount + 1;  	dr ["ScoreName"] = "";  	dr ["Min"] = "";  	dr ["Max"] = "";  	dr ["MaxInDay"] = "";  	templateDT.Rows.Add (dr);  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: for (int count = 0; count < 8; count++) {  	if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  		templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: for (int count = 0; count < 8; count++) {  	if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  		templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: for (int count = 0; count < 8; count++) {  	if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  		templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: for (int count = 0; count < 8; count++) {  	if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  		templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  	templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  	templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: if ((!Utils.StrIsNullOrEmpty (scoresetname [count + 2].ToString ())) && (scoresetname [count + 2].ToString ().Trim () != "0"))  	templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,CreateGroupScoreTable,The following statement contains a magic number: templateDT.Rows [count] ["ScoreName"] = scoresetname [count + 2].ToString ().Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: foreach (string raterangestr in dt.Rows [0] [0].ToString ().Trim ().Split ('|')) {  	if (raterangestr.Trim () != "") {  		string[] scoredata = raterangestr.Split (''');  		//�ж��Ƿ��������ֶε������ж�  		if (scoredata [1].Trim () == "True")  			templateDT.Rows [i] ["available"] = true;  		//���������ֶ�  		templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  		templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  		templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  	}  	i++;  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: foreach (string raterangestr in dt.Rows [0] [0].ToString ().Trim ().Split ('|')) {  	if (raterangestr.Trim () != "") {  		string[] scoredata = raterangestr.Split (''');  		//�ж��Ƿ��������ֶε������ж�  		if (scoredata [1].Trim () == "True")  			templateDT.Rows [i] ["available"] = true;  		//���������ֶ�  		templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  		templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  		templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  	}  	i++;  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: foreach (string raterangestr in dt.Rows [0] [0].ToString ().Trim ().Split ('|')) {  	if (raterangestr.Trim () != "") {  		string[] scoredata = raterangestr.Split (''');  		//�ж��Ƿ��������ֶε������ж�  		if (scoredata [1].Trim () == "True")  			templateDT.Rows [i] ["available"] = true;  		//���������ֶ�  		templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  		templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  		templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  	}  	i++;  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: if (raterangestr.Trim () != "") {  	string[] scoredata = raterangestr.Split (''');  	//�ж��Ƿ��������ֶε������ж�  	if (scoredata [1].Trim () == "True")  		templateDT.Rows [i] ["available"] = true;  	//���������ֶ�  	templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  	templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  	templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: if (raterangestr.Trim () != "") {  	string[] scoredata = raterangestr.Split (''');  	//�ж��Ƿ��������ֶε������ж�  	if (scoredata [1].Trim () == "True")  		templateDT.Rows [i] ["available"] = true;  	//���������ֶ�  	templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  	templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  	templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: if (raterangestr.Trim () != "") {  	string[] scoredata = raterangestr.Split (''');  	//�ж��Ƿ��������ֶε������ж�  	if (scoredata [1].Trim () == "True")  		templateDT.Rows [i] ["available"] = true;  	//���������ֶ�  	templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  	templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  	templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: templateDT.Rows [i] ["Min"] = scoredata [4].Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: templateDT.Rows [i] ["Max"] = scoredata [5].Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: templateDT.Rows [i] ["MaxInDay"] = scoredata [6].Trim ();  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: if (dt != null) {  	extcredits = Discuz.Data.UserGroups.GroupParticipateScore (uid);  	int max = 0;  	int min = 0;  	int maxInDay = 0;  	int maxSelect = 0;  	DataRow dr = null;  	for (int count = dt.Rows.Count - 1; count >= 0; count--) {  		dr = dt.Rows [count];  		max = TypeConverter.ObjectToInt (dr ["Max"]);  		min = TypeConverter.ObjectToInt (dr ["Min"]);  		maxInDay = TypeConverter.ObjectToInt (dr ["MaxInDay"]);  		maxInDay = maxInDay - extcredits [TypeConverter.ObjectToInt (dr ["ScoreCode"])];  		dr ["MaxInDay"] = maxInDay;  		maxSelect = max > maxInDay ? maxInDay : max;  		if (!Convert.ToBoolean (dr ["available"]) || maxInDay <= 0) {  			dr.Delete ();  			continue;  		}  		offset = TypeConverter.ObjectToInt (Math.Abs (Math.Ceiling ((maxSelect - min) / 10.0)));  		offset = offset <= 0 ? 1 : offset;  		sb.Remove (0' sb.Length);  		for (int i = maxSelect; i >= TypeConverter.ObjectToFloat (dr ["Min"]); i -= offset) {  			if (i == 0)  				continue;  			if (Math.Abs (i) <= maxInDay)  				sb.AppendFormat ("\n<li>{0}{1}</li>"' i > 0 ? "+" : ""' i);  		}  		dr ["Options"] = sb.ToString ();  	}  	dt.AcceptChanges ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: for (int count = dt.Rows.Count - 1; count >= 0; count--) {  	dr = dt.Rows [count];  	max = TypeConverter.ObjectToInt (dr ["Max"]);  	min = TypeConverter.ObjectToInt (dr ["Min"]);  	maxInDay = TypeConverter.ObjectToInt (dr ["MaxInDay"]);  	maxInDay = maxInDay - extcredits [TypeConverter.ObjectToInt (dr ["ScoreCode"])];  	dr ["MaxInDay"] = maxInDay;  	maxSelect = max > maxInDay ? maxInDay : max;  	if (!Convert.ToBoolean (dr ["available"]) || maxInDay <= 0) {  		dr.Delete ();  		continue;  	}  	offset = TypeConverter.ObjectToInt (Math.Abs (Math.Ceiling ((maxSelect - min) / 10.0)));  	offset = offset <= 0 ? 1 : offset;  	sb.Remove (0' sb.Length);  	for (int i = maxSelect; i >= TypeConverter.ObjectToFloat (dr ["Min"]); i -= offset) {  		if (i == 0)  			continue;  		if (Math.Abs (i) <= maxInDay)  			sb.AppendFormat ("\n<li>{0}{1}</li>"' i > 0 ? "+" : ""' i);  	}  	dr ["Options"] = sb.ToString ();  }  
Magic Number,Discuz.Forum,UserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\UserGroups.cs,GroupParticipateScore,The following statement contains a magic number: offset = TypeConverter.ObjectToInt (Math.Abs (Math.Ceiling ((maxSelect - min) / 10.0)));  
Missing Default,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,The following switch statement is missing a default case: switch (avatarSize) {  case AvatarSize.Large:  	size = "large";  	break;  case AvatarSize.Medium:  	size = "medium";  	break;  case AvatarSize.Small:  	size = "small";  	break;  }  
Missing Default,Discuz.Forum,Avatars,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Avatars.cs,GetAvatarUrl,The following switch statement is missing a default case: switch (avatarSize) {  case AvatarSize.Large:  	size = "large";  	break;  case AvatarSize.Medium:  	size = "medium";  	break;  case AvatarSize.Small:  	size = "small";  	break;  }  
Missing Default,Discuz.Forum,SoftInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminCatchForumInfo.cs,SendPostData,The following switch statement is missing a default case: switch (Discuz.Config.BaseConfigs.GetDbType.ToLower ()) {  case "sqlserver": {  	dbtype = 0;  	break;  }  case "access": {  	dbtype = 101;  	break;  }  case "mysql": {  	dbtype = 201;  	break;  }  }  
Missing Default,Discuz.Forum,AdminUserGroups,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Admin\AdminUserGroups.cs,SystemCheckCredits,The following switch statement is missing a default case: switch (opname.ToLower ()) {  case "add": {  	#region  	DataTable dt = Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ��Сֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower)  			return false;  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					UserGroupInfo userGroupInfo = UserGroups.GetUserGroupInfo (currentGroupID);  					userGroupInfo.Creditslower = creditsLower;  					UserGroups.UpdateUserGroup (userGroupInfo);  					break;  				}  				else {  					opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  					return false;  				}  			}  			else {  				creditsLower = currentCreditsLower;  				//���µ�ǰ��ѯ������'Ҳ����Ҫ��ӵ���Ļ�������λ�ڵ�ǰ��ѯ��Ļ���������֮��  				Discuz.Data.UserGroups.UpdateUserGroupCreidtsLower (currentCreditsHigher' creditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  }  case "delete": {  	if (Discuz.Data.UserGroups.GetGroupCountByCreditsLower (creditsHigher) > 0)  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsLower' creditsHigher);  	else  		Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsHigher' creditsLower);  	break;  }  case "update": {  	#region  	UserGroupInfo oldInfo = UserGroups.GetUserGroupInfo (groupid);  	int currentGroupOldCreatesHigher = oldInfo.Creditshigher;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	int currentGroupOldCreatesLower = oldInfo.Creditslower;  	//Ҫ���µĵ�ǰ�û�����ϵ����޻���  	DataTable dt = Discuz.Data.UserGroups.GetMinCreditHigher ();  	if (dt.Rows.Count > 0) {  		int systemMiniCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsLower <= systemMiniCredits)//��ϵͳ��С���������黹���ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsLower = systemMiniCredits;  			opresult = "����������Ļ�������С�ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMiniCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (currentGroupOldCreatesHigher' currentGroupOldCreatesLower);  			break;  		}  	}  	dt = Data.UserGroups.GetMaxCreditLower ();  	if (dt.Rows.Count > 0) {  		int systemMaxCredits = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		if (creditsHigher >= systemMaxCredits)//��ϵͳ�����������黹С�ڵ��ڵ�ǰ��ӵĻ����������ʱ  		 {  			creditsHigher = systemMaxCredits;  			opresult = "����������Ļ������޴��ڻ����ϵͳ���ֵ'���ϵͳ�ѽ������Ϊ" + systemMaxCredits;  			Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (currentGroupOldCreatesLower' currentGroupOldCreatesHigher);  			break;  		}  	}  	dt = Discuz.Data.UserGroups.GetUserGroupByCreditshigher (creditsHigher);  	if (dt.Rows.Count > 0) {  		int currentGroupID = Convert.ToInt32 (dt.Rows [0] [0].ToString ());  		int currentCreditsHigher = Convert.ToInt32 (dt.Rows [0] [1].ToString ());  		int currentCreditsLower = Convert.ToInt32 (dt.Rows [0] [2].ToString ());  		if (creditsLower > currentCreditsLower) {  			opresult = "����������Ļ������޴��ڻ����������Ч�������޵����ֵ" + currentCreditsLower + "'���ϵͳ��Ч�ύ��������!";  			return false;  		}  		else {  			if (creditsHigher == currentCreditsHigher) {  				if (creditsLower < currentCreditsLower) {  					//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  					Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  					break;  				}  			}  			else {  				opresult = "ϵͳ���Զ������ύ�Ļ������޵���Ϊ" + currentCreditsLower;  				//�����Ե�ǰ�ϵĻ�������Ϊ���޵��û��������ֵΪ�ϵĻ�������  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsHigherByCreditsHigher (creditsLower' currentCreditsLower);  				Discuz.Data.UserGroups.UpdateUserGroupsCreditsLowerByCreditsLower (creditsHigher' currentCreditsHigher);  				break;  			}  		}  	}  	else {  		opresult = "ϵͳδ�ᵽ���ʵ�λ�ñ������ύ����Ϣ!";  		return false;  	}  	#endregion  	break;  }  }  
Missing Default,Discuz.Forum,Debates,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Debates.cs,DeleteDebatePost,The following switch statement is missing a default case: switch (opinion) {  case 1:  	Discuz.Data.Debates.DeleteDebatePost (tid' "positivediggs"' pid);  	break;  case 2:  	Discuz.Data.Debates.DeleteDebatePost (tid' "negativediggs"' pid);  	break;  }  
Missing Default,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignPic,The following switch statement is missing a default case: switch (watermarkStatus) {  case 1:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)(img.Height * (float).01);  	break;  case 2:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)(img.Height * (float).01);  	break;  case 3:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)(img.Height * (float).01);  	break;  case 4:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 5:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 6:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).50) - (watermark.Height / 2));  	break;  case 7:  	xpos = (int)(img.Width * (float).01);  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 8:  	xpos = (int)((img.Width * (float).50) - (watermark.Width / 2));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  case 9:  	xpos = (int)((img.Width * (float).99) - (watermark.Width));  	ypos = (int)((img.Height * (float).99) - watermark.Height);  	break;  }  
Missing Default,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,AddImageSignText,The following switch statement is missing a default case: switch (watermarkStatus) {  case 1:  	xpos = (float)img.Width * (float).01;  	ypos = (float)img.Height * (float).01;  	break;  case 2:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = (float)img.Height * (float).01;  	break;  case 3:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = (float)img.Height * (float).01;  	break;  case 4:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 5:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 6:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).50) - (crSize.Height / 2);  	break;  case 7:  	xpos = (float)img.Width * (float).01;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 8:  	xpos = ((float)img.Width * (float).50) - (crSize.Width / 2);  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  case 9:  	xpos = ((float)img.Width * (float).99) - crSize.Width;  	ypos = ((float)img.Height * (float).99) - crSize.Height;  	break;  }  
Missing Default,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,GetContentType,The following switch statement is missing a default case: switch (fileextname) {  #region �����ļ�����  case "jpeg":  	return "image/jpeg";  case "jpg":  	return "image/jpeg";  case "js":  	return "application/x-javascript";  case "jsp":  	return "text/html";  case "gif":  	return "image/gif";  case "htm":  	return "text/html";  case "html":  	return "text/html";  case "asf":  	return "video/x-ms-asf";  case "avi":  	return "video/avi";  case "bmp":  	return "application/x-bmp";  case "asp":  	return "text/asp";  case "wma":  	return "audio/x-ms-wma";  case "wav":  	return "audio/wav";  case "wmv":  	return "video/x-ms-wmv";  case "ra":  	return "audio/vnd.rn-realaudio";  case "ram":  	return "audio/x-pn-realaudio";  case "rm":  	return "application/vnd.rn-realmedia";  case "rmvb":  	return "application/vnd.rn-realmedia-vbr";  case "xhtml":  	return "text/html";  case "png":  	return "image/png";  case "ppt":  	return "application/x-ppt";  case "tif":  	return "image/tiff";  case "tiff":  	return "image/tiff";  case "xls":  	return "application/x-xls";  case "xlw":  	return "application/x-xlw";  case "xml":  	return "text/xml";  case "xpl":  	return "audio/scpls";  case "swf":  	return "application/x-shockwave-flash";  case "torrent":  	return "application/x-bittorrent";  case "dll":  	return "application/x-msdownload";  case "asa":  	return "text/asa";  case "asx":  	return "video/x-ms-asf";  case "au":  	return "audio/basic";  case "css":  	return "text/css";  case "doc":  	return "application/msword";  case "exe":  	return "application/x-msdownload";  case "mp1":  	return "audio/mp1";  case "mp2":  	return "audio/mp2";  case "mp2v":  	return "video/mpeg";  case "mp3":  	return "audio/mp3";  case "mp4":  	return "video/mpeg4";  case "mpa":  	return "video/x-mpg";  case "mpd":  	return "application/vnd.ms-project";  case "mpe":  	return "video/x-mpeg";  case "mpeg":  	return "video/mpg";  case "mpg":  	return "video/mpg";  case "mpga":  	return "audio/rn-mpeg";  case "mpp":  	return "application/vnd.ms-project";  case "mps":  	return "video/x-mpeg";  case "mpt":  	return "application/vnd.ms-project";  case "mpv":  	return "video/mpg";  case "mpv2":  	return "video/mpeg";  case "wml":  	return "text/vnd.wap.wml";  case "wsdl":  	return "text/xml";  case "xsd":  	return "text/xml";  case "xsl":  	return "text/xml";  case "xslt":  	return "text/xml";  case "htc":  	return "text/x-component";  case "mdb":  	return "application/msaccess";  case "zip":  	return "application/zip";  case "rar":  	return "application/x-rar-compressed";  #endregion  case "*":  	return "application/octet-stream";  case "001":  	return "application/x-001";  case "301":  	return "application/x-301";  case "323":  	return "text/h323";  case "906":  	return "application/x-906";  case "907":  	return "drawing/907";  case "a11":  	return "application/x-a11";  case "acp":  	return "audio/x-mei-aac";  case "ai":  	return "application/postscript";  case "aif":  	return "audio/aiff";  case "aifc":  	return "audio/aiff";  case "aiff":  	return "audio/aiff";  case "anv":  	return "application/x-anv";  case "awf":  	return "application/vnd.adobe.workflow";  case "biz":  	return "text/xml";  case "bot":  	return "application/x-bot";  case "c4t":  	return "application/x-c4t";  case "c90":  	return "application/x-c90";  case "cal":  	return "application/x-cals";  case "cat":  	return "application/vnd.ms-pki.seccat";  case "cdf":  	return "application/x-netcdf";  case "cdr":  	return "application/x-cdr";  case "cel":  	return "application/x-cel";  case "cer":  	return "application/x-x509-ca-cert";  case "cg4":  	return "application/x-g4";  case "cgm":  	return "application/x-cgm";  case "cit":  	return "application/x-cit";  case "class":  	return "java/*";  case "cml":  	return "text/xml";  case "cmp":  	return "application/x-cmp";  case "cmx":  	return "application/x-cmx";  case "cot":  	return "application/x-cot";  case "crl":  	return "application/pkix-crl";  case "crt":  	return "application/x-x509-ca-cert";  case "csi":  	return "application/x-csi";  case "cut":  	return "application/x-cut";  case "dbf":  	return "application/x-dbf";  case "dbm":  	return "application/x-dbm";  case "dbx":  	return "application/x-dbx";  case "dcd":  	return "text/xml";  case "dcx":  	return "application/x-dcx";  case "der":  	return "application/x-x509-ca-cert";  case "dgn":  	return "application/x-dgn";  case "dib":  	return "application/x-dib";  case "dot":  	return "application/msword";  case "drw":  	return "application/x-drw";  case "dtd":  	return "text/xml";  case "dwf":  	return "application/x-dwf";  case "dwg":  	return "application/x-dwg";  case "dxb":  	return "application/x-dxb";  case "dxf":  	return "application/x-dxf";  case "edn":  	return "application/vnd.adobe.edn";  case "emf":  	return "application/x-emf";  case "eml":  	return "message/rfc822";  case "ent":  	return "text/xml";  case "epi":  	return "application/x-epi";  case "eps":  	return "application/x-ps";  case "etd":  	return "application/x-ebx";  case "fax":  	return "image/fax";  case "fdf":  	return "application/vnd.fdf";  case "fif":  	return "application/fractals";  case "fo":  	return "text/xml";  case "frm":  	return "application/x-frm";  case "g4":  	return "application/x-g4";  case "gbr":  	return "application/x-gbr";  case "gcd":  	return "application/x-gcd";  case "gl2":  	return "application/x-gl2";  case "gp4":  	return "application/x-gp4";  case "hgl":  	return "application/x-hgl";  case "hmr":  	return "application/x-hmr";  case "hpg":  	return "application/x-hpgl";  case "hpl":  	return "application/x-hpl";  case "hqx":  	return "application/mac-binhex40";  case "hrf":  	return "application/x-hrf";  case "hta":  	return "application/hta";  case "htt":  	return "text/webviewhtml";  case "htx":  	return "text/html";  case "icb":  	return "application/x-icb";  case "ico":  	return "application/x-ico";  case "iff":  	return "application/x-iff";  case "ig4":  	return "application/x-g4";  case "igs":  	return "application/x-igs";  case "iii":  	return "application/x-iphone";  case "img":  	return "application/x-img";  case "ins":  	return "application/x-internet-signup";  case "isp":  	return "application/x-internet-signup";  case "IVF":  	return "video/x-ivf";  case "java":  	return "java/*";  case "jfif":  	return "image/jpeg";  case "jpe":  	return "application/x-jpe";  case "la1":  	return "audio/x-liquid-file";  case "lar":  	return "application/x-laplayer-reg";  case "latex":  	return "application/x-latex";  case "lavs":  	return "audio/x-liquid-secure";  case "lbm":  	return "application/x-lbm";  case "lmsff":  	return "audio/x-la-lms";  case "ls":  	return "application/x-javascript";  case "ltr":  	return "application/x-ltr";  case "m1v":  	return "video/x-mpeg";  case "m2v":  	return "video/x-mpeg";  case "m3u":  	return "audio/mpegurl";  case "m4e":  	return "video/mpeg4";  case "mac":  	return "application/x-mac";  case "man":  	return "application/x-troff-man";  case "math":  	return "text/xml";  case "mfp":  	return "application/x-shockwave-flash";  case "mht":  	return "message/rfc822";  case "mhtml":  	return "message/rfc822";  case "mi":  	return "application/x-mi";  case "mid":  	return "audio/mid";  case "midi":  	return "audio/mid";  case "mil":  	return "application/x-mil";  case "mml":  	return "text/xml";  case "mnd":  	return "audio/x-musicnet-download";  case "mns":  	return "audio/x-musicnet-stream";  case "mocha":  	return "application/x-javascript";  case "movie":  	return "video/x-sgi-movie";  case "mpw":  	return "application/vnd.ms-project";  case "mpx":  	return "application/vnd.ms-project";  case "mtx":  	return "text/xml";  case "mxp":  	return "application/x-mmxp";  case "net":  	return "image/pnetvue";  case "nrf":  	return "application/x-nrf";  case "nws":  	return "message/rfc822";  case "odc":  	return "text/x-ms-odc";  case "out":  	return "application/x-out";  case "p10":  	return "application/pkcs10";  case "p12":  	return "application/x-pkcs12";  case "p7b":  	return "application/x-pkcs7-certificates";  case "p7c":  	return "application/pkcs7-mime";  case "p7m":  	return "application/pkcs7-mime";  case "p7r":  	return "application/x-pkcs7-certreqresp";  case "p7s":  	return "application/pkcs7-signature";  case "pc5":  	return "application/x-pc5";  case "pci":  	return "application/x-pci";  case "pcl":  	return "application/x-pcl";  case "pcx":  	return "application/x-pcx";  case "pdf":  	return "application/pdf";  case "pdx":  	return "application/vnd.adobe.pdx";  case "pfx":  	return "application/x-pkcs12";  case "pgl":  	return "application/x-pgl";  case "pic":  	return "application/x-pic";  case "pko":  	return "application/vnd.ms-pki.pko";  case "pl":  	return "application/x-perl";  case "plg":  	return "text/html";  case "pls":  	return "audio/scpls";  case "plt":  	return "application/x-plt";  case "pot":  	return "application/vnd.ms-powerpoint";  case "ppa":  	return "application/vnd.ms-powerpoint";  case "ppm":  	return "application/x-ppm";  case "pps":  	return "application/vnd.ms-powerpoint";  case "pr":  	return "application/x-pr";  case "prf":  	return "application/pics-rules";  case "prn":  	return "application/x-prn";  case "prt":  	return "application/x-prt";  case "ps":  	return "application/x-ps";  case "ptn":  	return "application/x-ptn";  case "pwz":  	return "application/vnd.ms-powerpoint";  case "r3t":  	return "text/vnd.rn-realtext3d";  case "ras":  	return "application/x-ras";  case "rat":  	return "application/rat-file";  case "rdf":  	return "text/xml";  case "rec":  	return "application/vnd.rn-recording";  case "red":  	return "application/x-red";  case "rgb":  	return "application/x-rgb";  case "rjs":  	return "application/vnd.rn-realsystem-rjs";  case "rjt":  	return "application/vnd.rn-realsystem-rjt";  case "rlc":  	return "application/x-rlc";  case "rle":  	return "application/x-rle";  case "rmf":  	return "application/vnd.adobe.rmf";  case "rmi":  	return "audio/mid";  case "rmj":  	return "application/vnd.rn-realsystem-rmj";  case "rmm":  	return "audio/x-pn-realaudio";  case "rmp":  	return "application/vnd.rn-rn_music_package";  case "rms":  	return "application/vnd.rn-realmedia-secure";  case "rmx":  	return "application/vnd.rn-realsystem-rmx";  case "rnx":  	return "application/vnd.rn-realplayer";  case "rp":  	return "image/vnd.rn-realpix";  case "rpm":  	return "audio/x-pn-realaudio-plugin";  case "rsml":  	return "application/vnd.rn-rsml";  case "rt":  	return "text/vnd.rn-realtext";  case "rtf":  	return "application/msword";  case "rv":  	return "video/vnd.rn-realvideo";  case "sam":  	return "application/x-sam";  case "sat":  	return "application/x-sat";  case "sdp":  	return "application/sdp";  case "sdw":  	return "application/x-sdw";  case "sit":  	return "application/x-stuffit";  case "slb":  	return "application/x-slb";  case "sld":  	return "application/x-sld";  case "slk":  	return "drawing/x-slk";  case "smi":  	return "application/smil";  case "smil":  	return "application/smil";  case "smk":  	return "application/x-smk";  case "snd":  	return "audio/basic";  case "sol":  	return "text/plain";  case "sor":  	return "text/plain";  case "spc":  	return "application/x-pkcs7-certificates";  case "spl":  	return "application/futuresplash";  case "spp":  	return "text/xml";  case "ssm":  	return "application/streamingmedia";  case "sst":  	return "application/vnd.ms-pki.certstore";  case "stl":  	return "application/vnd.ms-pki.stl";  case "stm":  	return "text/html";  case "sty":  	return "application/x-sty";  case "svg":  	return "text/xml";  case "tdf":  	return "application/x-tdf";  case "tg4":  	return "application/x-tg4";  case "tga":  	return "application/x-tga";  case "tld":  	return "text/xml";  case "top":  	return "drawing/x-top";  case "tsd":  	return "text/xml";  case "txt":  	return "text/plain";  case "uin":  	return "application/x-icq";  case "uls":  	return "text/iuls";  case "vcf":  	return "text/x-vcard";  case "vda":  	return "application/x-vda";  case "vdx":  	return "application/vnd.visio";  case "vml":  	return "text/xml";  case "vpg":  	return "application/x-vpeg005";  case "vsd":  	return "application/vnd.visio";  case "vss":  	return "application/vnd.visio";  case "vst":  	return "application/vnd.visio";  case "vsw":  	return "application/vnd.visio";  case "vsx":  	return "application/vnd.visio";  case "vtx":  	return "application/vnd.visio";  case "vxml":  	return "text/xml";  case "wax":  	return "audio/x-ms-wax";  case "wb1":  	return "application/x-wb1";  case "wb2":  	return "application/x-wb2";  case "wb3":  	return "application/x-wb3";  case "wbmp":  	return "image/vnd.wap.wbmp";  case "wiz":  	return "application/msword";  case "wk3":  	return "application/x-wk3";  case "wk4":  	return "application/x-wk4";  case "wkq":  	return "application/x-wkq";  case "wks":  	return "application/x-wks";  case "wm":  	return "video/x-ms-wm";  case "wmd":  	return "application/x-ms-wmd";  case "wmf":  	return "application/x-wmf";  case "wmx":  	return "video/x-ms-wmx";  case "wmz":  	return "application/x-ms-wmz";  case "wp6":  	return "application/x-wp6";  case "wpd":  	return "application/x-wpd";  case "wpg":  	return "application/x-wpg";  case "wpl":  	return "application/vnd.ms-wpl";  case "wq1":  	return "application/x-wq1";  case "wr1":  	return "application/x-wr1";  case "wri":  	return "application/x-wri";  case "wrk":  	return "application/x-wrk";  case "ws":  	return "application/x-ws";  case "ws2":  	return "application/x-ws";  case "wsc":  	return "text/scriptlet";  case "wvx":  	return "video/x-ms-wvx";  case "xdp":  	return "application/vnd.adobe.xdp";  case "xdr":  	return "text/xml";  case "xfd":  	return "application/vnd.adobe.xfd";  case "xfdf":  	return "application/vnd.adobe.xfdf";  case "xq":  	return "text/xml";  case "xql":  	return "text/xml";  case "xquery":  	return "text/xml";  case "xwd":  	return "application/x-xwd";  case "x_b":  	return "application/x-x_b";  case "x_t":  	return "application/x-x_t";  }  
Missing Default,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,DateDiff,The following switch statement is missing a default case: switch (Interval) {  case "second":  	lngDateDiffValue = (long)TS.TotalSeconds;  	break;  case "minute":  	lngDateDiffValue = (long)TS.TotalMinutes;  	break;  case "hour":  	lngDateDiffValue = (long)TS.TotalHours;  	break;  case "day":  	lngDateDiffValue = (long)TS.Days;  	break;  case "week":  	lngDateDiffValue = (long)(TS.Days / 7);  	break;  case "month":  	lngDateDiffValue = (long)(TS.Days / 30);  	break;  case "quarter":  	lngDateDiffValue = (long)((TS.Days / 30) / 3);  	break;  case "year":  	lngDateDiffValue = (long)(TS.Days / 365);  	break;  }  
Missing Default,Discuz.Forum,ForumUtils,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\ForumUtils.cs,WriteUserCreditsCookie,The following switch statement is missing a default case: switch ("Extcredits" + i) {  case "Extcredits1":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits1 + scoreUnit [1] + "'";  	break;  case "Extcredits2":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits2 + scoreUnit [2] + "'";  	break;  case "Extcredits3":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits3 + scoreUnit [3] + "'";  	break;  case "Extcredits4":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits4 + scoreUnit [4] + "'";  	break;  case "Extcredits5":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits5 + scoreUnit [5] + "'";  	break;  case "Extcredits6":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits6 + scoreUnit [6] + "'";  	break;  case "Extcredits7":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits7 + scoreUnit [7] + "'";  	break;  case "Extcredits8":  	scoreInfo += validScoreName [i] + ": " + userInfo.Extcredits8 + scoreUnit [8] + "'";  	break;  }  
Missing Default,Discuz.Forum,FTPs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\FTPs.cs,UpLoadFile,The following switch statement is missing a default case: switch (ftpuploadname) {  //论坛附件  case FTPUploadEnum.ForumAttach: {  	ftpupload = new FTP (GetForumAttachInfo.Serveraddress' GetForumAttachInfo.Serverport' GetForumAttachInfo.Username' GetForumAttachInfo.Password' 1' GetForumAttachInfo.Timeout);  	path = GetForumAttachInfo.Uploadpath + path;  	delfile = (GetForumAttachInfo.Reservelocalattach == 1) ? false : true;  	break;  }  //空间附件  case FTPUploadEnum.SpaceAttach: {  	ftpupload = new FTP (GetSpaceAttachInfo.Serveraddress' GetSpaceAttachInfo.Serverport' GetSpaceAttachInfo.Username' GetSpaceAttachInfo.Password' 1' GetSpaceAttachInfo.Timeout);  	path = GetSpaceAttachInfo.Uploadpath + path;  	delfile = (GetSpaceAttachInfo.Reservelocalattach == 1) ? false : true;  	break;  }  //相册附件  case FTPUploadEnum.AlbumAttach: {  	ftpupload = new FTP (GetAlbumAttachInfo.Serveraddress' GetAlbumAttachInfo.Serverport' GetAlbumAttachInfo.Username' GetAlbumAttachInfo.Password' 1' GetAlbumAttachInfo.Timeout);  	path = GetAlbumAttachInfo.Uploadpath + path;  	delfile = (GetAlbumAttachInfo.Reservelocalattach == 1) ? false : true;  	break;  }  //商城附件  case FTPUploadEnum.MallAttach: {  	ftpupload = new FTP (GetMallAttachInfo.Serveraddress' GetMallAttachInfo.Serverport' GetMallAttachInfo.Username' GetMallAttachInfo.Password' 1' GetMallAttachInfo.Timeout);  	path = GetMallAttachInfo.Uploadpath + path;  	delfile = (GetMallAttachInfo.Reservelocalattach == 1) ? false : true;  	break;  }  //论坛头像  case FTPUploadEnum.ForumAvatar: {  	ftpupload = new FTP (GetForumAvatarInfo.Serveraddress' GetForumAvatarInfo.Serverport' GetForumAvatarInfo.Username' GetForumAvatarInfo.Password' 1' GetForumAvatarInfo.Timeout);  	path = GetForumAvatarInfo.Uploadpath + path;  	delfile = (GetForumAvatarInfo.Reservelocalattach == 1) ? false : true;  	break;  }  }  
Missing Default,Discuz.Forum,Navs,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Navs.cs,GetNavigationString,The following switch statement is missing a default case: switch (Utils.StrToInt (dr ["level"].ToString ()' 4)) {  case 0:  	mainNavList.Add (nav);  	break;  case 1: {  	if (userid != -1)  		mainNavList.Add (nav);  	break;  }  case 2: {  	if (useradminid == 3 || useradminid == 1 || useradminid == 2)  		mainNavList.Add (nav);  	break;  }  case 3: {  	if (useradminid == 1)  		mainNavList.Add (nav);  	break;  }  }  
Missing Default,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,GetMagicValue,The following switch statement is missing a default case: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2)  		return TypeConverter.ObjectToInt (m.Substring (1' 1));  	break;  case MagicType.MagicTopic:  	if (m.Length >= 5)  		return TypeConverter.ObjectToInt (m.Substring (2' 3));  	break;  case MagicType.TopicTag:  	if (m.Length >= 6)  		return TypeConverter.ObjectToInt (m.Substring (5' 1));  	break;  }  
Missing Default,Discuz.Forum,Topics,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Forum\Topics.cs,SetMagicValue,The following switch statement is missing a default case: switch (magicType) {  case MagicType.HtmlTitle:  	if (m.Length >= 2) {  		m [1] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}"' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  case MagicType.MagicTopic:  	if (m.Length >= 5) {  		string[] t = Utils.SplitString (newmagicvalue.ToString ().PadLeft (3' '0')' "");  		m [2] = t [0];  		m [3] = t [1];  		m [4] = t [2];  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}"' GetMagicValue (magic' MagicType.HtmlTitle)' newmagicvalue.ToString ().PadLeft (3' '0').Substring (0' 3))' magic);  	}  case MagicType.TopicTag:  	if (m.Length >= 6) {  		m [5] = newmagicvalue.ToString ().Substring (0' 1);  		return TypeConverter.StrToInt (string.Join (""' m)' magic);  	}  	else {  		return TypeConverter.StrToInt (string.Format ("1{0}{1}{2}"' GetMagicValue (magic' MagicType.HtmlTitle)' GetMagicValue (magic' MagicType.MagicTopic).ToString ("000")' newmagicvalue.ToString ().Substring (0' 1))' magic);  	}  }  
