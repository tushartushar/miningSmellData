Implementation smell,Namespace,Class,File,Method,Description
Long Method,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The method has 146 lines of code.
Long Method,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The method has 140 lines of code.
Long Method,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The method has 106 lines of code.
Long Method,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The method has 159 lines of code.
Long Method,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The method has 100 lines of code.
Complex Method,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,RegEsc,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetAlbumListCondition,Cyclomatic complexity of the method is 11
Complex Method,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCondition,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostCondition,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetPhotoCondition,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleBoxin,Cyclomatic complexity of the method is 18
Complex Method,Discuz.Space,feedproxy,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\feedproxy.aspx.cs,feedproxy,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,GetModuleRequireScript,Cyclomatic complexity of the method is 24
Complex Method,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadContent,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,setp,Cyclomatic complexity of the method is 35
Complex Method,Discuz.Space,Spaces,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\Spaces.cs,SetModuleBase,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space,ss,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\ss.aspx.cs,ss,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space,SpaceTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceTags.cs,GetSpacePostTagsCacheFile,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Manage,ajaxbloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglist.ascx.cs,ajaxbloglist,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Manage,ajaxuserbloglistbydate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglistbydate.ascx.cs,ajaxuserbloglistbydate,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,ajaxuserspacecommentlist,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,Page_Load,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,Cyclomatic complexity of the method is 16
Complex Method,Discuz.Space.Pages,SpaceBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceBasePage.cs,SpaceBasePage,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,Cyclomatic complexity of the method is 26
Complex Method,Discuz.Space.Pages,usercpspacecategoryadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryadd.cs,ShowPage,Cyclomatic complexity of the method is 9
Complex Method,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,Cyclomatic complexity of the method is 15
Complex Method,Discuz.Space.Pages,usercpspacecomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecomment.cs,ShowPage,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,Cyclomatic complexity of the method is 22
Complex Method,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,Cyclomatic complexity of the method is 14
Complex Method,Discuz.Space.Pages,usercpspacemanageattachment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageattachment.cs,ShowPage,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,Cyclomatic complexity of the method is 12
Complex Method,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Space.Pages,usercpspaceset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceset.cs,ShowPage,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,Cyclomatic complexity of the method is 25
Complex Method,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseExpression,Cyclomatic complexity of the method is 15
Complex Method,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseValue,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Admin,EditModuleDef,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\editmoduledef.aspx.cs,btnSave_Click,Cyclomatic complexity of the method is 11
Complex Method,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,Cyclomatic complexity of the method is 13
Complex Method,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,DeleteApply_Click,Cyclomatic complexity of the method is 8
Complex Method,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,Cyclomatic complexity of the method is 10
Complex Method,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,Cyclomatic complexity of the method is 14
Long Parameter List,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceTheme,The method has 6 parameters.
Long Parameter List,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceList,The method has 5 parameters.
Long Parameter List,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetAlbumListCondition,The method has 5 parameters.
Long Parameter List,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceByCondition,The method has 6 parameters.
Long Parameter List,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostByCondition,The method has 6 parameters.
Long Parameter List,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The method has 6 parameters.
Long Parameter List,Discuz.Space.Services,IMetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\IMetaWeblog.cs,newPost,The method has 5 parameters.
Long Parameter List,Discuz.Space.Services,IMetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\IMetaWeblog.cs,editPost,The method has 5 parameters.
Long Parameter List,Discuz.Space.Services,IMetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\IMetaWeblog.cs,deletePost,The method has 5 parameters.
Long Parameter List,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newPost,The method has 5 parameters.
Long Parameter List,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,editPost,The method has 5 parameters.
Long Parameter List,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,deletePost,The method has 5 parameters.
Long Identifier,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,Btn_SaveInfo_Click,The length of the parameter imaxarticlecommentcounttimeout is 30.
Long Identifier,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,Btn_SaveInfo_Click,The length of the parameter imaxpostarticlespacecounttimeout is 32.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpacePhoto,The length of the statement  "	string commandText = String.Format ("INSERT INTO [{0}photos] ([userid]' [username]' [title]' [albumid]' [filename]' [attachment]' [filesize]' [description]'[isattachment]'[commentstatus]' [tagstatus]) VALUES ( @userid' @username' @title' @albumid' @filename' @attachment' @filesize' @description'@isattachment' @commentstatus' @tagstatus);SELECT SCOPE_IDENTITY()"' BaseConfigs.GetTablePrefix); " is 393.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePhotoCountByAlbumId,The length of the statement  "	return TypeConverter.ObjectToInt (DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT(1) FROM [{0}photos] WHERE [albumid]=@albumid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@albumid"' (DbType)SqlDbType.Int' 4' albumid))); " is 252.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpaceAlbum,The length of the statement  "	string commandText = String.Format ("UPDATE [{0}albums] SET [albumcateid] = @albumcateid' [title] = @title' [description] = @description' [password] = @password' [imgcount] = @imgcount' [logo] = @logo' [type] = @type WHERE [albumid] = @albumid"' BaseConfigs.GetTablePrefix); " is 274.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceConfigDataByUserID,The length of the statement  "	return DbHelper.ExecuteReader (CommandType.Text' string.Format ("SELECT * FROM [{0}spaceconfigs] WHERE [userid] = {1}"' BaseConfigs.GetTablePrefix' userid)); " is 157.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpaceConfigData,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [spacetitle] = @spacetitle '[description] = @description'[blogdispmode] = @blogdispmode'[bpp] = @bpp' [commentpref] = @commentpref' [messagepref] = @messagepref' [themeid]=@themeid'[themepath] = @themepath' [updatedatetime] = @updatedatetime WHERE [userid] = @userid"' BaseConfigs.GetTablePrefix); " is 363.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceConfigData,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spaceconfigs] ([userid]' [spacetitle]' [description]' [blogdispmode]' [bpp]' [commentpref]' [messagepref]' [rewritename]' [themeid]' [themepath]' [postcount]' [commentcount]' [visitedtimes]' [createdatetime]' [updatedatetime]) VALUES (@userid' @spacetitle' @description' @blogdispmode' @bpp' @commentpref' @messagepref' @rewritename' @themeid' @themepath' @postcount' @commentcount' @visitedtimes' @createdatetime' @updatedatetime);SELECT SCOPE_IDENTITY()"' BaseConfigs.GetTablePrefix); " is 539.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpaceVisitedTimesByUserID,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [visitedtimes] = [visitedtimes] + 1 WHERE [userid] = @userid"' BaseConfigs.GetTablePrefix); " is 157.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpaceVisitedTimesByUserID,The length of the statement  "	DbHelper.ExecuteNonQuery (CommandType.Text' commandText' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)); " is 125.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpacePostCountByUserID,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [postcount] = [postcount] + @postcount  WHERE [userid] = @userid"' BaseConfigs.GetTablePrefix); " is 161.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpaceCommentCountByUserID,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [commentcount] = [commentcount] + @commentcount  WHERE [userid] = @userid"' BaseConfigs.GetTablePrefix); " is 170.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceComment,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spacecomments] ( [postid]' [author]' [email]' [url]' [ip]' [postdatetime]' [content]' [parentid]' [uid]'[posttitle] ) VALUES ( @postid' @author' @email' @url' @ip' @postdatetime' @content' @parentid' @uid' @posttitle)"' BaseConfigs.GetTablePrefix); " is 301.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceComments,The length of the statement  "		string commandText = string.Format (@"DELETE FROM [{0}spacecomments] FROM [{0}spaceposts] WHERE [{0}spaceposts].[postid] = [{0}spacecomments].[postid] AND [{0}spaceposts].[uid]={1} AND [{0}spacecomments].[commentid] IN ({2})"' BaseConfigs.GetTablePrefix' userid' commentidList); " is 278.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceComments,The length of the statement  "		string commandText = string.Format ("DELETE FROM [{0}spacecomments] WHERE [uid]={1}"' BaseConfigs.GetTablePrefix' userid); " is 122.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceComment,The length of the statement  "		string commandText = string.Format ("DELETE FROM [{0}spacecomments] WHERE [commentid] = {1}"' BaseConfigs.GetTablePrefix' commentid); " is 133.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentList,The length of the statement  "                        [{1}spacecomments] AS [sc]' [{1}spaceposts] AS [sp] WHERE [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {2}"' pageSize' BaseConfigs.GetTablePrefix' ordertype); " is 190.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentList,The length of the statement  "                            [sc1].[postid]=[sp1].[postid] AND [sp1].[uid]=@userid ORDER BY [sc1].[commentid] {3}) AS tblTmp ) AND [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype); " is 243.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentList,The length of the statement  "                            [sc1].[postid]=[sp1].[postid] AND [sp1].[uid]=@userid ORDER BY [commentid] {3}) AS tblTmp ) AND [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype); " is 237.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentListByPostid,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {2}"' pageSize' BaseConfigs.GetTablePrefix' ordertype); " is 170.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentListByPostid,The length of the statement  "				commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [commentid] < (SELECT min([commentid])  FROM " + "(SELECT TOP {2} [commentid] FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {3}) AS tblTmp ) AND [postid]=@postid ORDER BY [commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype); " is 346.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentListByPostid,The length of the statement  "				commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [commentid] > (SELECT MAX([commentid])  FROM " + "(SELECT TOP {2} [commentid] FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {3}) AS tblTmp ) AND [postid]=@postid ORDER BY [commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype); " is 346.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([sc].[commentid]) FROM [{0}spacecomments] AS [sc]' [{0}spaceposts] AS [sp] WHERE [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)); " is 314.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCountByPostid,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([commentid]) FROM [{0}spacecomments] WHERE [postid]=@postid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid)); " is 242.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceNewComments,The length of the statement  "		string commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [postid] IN (SELECT TOP 10 [postid] FROM [{1}spaceposts] WHERE [uid] = {2} AND [commentcount]>0 ORDER BY [postid] DESC) ORDER BY [commentid] DESC"' topcount' BaseConfigs.GetTablePrefix' userid); " is 278.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpacePost,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spaceposts] ([author]' [uid]' [postdatetime]' [content]' [title]' [category]' [poststatus]' [commentstatus]' [postupdatetime]' [commentcount]) VALUES ( @author' @uid' @postdatetime' @content' @title' @category' @poststatus' @commentstatus' @postupdatetime' @commentcount);SELECT SCOPE_IDENTITY();"' BaseConfigs.GetTablePrefix); " is 380.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpacePost,The length of the statement  "	commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [updatedatetime]=@postupdatetime WHERE [userid]=@uid"' BaseConfigs.GetTablePrefix); " is 142.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpacePost,The length of the statement  "	DbHelper.ExecuteReader (CommandType.Text' string.Format ("UPDATE [{0}spaceattachments] SET [spacepostid] = @spacepostid  WHERE [spacepostid] = 0 AND [uid] = @uid "' BaseConfigs.GetTablePrefix)' prams1); " is 202.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpacePost,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceposts]  SET [author] = @author' [uid] = @uid' [postdatetime] = @postdatetime' [content] = @content' [title] = @title' [category] = @category' [poststatus] = @poststatus' [commentstatus] = @commentstatus' [postupdatetime] = @postupdatetime WHERE [postid] = @postid"' BaseConfigs.GetTablePrefix); " is 347.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpacePost,The length of the statement  "	commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [updatedatetime]=@postupdatetime WHERE [userid]=@uid"' BaseConfigs.GetTablePrefix); " is 142.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePost,The length of the statement  "	return DbHelper.ExecuteReader (CommandType.Text' "SELECT * FROM [" + BaseConfigs.GetTablePrefix + "spaceposts] WHERE  [postid]=" + postid); " is 139.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpacePosts,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spaceposts] WHERE [postid] IN ({1}) AND [uid]={2}"' BaseConfigs.GetTablePrefix' postidList' userid); " is 153.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpacePosts,The length of the statement  "		commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [postcount] = [postcount] - {1} WHERE [userid] = {2}"' BaseConfigs.GetTablePrefix' deletedCount' userid); " is 164.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpacePosts,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spaceposts] WHERE [uid] = {1}"' BaseConfigs.GetTablePrefix' userid); " is 121.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpacePosts,The length of the statement  "	commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [postcount] = 0 WHERE [userid] = {1}"' BaseConfigs.GetTablePrefix' userid); " is 134.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [uid]=@userid ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 151.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [postid] < (SELECT min([postid])  FROM " + "(SELECT TOP {2} [postid] FROM [{1}spaceposts] WHERE [uid]=@userid ORDER BY [postid] DESC) AS tblTmp ) AND [uid]=@userid ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 310.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 180.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [postid] < (SELECT min([postid])  FROM " + "(SELECT TOP {2} [postid] FROM [{1}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus ORDER BY [postid] DESC) AS tblTmp ) AND [uid]=@userid AND [poststatus]=@poststatus ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 368.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [uid]=@userid AND [poststatus]=1 AND DATEDIFF(d' @postdatetime' postdatetime) = 0 ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 219.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [postid] < (SELECT min([postid])  FROM " + "(SELECT TOP {2} [postid] FROM [{1}spaceposts] WHERE [uid]=@userid AND [poststatus]=1 AND DATEDIFF(d' @postdatetime' postdatetime) = 0 ORDER BY [postid] DESC) AS tblTmp ) " + "AND [uid]=@userid AND [poststatus]=1 AND DATEDIFF(d' @postdatetime' postdatetime) = 0 ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 451.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE uid=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)); " is 231.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus"' BaseConfigs.GetTablePrefix)' parms); " is 201.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus AND DATEDIFF(d' @postdatetime' postdatetime) = 0"' BaseConfigs.GetTablePrefix)' parms); " is 250.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpacePostByUserID,The length of the statement  "	DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("UPDATE [{0}spaceposts] SET [views] = [views] + 1 WHERE [postid] = @postid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid)); " is 233.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountSpaceCommentCountByPostID,The length of the statement  "		DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("UPDATE [{0}spaceposts] SET [commentcount] = [commentcount] + @commentcount  WHERE [postid] = @postid "' BaseConfigs.GetTablePrefix)' parms); " is 200.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountSpaceCommentCountByPostID,The length of the statement  "		DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("UPDATE [{0}spaceposts] SET [commentcount] = [commentcount] + @commentcount  WHERE [postid] = @postid AND [commentcount]>0"' BaseConfigs.GetTablePrefix)' parms); " is 220.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryByCategoryID,The length of the statement  "	return DbHelper.ExecuteReader (CommandType.Text' string.Format ("SELECT * FROM [{0}spacecategories] WHERE [categoryid] = {1}"' BaseConfigs.GetTablePrefix' categoryid)); " is 168.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceCategory,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spacecategories] ( [title]' [uid]' [description]' [typeid]' [categorycount]' [displayorder]) VALUES ( @title' @uid' @description' @typeid' @categorycount' @displayorder)"' BaseConfigs.GetTablePrefix); " is 253.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpaceCategory,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spacecategories] SET  [title] = @title' [uid] = @uid' [description] = @description' [typeid] = @typeid' [categorycount] = @categorycount' [displayorder] = @displayorder WHERE [categoryid] = @categoryid "' BaseConfigs.GetTablePrefix); " is 281.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetCategoryNameByIdList,The length of the statement  "		string commandText = string.Format ("SELECT [title] FROM [{0}spacecategories] WHERE [categoryid] IN ({1})"' BaseConfigs.GetTablePrefix' idList); " is 144.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryListByUserId,The length of the statement  "	string commandText = string.Format ("SELECT [categoryid]' [title]' [description] FROM [{0}spacecategories] WHERE [uid]=@userid ORDER BY [displayorder]' [categoryid]"' BaseConfigs.GetTablePrefix); " is 195.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetCategoryIDAndName,The length of the statement  "	return DbHelper.ExecuteReader (CommandType.Text' string.Format ("SELECT [categoryid]'[title] FROM [{0}spacecategories] WHERE [categoryid] IN ({1})"' BaseConfigs.GetTablePrefix' idList)); " is 186.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceCategory,The length of the statement  "		string commandText = string.Format ("DELETE FROM [{0}spacecategories] WHERE [categoryid] IN ({1}) AND [uid]={2}"' BaseConfigs.GetTablePrefix' categoryidList' userid); " is 166.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceCategory,The length of the statement  "		commandText = string.Format ("DELETE FROM [{0}spacepostcategories] WHERE [categoryid] IN ({1})"' BaseConfigs.GetTablePrefix' categoryidList); " is 141.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceCategory,The length of the statement  "		string commandText = string.Format ("SELECT [categoryid] FROM [{0}spacecategories] WHERE [uid]={1}"' BaseConfigs.GetTablePrefix' userid); " is 137.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceCategory,The length of the statement  "			commandText = string.Format ("DELETE FROM [{0}spacepostcategories] WHERE [categoryid] IN ({1})"' BaseConfigs.GetTablePrefix' categoryidList); " is 141.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecategories] WHERE uid=@userid ORDER BY [categoryid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 158.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecategories] WHERE [categoryid] < (SELECT min([categoryid])  FROM " + "(SELECT TOP {2} [categoryid] FROM [{1}spacecategories] WHERE [uid]=@userid ORDER BY [categoryid] DESC) AS tblTmp ) AND [uid]=@userid ORDER BY [categoryid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 340.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([categoryid]) FROM [{0}spacecategories] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)); " is 242.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpacePostCategory,The length of the statement  "	string commandText = String.Format ("INSERT INTO [{0}spacepostcategories] ([postid]' [categoryid]) VALUES ( @postid' @categoryid)"' BaseConfigs.GetTablePrefix); " is 160.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpacePostCategoryByPostID,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spacepostcategories] WHERE [postid] = @postid"' BaseConfigs.GetTablePrefix); " is 129.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceAttachment,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spaceattachments] ( [uid]' [spacepostid]' [postdatetime]' [filename]' [filetype]' [filesize]' [attachment]' [downloads]) VALUES ( @uid' @spacepostid' @postdatetime' @filename' @filetype' @filesize' @attachment' @downloads)"' BaseConfigs.GetTablePrefix); " is 306.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceattachments] WHERE [uid]=@userid ORDER BY [aid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 154.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceattachments] WHERE [aid] < (SELECT min([aid])  FROM " + "(SELECT TOP {2} [aid] FROM [{1}spaceattachments] WHERE [uid]=@userid ORDER BY [aid] DESC) AS tblTmp ) AND [uid]=@userid ORDER BY [aid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 307.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([aid]) FROM [{0}spaceattachments] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)); " is 236.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceAttachmentByIDList,The length of the statement  "	IDataReader reader = DbHelper.ExecuteReader (CommandType.Text' "SELECT [filename] FROM [" + BaseConfigs.GetTablePrefix + "spaceattachments] WHERE [aid] IN( " + aidlist + " ) AND [uid]=" + userid' null); " is 202.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceAttachmentByIDList,The length of the statement  "	DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("DELETE  FROM  [{0}spaceattachments] WHERE [aid] IN ({1})"' BaseConfigs.GetTablePrefix' aidlist)); " is 157.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' "SELECT COUNT([linkid]) FROM [" + BaseConfigs.GetTablePrefix + "spacelinks] WHERE [userid]=@userid"' parm); " is 161.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacelinks] WHERE [userid]=@userid ORDER BY [linkid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 154.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkList,The length of the statement  "			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacelinks] WHERE [linkid] < (SELECT min([linkid])  FROM " + "(SELECT TOP {2} [linkid] FROM [{1}spacelinks] WHERE [userid]=@userid ORDER BY [linkid] DESC) AS tblTmp ) AND [userid]=@userid ORDER BY [linkid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 316.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkByLinkID,The length of the statement  "	IDataReader reader = DbHelper.ExecuteReader (CommandType.Text' "SELECT * FROM [" + BaseConfigs.GetTablePrefix + "spacelinks] WHERE [linkid] = " + linkid); " is 154.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SaveSpaceLink,The length of the statement  "	string commandText = String.Format ("UPDATE [{0}spacelinks] SET  [linktitle] = @linktitle' [linkurl] = @linkurl' [description] = @description WHERE [linkid] = @linkid "' BaseConfigs.GetTablePrefix); " is 198.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceLink,The length of the statement  "	string commandText = String.Format ("INSERT INTO [{0}spacelinks] ( [userid]' [linktitle]' [linkurl]' [description]) VALUES ( @userid' @linktitle' @linkurl'  @description)"' BaseConfigs.GetTablePrefix); " is 201.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceLink,The length of the statement  "		string commandText = string.Format ("DELETE FROM [{0}spacelinks] WHERE [linkid] IN ({1}) AND userid={2}"' BaseConfigs.GetTablePrefix' linksList' userid); " is 153.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceLink,The length of the statement  "		string commandText = string.Format ("DELETE FROM [{0}spacelinks] WHERE userid={1}"' BaseConfigs.GetTablePrefix' userid); " is 120.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetThemeInfos,The length of the statement  "	return RunSelectSql (string.Format (@"SELECT * FROM [{0}spacethemes] ORDER BY [type]"' BaseConfigs.GetTablePrefix)' null); " is 122.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateModuleDef,The length of the statement  "	string commandText = string.Format (@"UPDATE [{0}spacemoduledefs] SET [modulename]=@modulename' [cachetime]=@cachetime' [configfile]=@configfile' [controller]=@controller WHERE [moduledefid]=@moduledefid"' BaseConfigs.GetTablePrefix); " is 234.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetModuleDefIdByUrl,The length of the statement  "	string commandText = string.Format (@"SELECT [moduledefid] FROM [{0}spacemoduledefs] WHERE [configfile]=@configfile"' BaseConfigs.GetTablePrefix); " is 146.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetModulesCountByTabId,The length of the statement  "	string commandText = string.Format (@"SELECT COUNT(1) FROM [{0}spacemodules] WHERE [tabid] = @tabid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 145.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetModulesByTabId,The length of the statement  "	string commandText = string.Format (@"SELECT * FROM [{0}spacemodules] WHERE [tabid] = @tabid AND [uid]=@uid ORDER BY [panename]' [displayorder]"' BaseConfigs.GetTablePrefix); " is 174.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetModuleInfoById,The length of the statement  "	string commandText = string.Format (@"SELECT * FROM [{0}spacemodules] WHERE [moduleid] = @moduleid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 144.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddModule,The length of the statement  "	string commandText = string.Format (@"INSERT INTO [{0}spacemodules]([moduleid]' [tabid]' [uid]' [moduledefid]' [panename]' [displayorder]' [userpref]' [val]' [moduleurl]' [moduletype]) VALUES(@moduleid' @tabid' @uid' @moduledefid' @panename' @displayorder' @userpref' @val' @moduleurl' @moduletype)"' BaseConfigs.GetTablePrefix); " is 329.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateModule,The length of the statement  "	string commandText = string.Format (@"UPDATE [{0}spacemodules] SET [tabid]=@tabid' [moduledefid]=@moduledefid' [panename]=@panename' [displayorder]=@displayorder'[userpref]=@userpref'[val]=@val' moduleurl=@moduleurl' moduletype=@moduletype WHERE [moduleid]=@moduleid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 312.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteModule,The length of the statement  "	string commandText = string.Format (@"DELETE FROM [{0}spacemodules] WHERE [moduleid]=@moduleid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 140.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateModuleOrder,The length of the statement  "	string commandText = string.Format (@"UPDATE [{0}spacemodules] SET [panename]=@panename' [displayorder]=@displayorder WHERE [moduleid]=@moduleid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 190.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateModuleTab,The length of the statement  "	string commandText = string.Format (@"UPDATE [{0}spacemodules] SET [displayorder]=0' [tabid]=@tabid WHERE [moduleid]=@moduleid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 172.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetMaxModuleIdByUid,The length of the statement  "	string commandText = string.Format (@"SELECT TOP 1 [moduleid] FROM [{0}spacemodules] WHERE [uid]=@uid ORDER BY [moduleid] DESC"' BaseConfigs.GetTablePrefix); " is 157.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetTabInfosByUid,The length of the statement  "	string commandText = string.Format (@"SELECT * FROM [{0}spacetabs] WHERE [uid]=@uid ORDER BY [tabid] ASC"' BaseConfigs.GetTablePrefix); " is 135.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetTabInfoById,The length of the statement  "	string commandText = string.Format (@"SELECT * FROM [{0}spacetabs] WHERE [tabid] = @tabid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 135.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddTab,The length of the statement  "	string commandText = string.Format (@"INSERT INTO [{0}spacetabs]([tabid]' [uid]' [displayorder]' [tabname]' [iconfile]' [template]) VALUES(@tabid' @uid' @displayorder' @tabname' @iconfile' @template)"' BaseConfigs.GetTablePrefix); " is 230.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateTab,The length of the statement  "	string commandText = string.Format (@"UPDATE [{0}spacetabs] SET [displayorder]=@displayorder' [tabname]=@tabname' [iconfile]=@iconfile' [template] = @template WHERE [tabid]=@tabid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 225.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteTab,The length of the statement  "	string commandText = string.Format (@"DELETE FROM [{0}spacetabs] WHERE [tabid]=@tabid AND [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 131.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetTabInfoCountByUserId,The length of the statement  "	string commandText = string.Format (@"SELECT COUNT(1) FROM [{0}spacetabs] WHERE [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 121.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetMaxTabIdByUid,The length of the statement  "	string commandText = string.Format (@"SELECT TOP 1 [tabid] FROM [{0}spacetabs] WHERE [uid]=@uid ORDER BY [tabid] DESC"' BaseConfigs.GetTablePrefix); " is 148.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,ClearDefaultTab,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [defaulttab]=0 WHERE [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 134.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SetDefaultTab,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [defaulttab]=@tabid WHERE [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 139.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,SetSpaceTheme,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [themeid]=@themeid' [themepath]=@themepath WHERE [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 162.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetThemes,The length of the statement  "	string commandText = string.Format ("SELECT TOP 1 newid() AS row'[themeid]'[directory] FROM [{0}spacethemes] WHERE type<>0 ORDER BY row"' BaseConfigs.GetTablePrefix); " is 166.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetUnActiveSpaceList,The length of the statement  "	string commandText = string.Format ("SELECT [uid]'s.[spaceid]'[spacetitle]'[username]'[createdatetime] FROM [{0}spaceconfigs] s " + "LEFT JOIN [{0}users] u ON s.[userid]=u.[uid] WHERE s.[spaceid] IN (SELECT ABS([spaceid]) spaceid  FROM [{0}users] WHERE [spaceid] < 0) ORDER BY s.[spaceid] DESC"' BaseConfigs.GetTablePrefix); " is 324.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaces,The length of the statement  "	DbHelper.ExecuteNonQuery (string.Format ("DELETE FROM [{0}spaceconfigs] WHERE [userid] IN ({1})"' BaseConfigs.GetTablePrefix' uidlist)); " is 136.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteSpaceThemes,The length of the statement  "	DbHelper.ExecuteNonQuery (string.Format ("DELETE FROM [{0}spacethemes]  WHERE [themeid] IN({1})"' BaseConfigs.GetTablePrefix' themeidlist)); " is 140.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateSpaceThemeInfo,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spacethemes] SET [name]=@name' [author]=@author' [copyright]=@copyright WHERE themeid=@themeid"' BaseConfigs.GetTablePrefix); " is 173.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceThemeDirectory,The length of the statement  "	return DbHelper.ExecuteDataset (string.Format ("SELECT [directory] FROM [{0}spacethemes] WHERE [type]<>0"' BaseConfigs.GetTablePrefix)).Tables [0]; " is 147.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,IsThemeExist,The length of the statement  "	return TypeConverter.ObjectToInt (DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT(*) FROM [{0}spacethemes] WHERE name=@name"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@name"' (DbType)SqlDbType.NVarChar' 50' name))) > 0; " is 253.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddSpaceTheme,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spacethemes]([directory]' [name]' [type]' [author]' [createdate]' [copyright]) VALUES(@directory'@name'@type'@author'@createdate'@copyright)"' BaseConfigs.GetTablePrefix); " is 224.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateThemeName,The length of the statement  "	DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("UPDATE [{0}spacethemes] SET name=@name WHERE themeid=@themeid"' BaseConfigs.GetTablePrefix)' parms); " is 160.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteTheme,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spacethemes] WHERE [themeid]=@themeid OR [type]=@themeid"' BaseConfigs.GetTablePrefix); " is 140.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} s.[spaceid]'[userid]'[spacetitle]'[username]'[grouptitle]'[postcount]'[commentcount]'[createdatetime]'[status] " + "FROM [{1}spaceconfigs] s LEFT JOIN [{1}users] u ON s.userid=u.uid  LEFT JOIN [{1}usergroups] g ON u.[groupid]=g.[groupid] "' pagesize' BaseConfigs.GetTablePrefix); " is 324.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} s.[spaceid]'[userid]'[spacetitle]'[username]'[grouptitle]'[postcount]'[commentcount]'[createdatetime]'[status] " + "FROM [{1}spaceconfigs] s LEFT JOIN [{1}users] u ON s.[userid]=u.[uid] LEFT JOIN [{1}usergroups] g ON u.[groupid]=g.[groupid] " + "WHERE s.[spaceid]<(SELECT MIN([spaceid]) FROM (SELECT TOP {2} [spaceid] FROM [{1}spaceconfigs] ORDER BY [spaceid] DESC) AS tblTmp) "' pagesize' BaseConfigs.GetTablePrefix' pagetop); " is 472.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AdminOpenSpaceStatusBySpaceidlist,The length of the statement  "	DbHelper.ExecuteNonQuery (string.Format ("UPDATE [{0}spaceconfigs] SET [status]=[status]&~" + (int)SpaceStatusType.AdminClose + "  WHERE [spaceid] IN ({1})"' BaseConfigs.GetTablePrefix' spaceidlist)); " is 200.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AdminCloseSpaceStatusBySpaceidlist,The length of the statement  "	DbHelper.ExecuteNonQuery (string.Format ("UPDATE [{0}spaceconfigs] SET [status]=[status]|" + (int)SpaceStatusType.AdminClose + "  WHERE [spaceid] IN ({1})"' BaseConfigs.GetTablePrefix' spaceidlist)); " is 199.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceRecordCount,The length of the statement  "	string commandText = string.Format ("SELECT COUNT(s.[spaceid]) FROM [{0}spaceconfigs] s LEFT JOIN [{0}users] u ON s.[userid]=u.[uid] "' BaseConfigs.GetTablePrefix); " is 164.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceRecordCount,The length of the statement  "	return Convert.ToInt32 (DbHelper.ExecuteDataset (CommandType.Text' commandText' parms).Tables [0].Rows [0] [0].ToString ()); " is 124.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,IsRewritenameExist,The length of the statement  "	string commandText = string.Format ("SELECT COUNT(1) FROM [{0}spaceconfigs] WHERE [rewritename]=@rewritename"' BaseConfigs.GetTablePrefix); " is 139.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateUserSpaceRewriteName,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spaceconfigs] SET [rewritename]=@rewritename WHERE [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 146.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetUidBySpaceid,The length of the statement  "	string commandText = string.Format ("SELECT [userid] FROM [{0}spaceconfigs] WHERE [spaceid]=@spaceid"' BaseConfigs.GetTablePrefix); " is 131.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceattachmentsAidListByUid,The length of the statement  "	string commandText = string.Format ("SELECT [aid] FROM [{0}spaceattachments] WHERE [uid]=@uid"' BaseConfigs.GetTablePrefix); " is 124.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateCustomizePanelContent,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spacecustomizepanels] SET [panelcontent]=@modulecontent WHERE [moduleid]=@moduleid AND [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 182.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,ExistCustomizePanelContent,The length of the statement  "	string commandText = string.Format ("SELECT COUNT(1) FROM [{0}spacecustomizepanels] WHERE [moduleid]=@moduleid AND [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 162.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddCustomizePanelContent,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spacecustomizepanels]([moduleid]' [userid]' [panelcontent]) VALUES(@moduleid' @userid' @modulecontent)"' BaseConfigs.GetTablePrefix); " is 186.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetCustomizePanelContent,The length of the statement  "	string commandText = string.Format ("SELECT [panelcontent] FROM [{0}spacecustomizepanels] WHERE [moduleid]=@moduleid AND [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 168.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteCustomizePanelContent,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spacecustomizepanels] WHERE [moduleid]=@moduleid AND [userid]=@userid"' BaseConfigs.GetTablePrefix); " is 153.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetModuleDefList,The length of the statement  "	return DbHelper.ExecuteReader (CommandType.Text' string.Format ("SELECT * FROM [{0}spacemoduledefs]"' BaseConfigs.GetTablePrefix)); " is 131.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,UpdateModuleDefInfo,The length of the statement  "	string commandText = string.Format ("UPDATE [{0}spacemoduledefs] SET [controller]='{1}' WHERE [configfile]='{2}'"' BaseConfigs.GetTablePrefix' controller' configfile); " is 167.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,AddModuleDefInfo,The length of the statement  "	string commandText = string.Format ("INSERT INTO [{0}spacemoduledefs]([modulename]' [cachetime]' [configfile]' [controller]) VALUES(@modulename' @cachetime' @configfile' @controller)"' BaseConfigs.GetTablePrefix); " is 213.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,DeleteModuleDefByUrl,The length of the statement  "	string commandText = string.Format ("DELETE FROM [{0}spacemoduledefs] WHERE [configfile] = @configfile"' BaseConfigs.GetTablePrefix); " is 133.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSearchSpacePostsList,The length of the statement  "	string commandText = string.Format ("SELECT TOP {1} [{0}spaceposts].[postid]' [{0}spaceposts].[title]' [{0}spaceposts].[author]' [{0}spaceposts].[uid]' [{0}spaceposts].[postdatetime]' [{0}spaceposts].[commentcount]' [{0}spaceposts].[views] FROM [{0}spaceposts] WHERE [{0}spaceposts].[postid] IN({2}) ORDER BY CHARINDEX(CONVERT(VARCHAR(8)'[{0}spaceposts].[postid])''{2}')"' BaseConfigs.GetTablePrefix' pagesize' postids); " is 420.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentSizeByUserid,The length of the statement  "	string sql = string.Format ("SELECT ISNULL(SUM(filesize)' 0) AS [filesize] FROM [{0}spaceattachments] WHERE uid={1}"' BaseConfigs.GetTablePrefix' userid); " is 154.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CreateSpacePostTags,The length of the statement  "	DbHelper.ExecuteNonQuery (CommandType.StoredProcedure' string.Format ("{0}createspaceposttags"' BaseConfigs.GetTablePrefix)' parms); " is 132.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetTagsListBySpacePost,The length of the statement  "	string commandText = string.Format ("SELECT [{0}tags].* FROM [{0}tags]' [{0}spaceposttags] WHERE [{0}spaceposttags].[tagid] = [{0}tags].[tagid] AND [{0}spaceposttags].[spacepostid] = @postid ORDER BY [orderid]"' BaseConfigs.GetTablePrefix); " is 240.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostCountWithSameTag,The length of the statement  "	string commandText = string.Format ("SELECT COUNT(1) FROM [{0}spaceposttags] AS [spt]'[{0}spaceposts] AS [sp] WHERE [spt].[spacepostid] = [sp].[postid] AND [sp].[poststatus] = 1 AND [tagid] = @tagid"' BaseConfigs.GetTablePrefix); " is 229.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetHotTagsListForSpace,The length of the statement  "	string commandText = string.Format ("SELECT TOP {0} * FROM [{1}tags] WHERE [scount] > 0 ORDER BY [scount] DESC'[orderid]"' count' BaseConfigs.GetTablePrefix); " is 158.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostCategorys,The length of the statement  "	string commandText = string.Format ("SELECT [a].[categoryid]'[a].[title]'[postid] FROM [{0}spacecategories] AS [a]'[{0}spacepostcategories] AS [b] WHERE [a].[categoryid]=[b].[categoryid] AND [postid] IN ({1})"' BaseConfigs.GetTablePrefix' spacepostids); " is 253.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCountByCondition,The length of the statement  "	string commandText = string.Format ("SELECT COUNT(1) FROM (SELECT s.*'u.[username] FROM [{0}spaceconfigs] s LEFT JOIN [{0}users] u ON s.[userid]=u.[uid]) AS tblTmp WHERE [status]=0"' BaseConfigs.GetTablePrefix); " is 211.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceByCondition,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} s.*'u.[username]'f.[avatar]'(SELECT COUNT(1) FROM [{1}albums] WHERE [userid]=s.[userid]) albumcount " + "FROM [{1}spaceconfigs] s LEFT JOIN [{1}userfields] f ON [userid]=f.[uid] LEFT JOIN [{1}users] u ON u.[uid]=[userid] WHERE [status]=0 {2} ORDER BY s.[spaceid] DESC"' pageSize' BaseConfigs.GetTablePrefix' condition); " is 364.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceByCondition,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} s.*'u.[username]'f.[avatar]'(SELECT COUNT(1) FROM [{1}albums] WHERE [userid]=s.[userid]) albumcount " + "FROM [{1}spaceconfigs] s LEFT JOIN [{1}userfields] f ON [userid]=f.[uid] LEFT JOIN [{1}users] u ON u.[uid]=[userid] WHERE [status]=0 AND s.[spaceid]<(SELECT MIN([spaceid]) FROM (SELECT TOP {2}" + " [spaceid] FROM [{1}spaceconfigs] WHERE [status]=0 {3} ORDER BY [spaceid] DESC) AS tblTmp) {3} ORDER BY s.[spaceid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop' condition); " is 528.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLitByTidlist,The length of the statement  "	string commandText = string.Format ("SELECT s.*'f.[avatar]'(SELECT COUNT(1) FROM [{0}albums] WHERE userid=s.userid) albumcount " + "FROM [{0}spaceconfigs] s LEFT JOIN [{0}userfields] f ON [userid]=f.[uid] WHERE ([spaceid] IN ({1})) ORDER BY CHARINDEX(CONVERT(VARCHAR(8)'[spaceid])''{1}')"' BaseConfigs.GetTablePrefix' spaceidlist); " is 331.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggSpaceTopComments,The length of the statement  "	return DbHelper.ExecuteDataset (CommandType.Text' string.Format ("SELECT TOP {0} [postid]'[content]'[posttitle]'[author]'[uid] FROM [{1}spacecomments] ORDER BY [commentid] DESC"' topnumber' BaseConfigs.GetTablePrefix)).Tables [0]; " is 230.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLastPostInfo,The length of the statement  "	string commandText = string.Format ("SELECT TOP 1 [postid]'[title] FROM [{0}spaceposts] WHERE [uid]=@uid ORDER BY [postdatetime] DESC"' BaseConfigs.GetTablePrefix); " is 164.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostByCondition,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE 1=1 {2} ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' condition); " is 156.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostByCondition,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [postid]<(SELECT MIN([postid]) FROM (SELECT TOP {2} [postid] FROM [{1}spaceposts] WHERE 1=1 {3} ORDER BY [postid] DESC) AS tblTmp) {3} ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop' condition); " is 292.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacepostLitByTidlist,The length of the statement  "	string commandText = string.Format ("SELECT * FROM [{0}spaceposts] WHERE [postid] IN ({1}) ORDER BY CHARINDEX(CONVERT(VARCHAR(8)'[postid])''{1}')"' BaseConfigs.GetTablePrefix' postidlist); " is 188.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggSpacePostList,The length of the statement  "	return DbHelper.ExecuteDataset (string.Format ("SELECT TOP {0} [postid]' [author]' [uid]' [postdatetime]' [title]' [commentcount]' [views] FROM [{1}spaceposts] WHERE [poststatus] = 1 ORDER BY [postdatetime] DESC"' topnumber' BaseConfigs.GetTablePrefix)).Tables [0]; " is 265.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggRecentUpdateSpaceList,The length of the statement  "	return DbHelper.ExecuteDataset (string.Format ("SELECT TOP {0} [spaceid]' [userid]' [spacetitle]' [postcount]' [commentcount]' [visitedtimes] FROM [{1}spaceconfigs] WHERE [status] = 0 AND [postcount]>0 ORDER BY [updatedatetime] DESC"' topnumber' BaseConfigs.GetTablePrefix)).Tables [0]; " is 286.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggTopSpaceList,The length of the statement  "	return DbHelper.ExecuteDataset (string.Format ("SELECT TOP {0} s.*'u.[avatar] FROM [{1}spaceconfigs] s LEFT JOIN [{1}userfields] u ON s.[userid] = u.[uid]  WHERE s.[status] = 0 ORDER BY s.[{2}] DESC"' topnumber' BaseConfigs.GetTablePrefix' orderby)).Tables [0]; " is 261.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggTopSpacePostList,The length of the statement  "	return DbHelper.ExecuteDataset (string.Format ("SELECT TOP {0} [postid]'[title]'[author]'[uid]'[postdatetime]'[commentcount]'[views] FROM [{1}spaceposts] WHERE [poststatus] = 1 ORDER BY [{2}] DESC"' topnumber' BaseConfigs.GetTablePrefix' orderby)).Tables [0]; " is 259.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggSpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix); " is 131.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggSpacePostsList,The length of the statement  "		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceposts] WHERE [postid] < (SELECT min([postid])  FROM " + "(SELECT TOP {2} [postid] FROM [{1}spaceposts] ORDER BY [postid] DESC) AS tblTmp ) ORDER BY [postid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop); " is 272.
Long Statement,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetWebSiteAggSpacePostsCount,The length of the statement  "		return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts]"' BaseConfigs.GetTablePrefix)); " is 145.
Long Statement,Discuz.Space.Entities,EditbarTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\EditbarTemplate.cs,GetHtml,The length of the statement  "									<a id=""DD_tg___template"" href=""###"" onclick=""_DS_popup(event''__template');loadTemplates();"">ѡ���ʽ</a>&nbsp;|&nbsp;" is 121.
Long Statement,Discuz.Space.Entities,EditbarTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\EditbarTemplate.cs,GetHtml,The length of the statement  "									<script type=""text/javascript"" src=""{0}space/javascript/editbar.js""></script>"' ht ["forumpath"].ToString ()' ht ["tabid"].ToString ()' (ht ["config"] as SpaceConfigInfo).ThemePath' (ht ["currenttab"] as TabInfo).Template); " is 227.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "		spacerssurl = string.Format ("spacerss-{0}{1}"' ((SpaceConfigInfo)ht ["config"]).UserID.ToString ()' Discuz.Config.GeneralConfigs.GetConfig ().Extname); " is 152.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "    <meta http-equiv=""MSThemeCompatible"" content=""Yes"" />"' (ht ["config"] as SpaceConfigInfo).Spacetitle' ht ["spacename"].ToString ()); " is 137.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<title>{0} - {1} - Powered by Discuz!NT</title>"' ((TabInfo)ht ["currenttab"]).TabName' ((SpaceConfigInfo)ht ["config"]).Spacetitle); " is 156.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<link href=\"{0}space/skins/themes/space.css\" rel=\"stylesheet\" type=\"text/css\" id=\"css\" />"' ht ["forumpath"].ToString ()); " is 153.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<link rel=\"stylesheet\" type=\"text/css\" href=\"{0}space/skins/themes/{1}/style.css\" />"' ht ["forumpath"].ToString ()' ((SpaceConfigInfo)ht ["config"]).ThemePath); " is 190.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<link rel=\"alternate\" type=\"application/rss+xml\" title=\"{0} 最新日志\" href=\"{1}tools/{2}\" />"' ((SpaceConfigInfo)ht ["config"]).Spacetitle' ht ["forumpath"].ToString ()' spacerssurl); " is 210.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<script type=\"text/javascript\">var forumpath=\"{0}space/\";var aspxrewrite = \"{1}\";</script><script type=\"text/javascript\" src=\"{0}space/javascript/space.js\"></script>"' ht ["forumpath"].ToString ()' Discuz.Config.GeneralConfigs.GetConfig ().Aspxrewrite); " is 286.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("\r\n<script>var domain = document.location.hostname;_et=\"{0}\";_source=\"\";_uli=true;_pnlo=false;_mpnlo=false;_pl=false;_mod=true;_pid=\"\";_old_html = false;_cbp=true;_is_dasher=false;var _pl_data = {1};</script><script><!--\r\n"' ht ["userkey"].ToString ()' "{}"); " is 291.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.Append ("function save_chkbox_value(hidden_elem_name' checked) {var hidden_elem = document.getElementById(hidden_elem_name);hidden_elem.value = checked ? \"1\" : \"0\";}function RemoteModule(spec_url' id' render_inline' base_iframe_url'caching_disabled) {this.spec_url = spec_url;this.id = id;this.render_inline = render_inline;this.base_iframe_url = base_iframe_url;this.caching_disabled = caching_disabled;this.old_width = 0;this.wants_scaling = false;      this.is_inlined = function() { return this.base_iframe_url == \"\"; };};var remote_modules = [];_DS_RegisterOnloadHandler(function() {for (var i=0;i<remote_modules.length;i++){var rm=remote_modules[i];var el=_gel(\"remote_iframe_\"+rm.id);if(el){el.src=rm.base_iframe_url;}}});function ifpc_resizeIframe(iframe_id' height) {var el = document.getElementById(iframe_id);if (el) {el.style.height = height + \"px\";}}_IFPC.registerService('resize_iframe'' ifpc_resizeIframe);function _DS_gmid_(iframe_id) {return(iframe_id.split(\"_\")[2]);}function _setModTitle(title' module_id) {var title_element = _gel(\"m_\" + module_id + \"_title\");if (title_element) {title_element.innerHTML = _hesc(title);}}function ifpc_setTitle(iframe_id' title) {if (typeof(iframe_id) == undefined|| !iframe_id || iframe_id == \"undefined\") {return;}_setModTitle(title' _DS_gmid_(iframe_id));}_IFPC.registerService('set_title'' ifpc_setTitle);function _DS_SetTitle(title' specified_module_id) {if (typeof(specified_module_id) == \"undefined\"|| !specified_module_id || specified_module_id == \"undefined\") {throw new Error(\"模块使用_DS_SetTitle时必须指定他们的id\"+ \"__MODULE_ID__\");} else {_setModTitle(title' specified_module_id);}}function ifpc_setPref(iframe_id' var_args) {var module_id = _DS_gmid_(iframe_id);var prefs = new _DS_Prefs(module_id);var keyValues = new Array();for (var n = 1; n < arguments.length; n += 2) {keyValues.push(arguments[n]' arguments[n + 1]);}prefs.set.apply(prefs' keyValues);}_IFPC.registerService('set_pref'' ifpc_setPref);// -->"); " is 2004.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat ("&nbsp;<a href=\"{0}usercp.aspx\"><b>{1}</b></a>(<a href=\"{0}logout.aspx?userkey={2}\">退出</a>)&nbsp;|&nbsp;<a href=\"{3}space/?uid={4}\">我的{5}</a>(<a href=\"{0}usercpspacemanageblog.aspx\">设置</a>)&nbsp;|&nbsp;<a href=\"{0}forumindex.aspx\">论坛</a>&nbsp;|&nbsp;<a href=\"{6}\">{7}</a>&nbsp;|&nbsp;<a href=\"{8}\">{5}首页</a>&nbsp;"' ht ["forumurlnopage"].ToString ()' ht ["username"].ToString ()' ht ["userkey"].ToString ()' ht ["configspaceurlnopage"].ToString ()' ht ["userid"].ToString ()' ht ["spacename"].ToString ()' ht ["configalbumurl"].ToString ()' ht ["albumname"].ToString ()' ht ["configspaceurl"].ToString ()); " is 642.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat ("<a href=\"#\" onclick=\"window.location.href='{0}login.aspx?reurl=' + _esc(document.location);\">登录</a>&nbsp;|&nbsp;<a href=\"{3}\">论坛</a>&nbsp;|&nbsp;<a href=\"{0}albumindex.aspx\">{2}</a>&nbsp;|&nbsp;<a href=\"{0}spaceindex.aspx\">{1}首页</a>"' ht ["forumurlnopage"].ToString ()' ht ["spacename"].ToString ()' ht ["albumname"].ToString ()' ht ["forumurl"].ToString ()); " is 392.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat ("<div class=\"title\"><h1>{0}</h1><span><a href=\"{1}\">{1}</a><a target=\"_blank\" href=\"{2}tools/{3}\"><img title=\"rss\" alt=\"rss\" width=\"12\" height=\"12\" src=\"{2}space/images/rss.gif\"/></a></span></div><div class=\"subtitle\">{4}</div>"' (ht ["config"] as SpaceConfigInfo).Spacetitle' ht ["spaceurl"].ToString ()' ht ["forumpath"].ToString ()' spacerssurl' (ht ["config"] as SpaceConfigInfo).Description); " is 439.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.Append (@"<script>_DS_time.stop(""parse_header"");</script><div id=""new_user_demo"" align=""center""></div></div> " is 122.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "<noscript><div id=""noscript_msg"" class=""msg""><div id=""noscript_box"" class=""msg_box"">本功能需要JavaScript支持，开启以获得更多功能。</div></div></noscript>" is 143.
Long Statement,Discuz.Space.Entities,MainTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\MainTemplate.cs,GetHtml,The length of the statement  "	builder.Append (@"_DS_time.stop(""upcend"");_DS_time.stop(""domloadstart"");_DS_AddEventHandler(""domload""' function() {_DS_time.stop(""domloadend"");});_DS_TriggerDelayedEvent(""domload"");_DS_AddEventHandler(""load""' function() {_DS_time.stop(""load"");if (parseInt(Math.random() * 100.0) == 1) {var url = ""dls="" + _DS_time.get(""domloadstart"") +""&dle="" + _DS_time.get(""domloadend"") +""&upcs="" + _DS_time.get(""upcstart"") +""&upce="" + _DS_time.get(""upcend"") +""&load="" + _DS_time.get(""load"");_sendx(""nop.aspx?timing="" + _esc(url)' null' false);}});</script>" is 578.
Long Statement,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleHtml,The length of the statement  "		moduleTitle = _modulePref.TitleUrl == string.Empty ? "<span id=\"m___MODULE_ID___title\" class=\"modtitle_text\">" + _modulePref.Title + "</span>" : "<a class=\"mtlink\" id=\"m___MODULE_ID___url\" href=\"" + _modulePref.TitleUrl + "\" target=\"_blank\"><span id=\"m___MODULE_ID___title\" class=\"modtitle_text\">" + _modulePref.Title + "</span></a>"; " is 350.
Long Statement,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleBoxin,The length of the statement  "		returnStr = "<script><!--\r\nremote_modules.push(new RemoteModule(\"{0}\"'\"__MODULE_ID__\"'\"{1}\"'\"{4}space/ifr.aspx?url={0}&nocache=1&uid={2}&mid=__MODULE_ID__&parent={3}\"'false));// -->\r\n</script><div id=remote___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%\"><iframe id=remote_iframe___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%;height:200px;overflow:hidden;background:transparent;\" allowtransparency=\"yes\" frameborder=0 scrolling=no></iframe></div>"; " is 505.
Long Statement,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleBoxin,The length of the statement  "		returnStr = string.Format (returnStr' _module.ModuleUrl' _modulePref.RenderInline' _module.Uid' GeneralConfigs.GetConfig ().Forumurl + parms' BaseConfigs.GetForumPath); " is 168.
Long Statement,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetRssBoxin,The length of the statement  "	return RssTemplate.Instance.GetHtml (ht).Replace ("__MODULE_URL__"' _module.ModuleUrl).Replace ("__MODULE_VAL__"' _module.Val.ToString ()); " is 139.
Long Statement,Discuz.Space.Entities,ModuleTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat (@"<a class=""delbox"" alt=""ɾ����ģ��"" title=""ɾ����ģ��"" href=""###"" onclick=""if(confirm('��ȷ��Ҫɾ�����ģ����?')){{return _del('__MODULE_ID__''__TAB_ID__''n___TAB_ID__=');}}return false;""></a>"); " is 219.
Long Statement,Discuz.Space.Entities,ModuleTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat (@"<a class=""minbox"" alt=""չ��/�����ģ��"" title=""չ��/�����ģ��"" id=""m___MODULE_ID___zippy"" href=""###"" onclick=""this.blur();return _zm('__MODULE_ID__'' '__TAB_ID__');return false;""></a>"); " is 217.
Long Statement,Discuz.Space.Entities,ModuleTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat (@"<a class=""ddbox"" alt=""�༭��ģ������"" title=""�༭��ģ������"" id=""DD_tg___MODULE_ID__"" href=""###"" onclick=""_edit(__MODULE_ID__);return false;""></a>"); " is 179.
Long Statement,Discuz.Space.Entities,ModuleTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleTemplate.cs,GetHtml,The length of the statement  "		builder.AppendFormat (@"<form id=""m___MODULE_ID___form"" onsubmit=""return _fsetp(this''__MODULE_ID__''__TAB_ID__);"">"); " is 122.
Long Statement,Discuz.Space.Entities,ModuleTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleTemplate.cs,GetHtml,The length of the statement  "		<table border=""0"" cellpadding=""0"" cellspacing=""0"" width=""95%"" align=""center""><tr><td colspan=""2"" nowrap align=""left""><br /><a href=""""><font size=""-1"" color=""#7777cc""></font></a></td><td colspan=""1"" align=""right"" valign=""bottom""><input id=""m___MODULE_ID___numfields"" type=""hidden"" value=""__USERPREF_COUNT__""><input id=""save___MODULE_ID__"" class=""submitbtn"" type=""submit"" value=""����""><input type=""button"" value=""ȡ��"" onclick=""return _cedit('__MODULE_ID__')""></td></tr></table>" is 521.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat (@"<div id=""FEED__MODULE_ID__msg"" class=""statusmsg"" style=""display:block;""><span id=""FEED__MODULE_ID__statusmsg"">������...</span></div><div id=""FEED__MODULE_ID__display"" style=""display:none;""><div id=""FEED__MODULE_ID__entries""></div><div class=""fpager"" style=""margin-top: 5px;"" id=""FEED___MODULE_ID__pages""></div></div>"); " is 363.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "	builder.AppendFormat (@"<script type=""text/javascript"">var FEED__MODULE_ID__ = {{url : ""__MODULE_URL__""'page_count : 1'current_page : 1'items : {{}}'num_items : __MODULE_VAL__'has_entries : false'is_fetching : false'TPL_entry :'<div' +' id=""ftl___MODULE_ID___%ENTRY_INDEX%"" class=""uftl""' +' style=""display: block;"">' +'<a id=""ft___MODULE_ID___%ENTRY_INDEX%"" class=""fmaxbox"" onclick=""_DS_FR_toggle(__MODULE_ID__'%ENTRY_INDEX%)""></a>' +'<a href=""%URL%"" target=""_blank"">%TITLE%</a>' +'<br />' +'<div class=""fpad"" id=""fb___MODULE_ID___%ENTRY_INDEX%"" style=""display:none;"">' +'<div id=""fb___MODULE_ID___%ENTRY_ID%"" style="""">��Rss��ʱ�޷�����.</div>' +'<div>' +'</div>''msg : function(txt) {{_gel(""FEED__MODULE_ID__statusmsg"").innerHTML = txt;_gel(""FEED__MODULE_ID__msg"").style.display = ""block"";_gel(""FEED__MODULE_ID__display"").style.display = ""none"";}}'" is 887.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "addEntry : function(title' url' id' index' has_body) {{var tpl = FEED__MODULE_ID__.TPL_entry;tpl = tpl.replace(/\%URL\%/g' _hesc(url));tpl = tpl.replace(/\%TITLE\%/g' _hesc(title));tpl = tpl.replace(/\%ENTRY_ID\%/g' id);tpl = tpl.replace(/\%ENTRY_INDEX\%/g' index);tpl = tpl.replace(/\%VISIBILITY\%/g' has_body ? """" : ""none"");_gel(""FEED__MODULE_ID__entries"").innerHTML += tpl;}}'" is 385.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "render : function(obj) {{if (!obj) {{FEED__MODULE_ID__.msg(""��Rss��ʱ�޷�����."");return;}}if (obj.ErrorMsg && obj.ErrorMsg != """") {{FEED__MODULE_ID__.msg(obj.ErrorMsg);return;}}var title_span = _gel(""m___MODULE_ID___title"");if (title_span) {{if (title_span.innerHTML == """" && obj.title && obj.title != """") {{title_span.innerHTML = _hesc(obj.title);}}if (obj.link && obj.link != """") {{title_span.innerHTML = ""<a class=\""mtlink\"" href=\"""" +_hesc(obj.link) + ""\"">"" +title_span.innerHTML + ""</a>"";}}}}if (!obj.items || obj.items.length == 0) {{FEED__MODULE_ID__.msg(""��Rss��ʱ�޷�����."");return;}}_gel(""FEED__MODULE_ID__msg"").style.display = ""none"";_gel(""FEED__MODULE_ID__display"").style.display = ""block"";if (obj.items) {{FEED__MODULE_ID__.items=obj.items;_gel(""FEED__MODULE_ID__entries"").innerHTML = """";for (var i = 0; i < obj.items.length; i++) {{FEED__MODULE_ID__.addEntry(obj.items[i].title'obj.items[i].link'i'i'obj.items[i].bodyavailable);}}FEED__MODULE_ID__.page_count=Math.ceil(obj.items.length/FEED__MODULE_ID__.num_items); if (obj.items.length > FEED__MODULE_ID__.num_items){{ds_fgtp(__MODULE_ID__' 1);" is 1141.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "}};FEED__MODULE_ID__.init();setInterval(""FEED__MODULE_ID__.init();ds_fgtp(__MODULE_ID__' FEED__MODULE_ID__.current_page)""' (60 * 15 * 1000));</script>"); " is 155.
Long Statement,Discuz.Space.Entities,RssTemplate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\RssTemplate.cs,GetHtml,The length of the statement  "	//builder.AppendFormat("<script type=\"text/javascript\" src=\"{0}space/javascript/rss.js\"></script>"' ht["forumpath"]); " is 121.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.AuthorAffiliation = xmlnode.Attributes ["author_affiliation"] == null ? "" : xmlnode.Attributes ["author_affiliation"].Value; " is 132.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.AuthorLocation = xmlnode.Attributes ["author_location"] == null ? "" : xmlnode.Attributes ["author_location"].Value; " is 123.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.DirectoryTitle = xmlnode.Attributes ["directory_title"] == null ? "" : xmlnode.Attributes ["directory_title"].Value; " is 123.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.Height = xmlnode.Attributes ["height "] == null ? 200 : Utils.StrToInt (xmlnode.Attributes ["height"].Value' 200); " is 121.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.Scaling = xmlnode.Attributes ["scaling"] == null ? true : Utils.StrToBool (xmlnode.Attributes ["scaling"].Value' true); " is 126.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.Scrolling = xmlnode.Attributes ["scrolling"] == null ? false : Utils.StrToBool (xmlnode.Attributes ["scrolling"].Value' false); " is 134.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.Singleton = xmlnode.Attributes ["singleton"] == null ? true : Utils.StrToBool (xmlnode.Attributes ["singleton"].Value' true); " is 132.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The length of the statement  "	module.AuthorAboutMe = xmlnode.Attributes ["author_aboutme"] == null ? "" : xmlnode.Attributes ["author_aboutme"].Value; " is 120.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadUserPrefs,The length of the statement  "		up.DataType = xmlnode.Attributes ["datatype"] == null ? UserPrefDataType.StringType : ParseUserPrefDataType (xmlnode.Attributes ["datatype"].Value); " is 148.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadUserPrefs,The length of the statement  "		up.Required = xmlnode.Attributes ["required"] == null ? false : Utils.StrToBool (xmlnode.Attributes ["required"].Value' false); " is 127.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,GetUserPrefsTable,The length of the statement  "	StringBuilder sb = new StringBuilder ("<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"95%\" align=\"center\">"); " is 129.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,GetUserPrefsTable,The length of the statement  "			sb.Insert (0' "<script>var listcontrol___MODULE_ID__ = new Array();function checklist___MODULE_ID__() {for (var i = 0; i < listcontrol___MODULE_ID__.length; i ++) {var inputFld = listcontrol___MODULE_ID__[i][0];var checkFunc = listcontrol___MODULE_ID__[i][1];if (inputFld.value &&inputFld.value.length > 0) {if(!checkFunc || checkFunc()) {inputFld.listApp.add();} else {inputFld.focus();inputFld.select();return false;}}}return true;};var checklist_submit___MODULE_ID__ = function(event) {if (!checklist___MODULE_ID__()) {return false;}return this.prev_submit(event);};var reset_list___MODULE_ID__ = function() {this.prev_reset();for (var i = 0; i < this.elements.length; i ++) {if (this.elements[i].listApp) {this.elements[i].listApp.reset();}}};_gel(\"m___MODULE_ID___form\").prev_reset = _gel(\"m___MODULE_ID___form\").reset;_gel(\"m___MODULE_ID___form\").reset = reset_list___MODULE_ID__;if (!_gel(\"m___MODULE_ID___form\").prev_submit) {_gel(\"m___MODULE_ID___form\").prev_submit = _gel(\"m___MODULE_ID___form\").onsubmit;_gel(\"m___MODULE_ID___form\").onsubmit = checklist_submit___MODULE_ID__;}</script>"); " is 1113.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadContent,The length of the statement  "	ct.Type = xmlnode.Attributes ["type"] == null ? ModuleContentType.HtmlInline : ParseContentType (xmlnode.Attributes ["type"].Value); " is 132.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadContent,The length of the statement  "		//ct.ContentHtml = "<script><!--\r\nremote_modules.push(new RemoteModule(\"{0}\"'\"__MODULE_ID__\"'\"{1}\"'\"ifr.aspx?url={0}&nocache=1&mid=__MODULE_ID__&parent={2}\"'false));// -->\r\n</script><div id=remote___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%\"><iframe id=remote_iframe___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%;height:200px;overflow:hidden;\" frameborder=0 scrolling=no></iframe>"; " is 440.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadContent,The length of the statement  "		//<div id="remote_2" style="border: 0px none ; margin: 0px; padding: 0px; width: 100%;"><iframe src="http://offtype.net/google_gadget/gallery_widget.html?lang=en&amp;country=us&amp;.lang=en&amp;.country=us&amp;synd=ig&amp;mid=2&amp;parent=http://www.google.com&amp;libs=xu4k3HB9Ud0/lib/libcore.js" id="remote_iframe_2" style="border: 0px none ; margin: 0px; padding: 0px; overflow: hidden; width: 100%; height: 300px;" frameborder="0" scrolling="no"></iframe></div> " is 465.
Long Statement,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadContent,The length of the statement  "		ct.ContentHtml = string.Format ("<div id=\"remote___MODULE_ID__\" style=\"border: 0px none ; margin: 0px; padding: 0px; width: 100%;\"><iframe src=\"{0}\"  id=\"remote_iframe___MODULE_ID__\" style=\"border: 0px none ; margin: 0px; padding: 0px; overflow: hidden; width: 100%; height: 300px; background: transparent;\" allowtransparency=\"yes\" frameborder=\"0\" scrolling=\"no\"></iframe></div>"' ct.Href + "?{0}"); " is 415.
Long Statement,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogAggRss,The length of the statement  "		rssBuilder.Append (Utils.HtmlEncode (Utils.GetSubString (Utils.RemoveHtml (dr ["content"].ToString ())' 200' "......"))); " is 121.
Long Statement,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogRss,The length of the statement  "	SpacePostInfo[] posts = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().SpacePostsList (20' 1' uid' 1)); " is 125.
Long Statement,Discuz.Space,ss,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\ss.aspx.cs,OutPutTheme,The length of the statement  "				sb.AppendFormat ("<Theme themeid=\"{0}\" name=\"{1}\" directory=\"{2}\" createdate=\"{3}\" copyright=\"{4}\" author=\"{5}\" /> \r\n"' t.ThemeId' t.Name' t.Directory' t.CreateDate' t.CopyRight' t.Author); " is 203.
Long Statement,Discuz.Space,ss,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\ss.aspx.cs,OutPutTheme,The length of the statement  "	//				sb.AppendFormat("<Theme themeid=\"{0}\" name=\"{1}\" directory=\"{2}\" createdate=\"{3}\" copyright=\"{4}\" author=\"{5}\"> \r\n"' ti.ThemeId' ti.Name' ti.Directory' ti.CreateDate' ti.CopyRight' ti.Author); " is 212.
Long Statement,Discuz.Space,viewspacepost,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\viewspacepost.aspx.cs,OnInit,The length of the statement  "		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "功能已被关闭！');document.location = '" + forumurlnopage + "/index.aspx';</script>"); " is 154.
Long Statement,Discuz.Space,viewspacepost,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\viewspacepost.aspx.cs,OnInit,The length of the statement  "		HttpContext.Current.Response.Write ("<script>alert('日志已经被删除！');document.location = 'viewspacepostlist.aspx?spaceid=" + DNTRequest.GetString ("spaceid") + "';</script>"); " is 169.
Long Statement,Discuz.Space,viewpostlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\viewspacepostlist.aspx.cs,OnInit,The length of the statement  "		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "功能已被关闭！');document.location = '" + forumurlnopage + "/index.aspx';</script>"); " is 154.
Long Statement,Discuz.Space,viewpostlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\viewspacepostlist.aspx.cs,OnInit,The length of the statement  "		HttpContext.Current.Response.Write ("<script>alert('日志已经被删除！');document.location = 'viewspacepostlist.aspx?spaceid=" + DNTRequest.GetString ("spaceid") + "';</script>"); " is 169.
Long Statement,Discuz.Space.Manage,ajax,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The length of the statement  "			this.AjaxCallBackForm.Controls.Add (base.LoadControl (ajaxtemplate.EndsWith (".ascx") ? ascxpath + ajaxtemplate : (ascxpath + ajaxtemplate + ".ascx"))); " is 152.
Long Statement,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The length of the statement  "				tempstr += string.Format ("if ($('{0}') != null) $('{0}').innerHTML = '{1}';"' output' RemoteScript.ToJavaScriptString (readerstr)); " is 132.
Long Statement,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,ToJavaScriptString,The length of the statement  "	return str.Replace ("\n"' "").Replace ("\r"' "").Replace (@"\"' @"\\").Replace ("'"' @"\'").Replace ("\""' "\\\"").Replace ("/"' @"\/"); " is 136.
Long Statement,Discuz.Space.Manage,ajaxsubmitcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxsubmitcomment.ascx.cs,Submit_CategoryInfo,The length of the statement  "	SpacePostInfo __spacepostinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid)); " is 124.
Long Statement,Discuz.Space.Manage,ajaxsubmitcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxsubmitcomment.ascx.cs,SendSpaceCommentNotice,The length of the statement  "		SpacePostInfo __spacepostsinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (commentinfo.PostID)); " is 137.
Long Statement,Discuz.Space.Manage,ajaxsubmitcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxsubmitcomment.ascx.cs,SendSpaceCommentNotice,The length of the statement  "				__noticeinfo.Note = Utils.HtmlEncode (string.Format ("<a href=\"userinfo.aspx?userid={0}\">{1}</a> 回复了您的日志信息　<a href =\"viewspacepost.aspx?postid={3}\">{4}</a>."' commentinfo.Uid' commentinfo.Author' config.Spacename' commentinfo.PostID' __spacepostsinfo.Title)); " is 263.
Long Statement,Discuz.Space.Manage,ajaxsubmitcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxsubmitcomment.ascx.cs,SendSpaceCommentNotice,The length of the statement  "				__noticeinfo.Note = Utils.HtmlEncode (string.Format ("<a href=\"userinfo.aspx?userid={0}\">{1}</a> 评论了您的{2}日志　<a href =\"viewspacepost.aspx?postid={3}\">{4}</a>."' commentinfo.Uid' commentinfo.Author' config.Spacename' commentinfo.PostID' __spacepostsinfo.Title)); " is 264.
Long Statement,Discuz.Space.Manage,ajaxbloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglist.ascx.cs,GetCurrentUserSpacePostList,The length of the statement  "	return BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().SpacePostsList (pagesize' currentpage' userid' 1)); " is 127.
Long Statement,Discuz.Space.Manage,ajaxbloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglist.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "usercontrols/ajaxuserbloglist.ascx"' "hidetitle=" + hidetitle + "&spaceid=" + spaceid + "&postnumber=" + DNTRequest.GetInt ("postnumber"' 0)' "ajaxspaceuserbloglist"); " is 232.
Long Statement,Discuz.Space.Manage,ajaxbloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglist.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "usercontrols/ajaxuserbloglist.ascx"' "hidetitle=" + hidetitle + "&spaceid=" + spaceid' "ajaxspaceuserbloglist"); " is 177.
Long Statement,Discuz.Space.Manage,ajaxuserbloglistbydate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglistbydate.ascx.cs,GetCurrentUserSpacePostList,The length of the statement  "	return BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().SpacePostsList (pagesize' currentpage' userid' Convert.ToDateTime (postdate))); " is 155.
Long Statement,Discuz.Space.Manage,ajaxuserbloglistbydate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglistbydate.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "usercontrols/ajaxuserbloglistbydate.ascx"' "hidetitle=" + hidetitle + "&spaceid=" + spaceid + "&postdate=" + postdate + "&postnumber=" + DNTRequest.GetInt ("postnumber"' 0)' "bodyrightcontent"); " is 259.
Long Statement,Discuz.Space.Manage,ajaxuserbloglistbydate,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglistbydate.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "usercontrols/ajaxuserbloglistbydate.ascx"' "hidetitle=" + hidetitle + "&spaceid=" + spaceid + "&postdate=" + postdate' "bodyrightcontent"); " is 204.
Long Statement,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,GetSpaceCommentInfoList,The length of the statement  "	return BlogProvider.GetSpaceCommentInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCommentListByPostid (16' currentpage' postid' true)); " is 139.
Long Statement,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,AjaxPagination,The length of the statement  "	return base.AjaxPagination (recordcount' pagesize' currentpage' "usercontrols/ajaxuserspacecommentlist.ascx"' "postid=" + postid' "usercommentlist"); " is 149.
Long Statement,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,WriteLoadingDiv,The length of the statement  "	__stringBuilder.Append ("<div id=\"" + ajaxdivname + "\" style=\"display:block;position:relative;border:0px; background-color:transparent; margin:4px;valign:middle\">" + ajaxdivcontent + "...</div>\r\n"); " is 204.
Long Statement,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The length of the statement  "		currentpagestr += currentpage > 1 ? "&nbsp;&nbsp;<a href=\"###\"  onclick=\"javascript:AjaxHelper.Updater('" + usercontrolname + "'''" + divname + "'' 'load=true&" + paramstr + "&currentpage=" + pre + "');\" title=\"上一页\">上一页</a>" : ""; " is 236.
Long Statement,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The length of the statement  "			currentpagestr += currentpage == i ? "&nbsp;" + i + "" : "&nbsp;<a href=\"###\"  onclick=\"javascript:AjaxHelper.Updater('" + usercontrolname + "'''" + divname + "'' 'load=true&" + paramstr + "&currentpage=" + i + "');\">" + i + "</a>"; " is 236.
Long Statement,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The length of the statement  "		currentpagestr += currentpage != allcurrentpage ? "&nbsp;&nbsp;<a href=\"###\" onclick=\"javascript:AjaxHelper.Updater('" + usercontrolname + "'''" + divname + "'' 'load=true&" + paramstr + "&currentpage=" + next + "');\" title=\"下一页\">下一页</a>&nbsp;&nbsp;" : ""; " is 262.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,Page_Load,The length of the statement  "		Context.Response.Write ("<script type='text/javascript'>alert('您还未开通" + config.Spacename + "！');window.location='../../';</script>"); " is 133.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "		string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower (); " is 168.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "			sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower (); " is 138.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "							Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150); " is 141.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "							Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100); " is 130.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "							albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0)); " is 129.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "								ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach); " is 138.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "								ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach); " is 135.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "							ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach); " is 138.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ()); " is 135.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "						InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ()); " is 135.
Long Statement,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The length of the statement  "							ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach); " is 138.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetPageHeadMetaContent,The length of the statement  "	return "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\r\n<meta name=\"keywords\" content=\"Discuz!NT'" + config.Spacename + "'Comsenz \" />\r\n<meta name=\"description\" content=\"���Ʒ�ʵĸ��˿ռ�\" />\r\n"; " is 304.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetPageHeadJs,The length of the statement  "	return "<script type=\"text/javascript\" src=\"js/common.js\"></script>\r\n <script type=\"text/javascript\" src=\"js/divcover.js\"></script>\r\n"; " is 147.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,RegisterAdminPageClientScriptBlock,The length of the statement  "	string script = "<div id=\"success\" style=\"position:absolute;z-index:300;height:120px;width:284px;left:50%;top:50%;margin-left:-150px;margin-top:-80px;\">\r\n" + "	<div id=\"Layer2\" style=\"position:absolute;z-index:300;width:270px;height:90px;background-color: #FFFFFF;border:solid #000000 1px;font-size:14px;\">\r\n" + "		<div id=\"Layer4\" style=\"height:26px;background:#D3DBDE;line-height:26px;padding:0px 3px 0px 3px;font-weight:bolder;\">������ʾ</div>\r\n" + "		<div id=\"Layer5\" style=\"height:64px;line-height:150%;padding:0px 3px 0px 3px;\" align=\"center\"><br /><table><tr><td valign=top><img border=\"0\" src=\"images/ajax_loading.gif\"  /></td><td valign='middle' style=\"font-size: 14px;\" >����ִ�е�ǰ����' ���Ե�...<br /></td></tr></table><br /></div>\r\n" + "	</div>\r\n" + "	<div id=\"Layer3\" style=\"position:absolute;width:270px;height:90px;z-index:299;left:4px;top:5px;background-color: #E8E8E8;\"></div>\r\n" + "</div>\r\n" + "<script> \r\n" + "document.getElementById('success').style.display = \"none\"; \r\n" + "</script> \r\n" + "<script type=\"text/javascript\" src=\"js/divcover.js\"></script>\r\n"; " is 1130.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,RegisterStartupScript,The length of the statement  "			script = "<script> \r\n" + "var bar=0;\r\n" + "document.getElementById('success').style.display = \"block\";  \r\n" + "document.getElementById('Layer5').innerHTML ='<BR>�����ɹ�ִ��<BR>';  \r\n" + "count() ; \r\n" + "function count(){ \r\n" + "bar=bar+4; \r\n" + "if (bar<99) \r\n" + "{setTimeout(\"count()\"'100);} \r\n" + "else { \r\n" + "document.getElementById('success').style.display = \"none\";HideOverSels('success'); \r\n" + scriptstr + "} \r\n" + "} \r\n" + "</script> \r\n" + "<script> window.onload = function(){HideOverSels('success')};</script>\r\n"; " is 562.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,RegisterStartupScript,The length of the statement  "			script = "<script> \r\n" + "var bar=0;\r\n success.style.display = \"block\";  \r\n" + "document.getElementById('Layer5').innerHTML = '<BR>" + scriptstr + "<BR>';  \r\n" + "count() ; \r\n" + "function count(){ \r\n" + "bar=bar+4; \r\n" + "if (bar<99) \r\n" + "{setTimeout(\"count()\"'100);} \r\n" + "else { \r\n" + "document.getElementById('success').style.display = \"none\";HideOverSels('success'); \r\n" + "}} \r\n" + "</script> \r\n" + "<script> window.onload = function(){HideOverSels('success')};</script>\r\n"; " is 517.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetShowMessage,The length of the statement  "	string message = "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">"; " is 145.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetShowMessage,The length of the statement  "	message += "<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><title>��û��Ȩ�����е�ǰ����!</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">"; " is 170.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetShowMessage,The length of the statement  "	message += "<link href=\"styles/default.css\" type=\"text/css\" rel=\"stylesheet\"></head><body><br><br><div style=\"width:100%\" align=\"center\">"; " is 149.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,GetShowMessage,The length of the statement  "	message += "<div align=\"center\" style=\"width:660px; border:1px dotted #FF6600; background-color:#FFFCEC; margin:auto; padding:20px;\"><img src=\"images/hint.gif\" border=\"0\" alt=\"��ʾ:\" align=\"absmiddle\" width=\"11\" height=\"13\" /> &nbsp;"; " is 250.
Long Statement,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,LoadRegisterStartupScript,The length of the statement  "	string script = "<script> \r\n" + "var bar=0;\r\n success.style.display = \"block\";  \r\n" + "document.getElementById('Layer5').innerHTML ='" + message + "';  \r\n" + "count() ; \r\n" + "function count(){ \r\n" + "bar=bar+2; \r\n" + "if (bar<99) \r\n" + "{setTimeout(\"count()\"'100);} \r\n" + "else { \r\n" + "	document.getElementById('success').style.display = \"none\";HideOverSels('success'); \r\n" + scriptstr + "} \r\n" + "} \r\n" + "</script> \r\n" + "<script> window.onload = function(){HideOverSels('success')};</script>\r\n"; " is 536.
Long Statement,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The length of the statement  "			HttpContext.Current.Response.Write ("<script>alert('当前用户未开通" + spacename + "！');document.location = '" + forumurl + "';</script>"); " is 131.
Long Statement,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The length of the statement  "				tabformat += @"<li id=""tab{0}_edit"" class=""tab edittab selectedtab"" style=""display:none"" onclick=""_gel('tab{0}_title').focus();"" onmouseover=""_disable_onblur=true;"" onmouseout=""_disable_onblur=false;""><script>_disable_onblur = false;</script><form id=""tab{0}_rename_form"" name=""tab{0}_rename_form"" onsubmit=""return _renameTab();""><span><input id=""tab{0}_title"" name=""tab_title"" value=""{1}"" onblur=""_disable_onblur ? void(0) : _renameTab();"">"; " is 469.
Long Statement,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The length of the statement  "					tabformat += @"<a href=""#"" onclick=""if (confirm('您确定要删除 &quot;TAB_NAME&quot; 页面及其所有内容吗?'.replace('TAB_NAME'' _editedTabName()))) {{_dlsetp('dt={0}');}}return false;""><img src=""" + BaseConfigs.GetForumPath + "space/images/clear.gif\" border=\"0\" /></a>"; " is 259.
Long Statement,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The length of the statement  "			tabsHtml.AppendFormat (/*"<li id=\"tab{0}_view\" class=\"tab unselectedtab\" style=\"display:block\" onclick=\"_dlsetp('ct={0}')\"><span id=\"tab{0}_view_title\">{1}</span></li>"*/tabformat' tab.TabID' tab.TabName); " is 215.
Long Statement,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The length of the statement  "		template = "<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\" id=\"t_1\"><tr><td style=\"width: 67%;\" id=\"col_1\" class=\"col\">{pane1}</td></tr></table><script>alert('您选择的板式不存在或者已经被删除，请重新选择板式。');</script>"; " is 234.
Long Statement,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The length of the statement  "		spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid)); " is 135.
Long Statement,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The length of the statement  "		spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid)); " is 135.
Long Statement,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The length of the statement  "		if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) { " is 122.
Long Statement,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The length of the statement  "					Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ()); " is 126.
Long Statement,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The length of the statement  "		SpaceLinkInfo __spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid)); " is 132.
Long Statement,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The length of the statement  "		if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) { " is 122.
Long Statement,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The length of the statement  "					Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ()); " is 126.
Long Statement,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The length of the statement  "	newtopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.PostDateTime' false' false); " is 141.
Long Statement,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The length of the statement  "	hottopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.Views' false' false); " is 134.
Long Statement,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The length of the statement  "	recentupdatespacelist = AggregationFacade.SpaceAggregation.GetRecentUpdateSpaceList (AggregationConfig.GetConfig ().RecentUpdateSpaceAggregationListCount); " is 155.
Long Statement,Discuz.Space.Pages,spaceindex,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceindex.cs,ShowPage,The length of the statement  "	newtopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.PostDateTime' false' false); " is 141.
Long Statement,Discuz.Space.Pages,spaceindex,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceindex.cs,ShowPage,The length of the statement  "	hottopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.Views' false' false); " is 134.
Long Statement,Discuz.Space.Pages,spaceindex,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceindex.cs,ShowPage,The length of the statement  "	recentupdatespaceList = AggregationFacade.SpaceAggregation.GetRecentUpdateSpaceList (AggregationConfig.GetConfig ().RecentUpdateSpaceAggregationListCount); " is 155.
Long Statement,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The length of the statement  "			if (spaceactiveconfig.AllowPostcount == "1" || spaceactiveconfig.AllowDigestcount == "1" || spaceactiveconfig.AllowScore == "1" || spaceactiveconfig.AllowUsergroups == "1") { " is 174.
Long Statement,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The length of the statement  "		else if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) { " is 182.
Long Statement,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The length of the statement  "		//sFilename = Path.GetFileNameWithoutExtension(uploadFile.FileName) + file_append.ToString() + Path.GetExtension(uploadFile.FileName).ToLower(); " is 144.
Long Statement,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The length of the statement  "	if (Common.Utils.InArray (Path.GetExtension (uploadFile.FileName).ToLower ()' ".jpg'.jpeg'.gif'.png") && createThumbnailImage) { " is 128.
Long Statement,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The length of the statement  "			Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150); " is 141.
Long Statement,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The length of the statement  "			Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100); " is 130.
Long Statement,Discuz.Space.Admin,AjaxSpaceInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspaceinfo.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "../usercontrols/ajaxspaceinfo.ascx"' "poster=" + posterlist + "&title=" + keylist + "&postdatetimeStart:postdatetimeStart=" + startdate + "&postdatetimeEnd:postdatetimeEnd=" + enddate + "&postnumber=" + DNTRequest.GetInt ("postnumber"' 0)' "spacelistgrid"); " is 322.
Long Statement,Discuz.Space.Admin,AjaxSpaceInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspaceinfo.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "../usercontrols/ajaxspaceinfo.ascx"' "poster=" + posterlist + "&title=" + keylist + "&postdatetimeStart:postdatetimeStart=" + startdate + "&postdatetimeEnd:postdatetimeEnd=" + enddate' "spacelistgrid"); " is 267.
Long Statement,Discuz.Space.Admin,AjaxSpacePostInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspacepostinfo.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "../usercontrols/ajaxspacepostinfo.ascx"' "poster=" + posterlist + "&title=" + keylist + "&postdatetimeStart:postdatetimeStart=" + startdate + "&postdatetimeEnd:postdatetimeEnd=" + enddate + "&postnumber=" + DNTRequest.GetInt ("postnumber"' 0)' "postlistgrid"); " is 325.
Long Statement,Discuz.Space.Admin,AjaxSpacePostInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspacepostinfo.ascx.cs,AjaxPagination,The length of the statement  "		return base.AjaxPagination (recordcount' pagesize' currentpage' "../usercontrols/ajaxspacepostinfo.ascx"' "poster=" + posterlist + "&title=" + keylist + "&postdatetimeStart:postdatetimeStart=" + startdate + "&postdatetimeEnd:postdatetimeEnd=" + enddate' "postlistgrid"); " is 270.
Long Statement,Discuz.Space.Admin,EditModuleDef,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\editmoduledef.aspx.cs,BindData,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,EditModuleDef,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\editmoduledef.aspx.cs,btnSave_Click,The length of the statement  "				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,EditModuleDef,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\editmoduledef.aspx.cs,btnSave_Click,The length of the statement  "						base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,BindData,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,btnAdd_Click,The length of the statement  "				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,btnAdd_Click,The length of the statement  "				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,DataGrid1_UpdateCommand,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,DataGrid1_UpdateCommand,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,DataGrid1_DeleteCommand,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefCategoryManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefcategorymanage.aspx.cs,DataGrid1_DeleteCommand,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,The length of the statement  "		//				<a runat="server" id="enablemoduledef" href="###" onclick="document.getElementById('url<%#DataBinder.Eval(Container' "DataItem.url").ToString()%>').checked=true;submitDeleteApply();">��Ϊ��Ч</a> " is 199.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,The length of the statement  "			dr ["moduledefop"] = string.Format ("<a href=\"space_editmoduledef.aspx?url={0}\">�༭</a>&nbsp;<a href=\"#\" onclick=\"document.getElementById('url{0}').checked=true;submitDeleteApply();\">��Ϊ��Ч</a>"' moduleurl); " is 212.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,The length of the statement  "					dr ["moduledefop"] = string.Format ("<a href=\"?mod=refresh&url={0}\">ˢ��</a>&nbsp;<a href=\"#\" onclick=\"document.getElementById('url{0}').checked=true;submitDeleteApply();\">��Ϊ��Ч</a>"' moduleurl); " is 201.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,BindGridData,The length of the statement  "				dr ["moduledefop"] = string.Format ("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a runat=\"server\" href=\"###\" onclick=\"document.getElementById('url{0}').checked=true;submitAddApply();\">��Ϊ��Ч</a>"' moduleurl); " is 213.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The length of the statement  "					string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("(")); " is 147.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The length of the statement  "						base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ģ�����ƻ��������Ϊ�յ�ģ��δ�����');window.location.href='space_moduledefmanage.aspx';</script>"); " is 141.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,DeleteApply_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,DeleteApply_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>"); " is 146.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "	XmlNodeList postlistNode = doc.SelectNodes ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacearticlelist/Article"); " is 154.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "	XmlNodeList index_spacelistnode = doc.SelectNodes ("/Aggregationinfo/Aggregationpage/" + pagename + "/" + pagename + "_spacearticlelist/Article"); " is 146.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "		postlist.Text += "<div class='mo' id='m" + i + "' flag='f" + i + "'><h1><input type='checkbox' name='pid' " + (isCheck ? "checked" : "") + " value='" + data_postvisitor ["postid"] + "'>" + data_postvisitor ["title"] + "</h1></div>\n"; " is 234.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		doc.RemoveNodeAndChildNode ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacearticlelist"); " is 130.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		XmlNode data_spacearticlelistnode = doc.InitializeNode ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacearticlelist"); " is 158.
Long Statement,Discuz.Space.Admin,PostAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\postaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		XmlNode pagearticlelistnode = doc.InitializeNode ("/Aggregationinfo/Aggregationpage/" + pagename + "/" + pagename + "_spacearticlelist"); " is 137.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "	XmlNodeList data_spacelistNode = doc.SelectNodes ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacelist/Space"); " is 151.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "	XmlNodeList index_spacelistnode = doc.SelectNodes ("/Aggregationinfo/Aggregationpage/" + pagename + "/" + pagename + "_spacelist/Space"); " is 137.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,LoadWebSiteConfig,The length of the statement  "		spacelist.Text += "<div class='mo' id='m" + i + "' flag='f" + i + "'><h1><input type='checkbox' name='sid' " + (isCheck ? "checked" : "") + " value='" + dataspacevisitor ["spaceid"] + "'>" + dataspacevisitor ["title"] + "</h1></div>\n"; " is 236.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		doc.RemoveNodeAndChildNode ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacelist"); " is 123.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		XmlNode data_spacelistnode = doc.InitializeNode ("/Aggregationinfo/Aggregationdata/" + pagename + "aggregationdata/" + pagename + "_spacelist"); " is 144.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,SaveTopic_Click,The length of the statement  "		XmlNode pagelistnode = doc.InitializeNode ("/Aggregationinfo/Aggregationpage/" + pagename + "/" + pagename + "_spacelist"); " is 123.
Long Statement,Discuz.Space.Admin,SpaceAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceaggset.aspx.cs,SaveTopic_Click,The length of the statement  "			doc.AppendChildElementByNameValue (ref space' "description"' Utils.RemoveHtml (dr ["description"].ToString ().Trim ())' true); " is 126.
Long Statement,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The length of the statement  "			//sql = "INSERT INTO [" + BaseConfigs.GetTablePrefix + "spacetabs] ([uid]'[displayorder]' [tabname]' [iconfile]'[template])  VALUES(" + uid + "'0''默认''''''template_25_75.htm');SELECT SCOPE_IDENTITY()"; " is 201.
Long Statement,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The length of the statement  "			//AdminDatabase.ExecuteNonQuery("INSERT INTO [" + BaseConfigs.GetTablePrefix + "pms] (msgfrom'msgfromid'msgto'msgtoid'folder'new'subject'postdatetime'message) VALUES ('" + username + "'''" + userid + "'''" + msgto.Replace("'"' "''") + "'''" + uid + "'''0'''1'''" + subject + "'''" + curdatetime + "'''" + message + "')"); " is 321.
Long Statement,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The length of the statement  "			//AdminDatabase.ExecuteNonQuery("UPDATE [" + BaseConfigs.GetTablePrefix + "users] SET [newpmcount]=[newpmcount]+1  WHERE [uid] =" + uid); " is 137.
Long Statement,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('请选择要开通的空间!');window.location.href='space_spaceapplymanage.aspx';</script>"); " is 124.
Long Statement,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,DeleteApply_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('请选择要删除的空间!');window.location.href='space_spaceapplymanage.aspx';</script>"); " is 124.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text = "<select onchange=\"document.getElementById('" + targetId + "').value=this.value\">\n<option value=\"\">请选择</option>\n"; " is 134.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"51200\">50K</option>\n<option value=\"102400\">100K</option>\n<option value=\"153600\">150K</option>\n"; " is 136.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"204800\">200K</option>\n<option value=\"256000\">250K</option>\n<option value=\"307200\">300K</option>\n"; " is 138.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"358400\">350K</option>\n<option value=\"409600\">400K</option>\n<option value=\"512000\">500K</option>\n"; " is 138.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"614400\">600K</option>\n<option value=\"716800\">700K</option>\n<option value=\"819200\">800K</option>\n"; " is 138.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"921600\">900K</option>\n<option value=\"1024000\">1M</option>\n<option value=\"2048000\">2M</option>\n"; " is 136.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"4096000\">4M</option>\n<option value=\"6144000\">6M</option>\n<option value=\"8192000\">8M</option>\n"; " is 135.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"10240000\">10M</option>\n<option value=\"12288000\">12M</option>\n<option value=\"14336000\">14M</option>\n"; " is 141.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"16384000\">16M</option>\n<option value=\"18432000\">18M</option>\n<option value=\"20480000\">20M</option>\n"; " is 141.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,GetTD,The length of the statement  "	select.Text += "<option value=\"22528000\">22M</option>\n<option value=\"24576000\">24M</option>\n<option value=\"26624000\">26M</option>\n"; " is 141.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('论坛发帖数超过输入错误'请检查');window.location.href='space_spaceapplysetting.aspx';</script>"); " is 130.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('论坛精华帖数输入错误'请检查');window.location.href='space_spaceapplysetting.aspx';</script>"); " is 129.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('论坛用户积分输入错误'请检查');window.location.href='space_spaceapplysetting.aspx';</script>"); " is 129.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,The length of the statement  "				base.RegisterStartupScript (""' "<script>alert('输入错误'空间附件最大空间只能是0或者正整数');window.location.href='space_spaceapplysetting.aspx';</script>"); " is 137.
Long Statement,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,Submit_Click,The length of the statement  "			Discuz.Entity.UserGroupInfo __usergroupinfo = AdminUserGroups.AdminGetUserGroupInfo (Convert.ToInt32 (dr ["groupid"].ToString ())); " is 131.
Long Statement,Discuz.Space.Admin,SpaceFooterInfoPage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacefooterinfo.aspx.cs,SaveInfo_Click,The length of the statement  "		if (!Utils.IsNumeric (topictoblog.Text) || Convert.ToInt32 (topictoblog.Text) > 10 || Convert.ToInt32 (topictoblog.Text) < 0) { " is 127.
Long Statement,Discuz.Space.Admin,SpaceFooterInfoPage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacefooterinfo.aspx.cs,SaveInfo_Click,The length of the statement  "			base.RegisterStartupScript ("PAGE"' "alert('�Զ�������־����ȡֵ������0~10֮��');window.location='space_spacefooterinfo.aspx';"); " is 124.
Long Statement,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,ValidateCount,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ҳ���и�����ȡ�����������0��');window.location.href='aggregation_spaceindexaggset.aspx';</script>"); " is 145.
Long Statement,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,ValidateTimeout,The length of the statement  "		base.RegisterStartupScript (""' "<script>alert('ҳ���и�����ȡ����ʱ�������10��300����֮��');window.location.href='aggregation_spaceindexaggset.aspx';</script>"); " is 157.
Long Statement,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,BindData,The length of the statement  "	//string dateStart = joindateStart.SelectedDate.ToString().IndexOf("1900") >= 0 ? "" : joindateStart.SelectedDate.ToString(); " is 125.
Long Statement,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,BindData,The length of the statement  "	//string dateEnd = joindateEnd.SelectedDate.AddDays(1).ToString().IndexOf("1900") >= 0 ? "" : joindateEnd.SelectedDate.AddDays(1).ToString(); " is 141.
Long Statement,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,BindData,The length of the statement  "	string dateEnd = joindateEnd.SelectedDate.AddDays (1).ToString ().IndexOf ("1900") >= 0 ? DateTime.Now.AddDays (1).ToString () : joindateEnd.SelectedDate.AddDays (1).ToString (); " is 178.
Long Statement,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,buildGridData,The length of the statement  "	DataTable dt = DbProvider.GetInstance ().GetSpaceList (DataGrid1.PageSize' DataGrid1.CurrentPageIndex + 1' username' dateStart' dateEnd); " is 137.
Long Statement,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,DeleteSpace_Click,The length of the statement  "			base.RegisterStartupScript ("PAGE"' "alert('请选择相应的用户!');window.location.href='global_usergrid.aspx?condition=" + DNTRequest.GetString ("condition") + "';"); " is 156.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,DelRec_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('您未选中任何选项');window.location.href='space_spacethemegrid.aspx?themeid=" + DNTRequest.GetInt ("themeid"' 0) + "';</script>"); " is 169.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,EditTheme_Click,The length of the statement  "		DbProvider.GetInstance ().UpdateSpaceThemeInfo (Utils.StrToInt (o' 0)' themesgrid.GetControlValue (row' "name")' themesgrid.GetControlValue (row' "author")' themesgrid.GetControlValue (row' "copyright")); " is 204.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,EditTheme_Click,The length of the statement  "	base.RegisterStartupScript (""' "<script>window.location.href='space_spacethemegrid.aspx?themeid=" + DNTRequest.GetInt ("themeid"' 0) + "';</script>"); " is 151.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<tr onmouseover=\"this.className='mouseoverstyle'\" onmouseout=\"this.className='mouseoutstyle'\" style=\"cursor:hand;\">\n"; " is 148.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='checkbox' id='id" + i + "' name='id" + i + "' value='" + i + "'/></td>\n"; " is 196.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='text' id='themename" + i + "' name='themename" + i + "' value='" + (themeInfo.name == "" ? dir : themeInfo.name) + "' size='10' /></td>\n"; " is 261.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='hidden' name='dirname" + i + "' value='" + dir + "' />" + dir + "</td>\n"; " is 196.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='text' name='author" + i + "' value='" + (themeInfo.author == "" ? username : themeInfo.author) + "' size='10' /></td>\n"; " is 243.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='text' name='createdate" + i + "' value='" + (themeInfo.createdate == "" ? DateTime.Now.ToShortDateString () : themeInfo.createdate) + "' size='10'></td>\n"; " is 278.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><input type='text' name='copyright" + i + "' value='" + (themeInfo.copyright == "" ? "版权归" + username + "所有" : themeInfo.copyright) + "' size='30'></td>\n"; " is 265.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<td nowrap='nowrap' style='border-color:#EAE9E1;border-width:1px;border-style:solid;'><span id='layerimg" + i + "' onmouseover='showMenu(this.id' 0' 0' 1' 0);' >预览</span>\n"; " is 197.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,BindThemesList,The length of the statement  "		themeInfoList.Text += "<img src='../../space/skins/themes/" + dir + "/about.png' onerror=\"this.src='../../images/common/none.gif'\"/></div></td>\n"; " is 149.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,SubmitButton_Click,The length of the statement  "				DbProvider.GetInstance ().AddSpaceTheme (DNTRequest.GetFormString ("dirname" + i)' DNTRequest.GetFormString ("themename" + i)' type' DNTRequest.GetFormString ("author" + i)' DNTRequest.GetFormString ("createdate" + i)' DNTRequest.GetFormString ("copyright" + i)); " is 263.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,SubmitButton_Click,The length of the statement  "				base.RegisterStartupScript (""' "<script>alert('增加主题时发生错误！');window.location.href='space_spacethemegrid.aspx?themeid=" + DNTRequest.GetInt ("themeid"' 0) + "';</script>"); " is 171.
Long Statement,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,SubmitButton_Click,The length of the statement  "	base.RegisterStartupScript (""' "<script>window.location.href='space_spacethemegrid.aspx?themeid=" + DNTRequest.GetInt ("themeid"' 0) + "';</script>"); " is 151.
Long Statement,Discuz.Space.Admin,SpaceThemeManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethememanage.aspx.cs,SubmitButton_Click,The length of the statement  "		base.RegisterStartupScript ("alert"' "<script type='text/javascript'>alert('����������Ʋ���Ϊ��');window.location.href='space_spacethememanage.aspx';</script>"); " is 159.
Long Statement,Discuz.Space.Admin,SpaceThemeManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethememanage.aspx.cs,SubmitButton_Click,The length of the statement  "		base.RegisterStartupScript ("alert"' "<script type='text/javascript'>alert('������������Ѿ�����');window.location.href='space_spacethememanage.aspx';</script>"); " is 160.
Long Statement,Discuz.Space.Admin,SpaceThemeManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethememanage.aspx.cs,SubmitButton_Click,The length of the statement  "	DbProvider.GetInstance ().AddSpaceTheme (string.Empty' themeName.Text' 0' string.Empty' Utils.GetDate ()' string.Empty); " is 120.
Long Statement,Discuz.Space.Admin,SpaceThemeManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethememanage.aspx.cs,SaveTheme_Click,The length of the statement  "			base.RegisterStartupScript (""' "<script>alert('ĳЩ��¼ȡֵ�Ƿ���δ�ܱ����£�');window.location.href='space_spacethememanage.aspx';</script>"); " is 135.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,editPost,The length of the statement  "	Entity.SpacePostInfo spacepostinfo = Discuz.Space.Provider.BlogProvider.GetSpacepostsInfo (DbProvider.GetInstance ().GetSpacePost (int.Parse (postid))); " is 152.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,getPost,The length of the statement  "	Entity.SpacePostInfo spacepostinfo = Discuz.Space.Provider.BlogProvider.GetSpacepostsInfo (DbProvider.GetInstance ().GetSpacePost (int.Parse (postid))); " is 152.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The length of the statement  "	string sSavePath = Utils.GetMapPath (BaseConfigs.GetForumPath + "space/upload/" + ((FTPs.GetSpaceAttachInfo.Allowupload == 1 && FTPs.GetSpaceAttachInfo.Reservelocalattach == 0) ? "temp/" : fileDatePath)); " is 204.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The length of the statement  "	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (mediaObject.name).ToLower (); " is 169.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The length of the statement  "		sFilename = Path.GetFileNameWithoutExtension (mediaObject.name) + file_append.ToString () + Path.GetExtension (mediaObject.name).ToLower (); " is 140.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The length of the statement  "					ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach); " is 130.
Long Statement,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The length of the statement  "						ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach); " is 154.
Complex Conditional,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The conditional expression  "(fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")"  is complex.
Complex Conditional,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The conditional expression  "spaceConfig == null || sui == null || spaceConfig.Status != SpaceStatusType.Natural || sui.Spaceid <= 0"  is complex.
Complex Conditional,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The conditional expression  "spaceactiveconfig.AllowPostcount == "1" || spaceactiveconfig.AllowDigestcount == "1" || spaceactiveconfig.AllowScore == "1" || spaceactiveconfig.AllowUsergroups == "1""  is complex.
Complex Conditional,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The conditional expression  "(fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")"  is complex.
Empty Catch Block,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The method has an empty catch block.
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetDateSpanParms,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (startdate))  	parms [0] = DbHelper.MakeInParam ("@startdate"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (startdate));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetDateSpanParms,The following statement contains a magic number: parms [0] = DbHelper.MakeInParam ("@startdate"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (startdate));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetDateSpanParms,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (enddate))  	parms [1] = DbHelper.MakeInParam ("@enddate"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (enddate).AddDays (1));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetDateSpanParms,The following statement contains a magic number: parms [1] = DbHelper.MakeInParam ("@enddate"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (enddate).AddDays (1));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePhotoCountByAlbumId,The following statement contains a magic number: return TypeConverter.ObjectToInt (DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT(1) FROM [{0}photos] WHERE [albumid]=@albumid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@albumid"' (DbType)SqlDbType.Int' 4' albumid)));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpaceVisitedTimesByUserID,The following statement contains a magic number: DbHelper.ExecuteNonQuery (CommandType.Text' commandText' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentList,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid);  	string ordertype = orderbyASC ? "ASC" : "DESC";  	int pageTop = (currentPage - 1) * pageSize;  	string commandText = "";  	if (currentPage == 1) {  		commandText = string.Format (@"SELECT TOP {0} [sc].* FROM                           [{1}spacecomments] AS [sc]' [{1}spaceposts] AS [sp] WHERE [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {2}"' pageSize' BaseConfigs.GetTablePrefix' ordertype);  	}  	else {  		if (!orderbyASC) {  			commandText = string.Format (@"SELECT TOP {0} [sc].* FROM                              [{1}spacecomments] AS [sc]' [{1}spaceposts] AS [sp] WHERE [commentid] < (SELECT min([commentid])  FROM                               (SELECT TOP {2} [sc1].[commentid] FROM [{1}spacecomments] AS [sc1]' [{1}spaceposts] AS [sp1] WHERE                              [sc1].[postid]=[sp1].[postid] AND [sp1].[uid]=@userid ORDER BY [sc1].[commentid] {3}) AS tblTmp ) AND [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype);  		}  		else {  			commandText = string.Format (@"SELECT TOP {0} [sc].* FROM                              [{1}spacecomments] AS [sc]' [{1}spaceposts] AS [sp] WHERE [commentid] > (SELECT MAX([commentid])  FROM                              (SELECT TOP {2} [commentid] FROM [{1}spacecomments] AS [sc1]' [{1}spaceposts] AS [sp1] WHERE                              [sc1].[postid]=[sp1].[postid] AND [sp1].[uid]=@userid ORDER BY [commentid] {3}) AS tblTmp ) AND [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid ORDER BY [sc].[commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype);  		}  	}  	return DbHelper.ExecuteDataset (CommandType.Text' commandText' parm).Tables [0];  }  catch {  	return new DataTable ();  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentListByPostid,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid);  	string ordertype = orderbyASC ? "ASC" : "DESC";  	int pageTop = (currentPage - 1) * pageSize;  	string commandText = "";  	if (currentPage == 1)  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {2}"' pageSize' BaseConfigs.GetTablePrefix' ordertype);  	else {  		if (!orderbyASC)  			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [commentid] < (SELECT min([commentid])  FROM " + "(SELECT TOP {2} [commentid] FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {3}) AS tblTmp ) AND [postid]=@postid ORDER BY [commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype);  		else  			commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecomments] WHERE [commentid] > (SELECT MAX([commentid])  FROM " + "(SELECT TOP {2} [commentid] FROM [{1}spacecomments] WHERE [postid]=@postid ORDER BY [commentid] {3}) AS tblTmp ) AND [postid]=@postid ORDER BY [commentid] {3}"' pageSize' BaseConfigs.GetTablePrefix' pageTop' ordertype);  	}  	return DbHelper.ExecuteDataset (CommandType.Text' commandText' parm).Tables [0];  }  catch {  	return new DataTable ();  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCount,The following statement contains a magic number: try {  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([sc].[commentid]) FROM [{0}spacecomments] AS [sc]' [{0}spaceposts] AS [sp] WHERE [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCount,The following statement contains a magic number: return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([sc].[commentid]) FROM [{0}spacecomments] AS [sc]' [{0}spaceposts] AS [sp] WHERE [sc].[postid]=[sp].[postid] AND [sp].[uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCountByPostid,The following statement contains a magic number: try {  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([commentid]) FROM [{0}spacecomments] WHERE [postid]=@postid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid));  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCommentsCountByPostid,The following statement contains a magic number: return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([commentid]) FROM [{0}spacecomments] WHERE [postid]=@postid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE uid=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE uid=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	DbParameter[] parms =  {  		DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)'  		DbHelper.MakeInParam ("@poststatus"' (DbType)SqlDbType.Int' 4' poststatus)  	};  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus"' BaseConfigs.GetTablePrefix)' parms);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	DbParameter[] parms =  {  		DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)'  		DbHelper.MakeInParam ("@poststatus"' (DbType)SqlDbType.Int' 4' poststatus)  	};  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus"' BaseConfigs.GetTablePrefix)' parms);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	DbParameter[] parms =  {  		DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)'  		DbHelper.MakeInParam ("@poststatus"' (DbType)SqlDbType.Int' 4' poststatus)'  		DbHelper.MakeInParam ("@postdatetime"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (postdatetime))  	};  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus AND DATEDIFF(d' @postdatetime' postdatetime) = 0"' BaseConfigs.GetTablePrefix)' parms);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	DbParameter[] parms =  {  		DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)'  		DbHelper.MakeInParam ("@poststatus"' (DbType)SqlDbType.Int' 4' poststatus)'  		DbHelper.MakeInParam ("@postdatetime"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (postdatetime))  	};  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus AND DATEDIFF(d' @postdatetime' postdatetime) = 0"' BaseConfigs.GetTablePrefix)' parms);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostsCount,The following statement contains a magic number: try {  	DbParameter[] parms =  {  		DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid)'  		DbHelper.MakeInParam ("@poststatus"' (DbType)SqlDbType.Int' 4' poststatus)'  		DbHelper.MakeInParam ("@postdatetime"' (DbType)SqlDbType.DateTime' 8' DateTime.Parse (postdatetime))  	};  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([postid]) FROM [{0}spaceposts] WHERE [uid]=@userid AND [poststatus]=@poststatus AND DATEDIFF(d' @postdatetime' postdatetime) = 0"' BaseConfigs.GetTablePrefix)' parms);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,CountUserSpacePostByUserID,The following statement contains a magic number: DbHelper.ExecuteNonQuery (CommandType.Text' string.Format ("UPDATE [{0}spaceposts] SET [views] = [views] + 1 WHERE [postid] = @postid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@postid"' (DbType)SqlDbType.Int' 4' postid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryList,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid);  	int pageTop = (currentPage - 1) * pageSize;  	string commandText = "";  	if (currentPage == 1)  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecategories] WHERE uid=@userid ORDER BY [categoryid] DESC"' pageSize' BaseConfigs.GetTablePrefix);  	else  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacecategories] WHERE [categoryid] < (SELECT min([categoryid])  FROM " + "(SELECT TOP {2} [categoryid] FROM [{1}spacecategories] WHERE [uid]=@userid ORDER BY [categoryid] DESC) AS tblTmp ) AND [uid]=@userid ORDER BY [categoryid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop);  	return DbHelper.ExecuteDataset (CommandType.Text' commandText' parm).Tables [0];  }  catch {  	return new DataTable ();  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryCount,The following statement contains a magic number: try {  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([categoryid]) FROM [{0}spacecategories] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCategoryCount,The following statement contains a magic number: return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([categoryid]) FROM [{0}spacecategories] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentList,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid);  	int pageTop = (currentPage - 1) * pageSize;  	string commandText = "";  	if (currentPage == 1)  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceattachments] WHERE [uid]=@userid ORDER BY [aid] DESC"' pageSize' BaseConfigs.GetTablePrefix);  	else {  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spaceattachments] WHERE [aid] < (SELECT min([aid])  FROM " + "(SELECT TOP {2} [aid] FROM [{1}spaceattachments] WHERE [uid]=@userid ORDER BY [aid] DESC) AS tblTmp ) AND [uid]=@userid ORDER BY [aid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop);  	}  	return DbHelper.ExecuteDataset (CommandType.Text' commandText' parm).Tables [0];  }  catch {  	return new DataTable ();  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentCount,The following statement contains a magic number: try {  	return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([aid]) FROM [{0}spaceattachments] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceAttachmentCount,The following statement contains a magic number: return (int)DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT([aid]) FROM [{0}spaceattachments] WHERE [uid]=@userid"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid));  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkCount,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid);  	return (int)DbHelper.ExecuteScalar (CommandType.Text' "SELECT COUNT([linkid]) FROM [" + BaseConfigs.GetTablePrefix + "spacelinks] WHERE [userid]=@userid"' parm);  }  catch {  	return 0;  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceLinkList,The following statement contains a magic number: try {  	DbParameter parm = DbHelper.MakeInParam ("@userid"' (DbType)SqlDbType.Int' 4' userid);  	int pageTop = (currentPage - 1) * pageSize;  	string commandText = "";  	if (currentPage == 1) {  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacelinks] WHERE [userid]=@userid ORDER BY [linkid] DESC"' pageSize' BaseConfigs.GetTablePrefix);  	}  	else {  		commandText = string.Format ("SELECT TOP {0} * FROM [{1}spacelinks] WHERE [linkid] < (SELECT min([linkid])  FROM " + "(SELECT TOP {2} [linkid] FROM [{1}spacelinks] WHERE [userid]=@userid ORDER BY [linkid] DESC) AS tblTmp ) AND [userid]=@userid ORDER BY [linkid] DESC"' pageSize' BaseConfigs.GetTablePrefix' pageTop);  	}  	return DbHelper.ExecuteDataset (CommandType.Text' commandText' parm).Tables [0];  }  catch {  	return new DataTable ();  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,IsThemeExist,The following statement contains a magic number: return TypeConverter.ObjectToInt (DbHelper.ExecuteScalar (CommandType.Text' string.Format ("SELECT COUNT(*) FROM [{0}spacethemes] WHERE name=@name"' BaseConfigs.GetTablePrefix)' DbHelper.MakeInParam ("@name"' (DbType)SqlDbType.NVarChar' 50' name))) > 0;  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetAlbumListCondition,The following statement contains a magic number: if (descriptionlist != "") {  	string tempdescriptionlist = "";  	foreach (string description in descriptionlist.Split (''')) {  		tempdescriptionlist += " [description] LIKE '%" + RegEsc (description) + "%' OR";  	}  	tempdescriptionlist = tempdescriptionlist.Substring (0' tempdescriptionlist.Length - 2);  	condition += " AND (" + tempdescriptionlist + ")";  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetAlbumListCondition,The following statement contains a magic number: tempdescriptionlist = tempdescriptionlist.Substring (0' tempdescriptionlist.Length - 2);  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCondition,The following statement contains a magic number: if (keylist != "") {  	string tempkeylist = "";  	foreach (string key in keylist.Split (''')) {  		tempkeylist += " [spacetitle] LIKE '%" + RegEsc (key) + "%' OR";  	}  	tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  	condition += " AND (" + tempkeylist + ")";  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpaceCondition,The following statement contains a magic number: tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostCondition,The following statement contains a magic number: if (keylist != "") {  	string tempkeylist = "";  	foreach (string key in keylist.Split (''')) {  		tempkeylist += " [title] LIKE '%" + RegEsc (key) + "%' OR";  	}  	tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  	condition += " AND (" + tempkeylist + ")";  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetSpacePostCondition,The following statement contains a magic number: tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetPhotoCondition,The following statement contains a magic number: if (keylist != "") {  	string tempkeylist = "";  	foreach (string key in keylist.Split (''')) {  		tempkeylist += " p.[title] LIKE '%" + RegEsc (key) + "%' OR";  	}  	tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  	condition += " AND (" + tempkeylist + ")";  }  
Magic Number,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,GetPhotoCondition,The following statement contains a magic number: tempkeylist = tempkeylist.Substring (0' tempkeylist.Length - 2);  
Magic Number,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModulePost,The following statement contains a magic number: if (Utils.IsNumeric (val))  	_module.Val = Utils.StrToInt (val' 3);  
Magic Number,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModulePost,The following statement contains a magic number: _module.Val = Utils.StrToInt (val' 3);  
Magic Number,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetRssEditBox,The following statement contains a magic number: for (int i = 1; i < 16; i++) {  	options.AppendFormat ("<option value='{0}'{1}>{0}</option>"' i' i == this._module.Val ? " selected" : "");  }  
Magic Number,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The following statement contains a magic number: module.Height = xmlnode.Attributes ["height "] == null ? 200 : Utils.StrToInt (xmlnode.Attributes ["height"].Value' 200);  
Magic Number,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The following statement contains a magic number: module.Height = xmlnode.Attributes ["height "] == null ? 200 : Utils.StrToInt (xmlnode.Attributes ["height"].Value' 200);  
Magic Number,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The following statement contains a magic number: module.Width = xmlnode.Attributes ["width"] == null ? 320 : Utils.StrToInt (xmlnode.Attributes ["width"].Value' 320);  
Magic Number,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,LoadModulePref,The following statement contains a magic number: module.Width = xmlnode.Attributes ["width"] == null ? 320 : Utils.StrToInt (xmlnode.Attributes ["width"].Value' 320);  
Magic Number,Discuz.Space,moregadgets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\moregadgets.aspx.cs,GetOnlineUserInfo,The following statement contains a magic number: if (password.Length > 16) {  	oluserkey = password.Substring (4' 8).Trim ();  }  else {  	oluserkey = "";  }  
Magic Number,Discuz.Space,moregadgets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\moregadgets.aspx.cs,GetOnlineUserInfo,The following statement contains a magic number: if (password.Length > 16) {  	oluserkey = password.Substring (4' 8).Trim ();  }  else {  	oluserkey = "";  }  
Magic Number,Discuz.Space,moregadgets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\moregadgets.aspx.cs,GetOnlineUserInfo,The following statement contains a magic number: if (password.Length > 16) {  	oluserkey = password.Substring (4' 8).Trim ();  }  else {  	oluserkey = "";  }  
Magic Number,Discuz.Space,moregadgets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\moregadgets.aspx.cs,GetOnlineUserInfo,The following statement contains a magic number: oluserkey = password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space,moregadgets,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\moregadgets.aspx.cs,GetOnlineUserInfo,The following statement contains a magic number: oluserkey = password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,setp,The following statement contains a magic number: if (mt != "") {  	string[] moduleTab = mt.Split (':');  	if (moduleTab.Length != 2) {  		return;  	}  	if (!Utils.IsNumeric (moduleTab [0]) || !Utils.IsNumeric (moduleTab [1])) {  		return;  	}  	Spaces.MoveModule (Utils.StrToInt (moduleTab [0]' 0)' this.userid' Utils.StrToInt (moduleTab [1]' 0));  }  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,setp,The following statement contains a magic number: if (moduleTab.Length != 2) {  	return;  }  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,MoveAction,The following statement contains a magic number: foreach (string mid in moduleArray) {  	Spaces.UpdateModuleOrder (Convert.ToInt32 (mid)' this.userid' panename' order);  	order += 2;  }  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,MoveAction,The following statement contains a magic number: order += 2;  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,AddTabAction,The following statement contains a magic number: if (tabcount >= 5)  	return;  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,AddModuleAction,The following statement contains a magic number: if (tabModuleCount > 20)  	return;  
Magic Number,Discuz.Space,setp,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\setp.aspx.cs,AddModuleAction,The following statement contains a magic number: moduleinfo.Val = 6;  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogAggRss,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	rssBuilder.Append ("    <item>\r\n");  	rssBuilder.Append ("      <title>");  	rssBuilder.Append (Utils.HtmlEncode (dr ["title"].ToString ().Trim ()));  	rssBuilder.Append ("</title>\r\n");  	rssBuilder.Append ("      <description><![CDATA[");  	rssBuilder.Append (Utils.HtmlEncode (Utils.GetSubString (Utils.RemoveHtml (dr ["content"].ToString ())' 200' "......")));  	rssBuilder.Append ("]]></description>\r\n");  	rssBuilder.Append ("      <link>");  	rssBuilder.Append (Utils.HtmlEncode (forumurl));  	rssBuilder.Append ("space/viewspacepost.aspx?postid=");  	rssBuilder.Append (dr ["postid"].ToString ());  	rssBuilder.Append ("</link>\r\n");  	rssBuilder.Append ("      <category>");  	rssBuilder.Append (Utils.HtmlEncode (dr ["category"].ToString ()));  	rssBuilder.Append ("</category>\r\n");  	rssBuilder.Append ("      <author>");  	rssBuilder.Append (Utils.HtmlEncode (dr ["author"].ToString ().Trim ()));  	rssBuilder.Append ("</author>\r\n");  	rssBuilder.Append ("      <pubDate>");  	rssBuilder.Append (Utils.HtmlEncode (Convert.ToDateTime (dr ["postdatetime"]).ToString ("r").Trim ()));  	rssBuilder.Append ("</pubDate>\r\n");  	rssBuilder.Append ("    </item>\r\n");  }  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogAggRss,The following statement contains a magic number: rssBuilder.Append (Utils.HtmlEncode (Utils.GetSubString (Utils.RemoveHtml (dr ["content"].ToString ())' 200' "......")));  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogAggRss,The following statement contains a magic number: cache.AddObject ("/SPACE/RSS/Index"' rssBuilder.ToString ()' ttl * 60);  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogRss,The following statement contains a magic number: foreach (SpacePostInfo post in posts) {  	rssBuilder.Append ("    <item>\r\n");  	rssBuilder.Append ("      <title>");  	rssBuilder.Append (Utils.HtmlEncode (post.Title.ToString ().Trim ()));  	rssBuilder.Append ("</title>\r\n");  	rssBuilder.Append ("      <description><![CDATA[");  	rssBuilder.Append (Utils.HtmlEncode (Utils.GetSubString (Utils.RemoveHtml (post.Content)' 200' "......")));  	rssBuilder.Append ("]]></description>\r\n");  	rssBuilder.Append ("      <link>");  	rssBuilder.Append (Utils.HtmlEncode (forumurl));  	rssBuilder.Append ("space/viewspacepost.aspx?postid=");  	rssBuilder.Append (post.Postid.ToString ());  	rssBuilder.Append ("</link>\r\n");  	rssBuilder.Append ("      <category>");  	rssBuilder.Append (Utils.HtmlEncode (post.Category));  	rssBuilder.Append ("</category>\r\n");  	rssBuilder.Append ("      <author>");  	rssBuilder.Append (Utils.HtmlEncode (post.Author.ToString ().Trim ()));  	rssBuilder.Append ("</author>\r\n");  	rssBuilder.Append ("      <pubDate>");  	rssBuilder.Append (Utils.HtmlEncode (post.Postdatetime.ToString ("r").Trim ()));  	rssBuilder.Append ("</pubDate>\r\n");  	rssBuilder.Append ("    </item>\r\n");  }  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogRss,The following statement contains a magic number: rssBuilder.Append (Utils.HtmlEncode (Utils.GetSubString (Utils.RemoveHtml (post.Content)' 200' "......")));  
Magic Number,Discuz.Space,SpaceFeeds,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceFeeds.cs,GetBlogRss,The following statement contains a magic number: cache.AddObject ("/SPACE/RSS/Blog" + uid' rssBuilder.ToString ()' ttl * 60);  
Magic Number,Discuz.Space,Spaces,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\Spaces.cs,AddLocalModule,The following statement contains a magic number: moduleinfo.Val = 6;  
Magic Number,Discuz.Space,SpaceTags,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\SpaceTags.cs,GetSpacePostTagCacheFilePath,The following statement contains a magic number: return string.Format ("{0}cache/spaceposttag/{1}/{2}_tags.txt"' BaseConfigs.GetForumPath' postid / 1000 + 1' postid);  
Magic Number,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The following statement contains a magic number: if (ajaxtemplate != null) {  	try {  		string readerstr = null;  		WebClient client1 = new WebClient ();  		client1.Headers.Add ("User-Agent"' "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; .NET CLR 1.1.4322)");  		object[] objArray = new object[] {  			base.Request.ServerVariables ["QUERY_STRING"]'  			base.Request.ServerVariables ["SERVER_NAME"]'  			base.Request.ServerVariables ["SERVER_PORT"]'  			base.Request.ServerVariables ["SCRIPT_NAME"].ToLower ().Replace ("remotescript.aspx"' "")  		};  		string ajaxpath = string.Format ("http://{1}:{2}{3}Ajax.aspx?{0}"' objArray);  		StreamReader reader1 = new StreamReader (client1.OpenRead (ajaxpath)' Encoding.UTF8);  		readerstr = reader1.ReadToEnd ().Trim ();  		reader1.Close ();  		string ajaxcontext = "<!--AjaxContent-->";  		readerstr = readerstr.Substring (readerstr.IndexOf (ajaxcontext' 0) + ajaxcontext.Length).Trim ();  		readerstr = readerstr.Substring (0' readerstr.Length - 7);  		string tempstr = "";  		if ((output != null) && (output.Length > 0)) {  			tempstr += string.Format ("if ($('{0}') != null) $('{0}').innerHTML = '{1}';"' output' RemoteScript.ToJavaScriptString (readerstr));  		}  		if ((callback != null) && (callback.Length > 0)) {  			tempstr += string.Format (" if ({0}) {0}('{1}');"' callback' RemoteScript.ToJavaScriptString (readerstr));  		}  		base.Response.Write (tempstr);  	}  	catch {  	}  }  
Magic Number,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The following statement contains a magic number: try {  	string readerstr = null;  	WebClient client1 = new WebClient ();  	client1.Headers.Add ("User-Agent"' "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; .NET CLR 1.1.4322)");  	object[] objArray = new object[] {  		base.Request.ServerVariables ["QUERY_STRING"]'  		base.Request.ServerVariables ["SERVER_NAME"]'  		base.Request.ServerVariables ["SERVER_PORT"]'  		base.Request.ServerVariables ["SCRIPT_NAME"].ToLower ().Replace ("remotescript.aspx"' "")  	};  	string ajaxpath = string.Format ("http://{1}:{2}{3}Ajax.aspx?{0}"' objArray);  	StreamReader reader1 = new StreamReader (client1.OpenRead (ajaxpath)' Encoding.UTF8);  	readerstr = reader1.ReadToEnd ().Trim ();  	reader1.Close ();  	string ajaxcontext = "<!--AjaxContent-->";  	readerstr = readerstr.Substring (readerstr.IndexOf (ajaxcontext' 0) + ajaxcontext.Length).Trim ();  	readerstr = readerstr.Substring (0' readerstr.Length - 7);  	string tempstr = "";  	if ((output != null) && (output.Length > 0)) {  		tempstr += string.Format ("if ($('{0}') != null) $('{0}').innerHTML = '{1}';"' output' RemoteScript.ToJavaScriptString (readerstr));  	}  	if ((callback != null) && (callback.Length > 0)) {  		tempstr += string.Format (" if ({0}) {0}('{1}');"' callback' RemoteScript.ToJavaScriptString (readerstr));  	}  	base.Response.Write (tempstr);  }  catch {  }  
Magic Number,Discuz.Space.Manage,RemoteScript,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\ajax.aspx.cs,Page_Load,The following statement contains a magic number: readerstr = readerstr.Substring (0' readerstr.Length - 7);  
Magic Number,Discuz.Space.Manage,ajaxspacelink,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxspacelink.ascx.cs,ajaxspacelink,The following statement contains a magic number: if (DNTRequest.GetString ("load") == "true") {  	pagesize = DNTRequest.GetInt ("linknumber"' 10);  	__spacelinkinfos = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkList (pagesize' 1' spaceconfiginfo.UserID));  }  
Magic Number,Discuz.Space.Manage,ajaxspacelink,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxspacelink.ascx.cs,ajaxspacelink,The following statement contains a magic number: pagesize = DNTRequest.GetInt ("linknumber"' 10);  
Magic Number,Discuz.Space.Manage,ajaxsubmitcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxsubmitcomment.ascx.cs,Submit_CategoryInfo,The following statement contains a magic number: if ((__spacepostinfo.CommentStatus == 2) && (userid < 1)) {  	completeinfo = "当前日志仅允许注册用户评论";  	return;  }  
Magic Number,Discuz.Space.Manage,ajaxtopnewcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxtopnewcomment.ascx.cs,ajaxtopnewcomment,The following statement contains a magic number: if (DNTRequest.GetString ("load") == "true") {  	//得到当前评论列表				  	pagesize = DNTRequest.GetInt ("commentnumber"' 10);  	__spacecommentinfos = BlogProvider.GetSpaceCommentInfo (Space.Data.DbProvider.GetInstance ().GetSpaceNewComments (pagesize' spaceconfiginfo.UserID));  }  
Magic Number,Discuz.Space.Manage,ajaxtopnewcomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxtopnewcomment.ascx.cs,ajaxtopnewcomment,The following statement contains a magic number: pagesize = DNTRequest.GetInt ("commentnumber"' 10);  
Magic Number,Discuz.Space.Manage,ajaxtopnewpost,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxtopnewpost.ascx.cs,ajaxtopnewpost,The following statement contains a magic number: if (DNTRequest.GetString ("load") == "true") {  	pagesize = DNTRequest.GetInt ("postnumber"' 10);  	__spacepostinfos = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().SpacePostsList (pagesize' 1' spaceconfiginfo.UserID' 1));  }  
Magic Number,Discuz.Space.Manage,ajaxtopnewpost,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxtopnewpost.ascx.cs,ajaxtopnewpost,The following statement contains a magic number: pagesize = DNTRequest.GetInt ("postnumber"' 10);  
Magic Number,Discuz.Space.Manage,ajaxbloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserbloglist.ascx.cs,GetSpacePostTagCacheFilePath,The following statement contains a magic number: return string.Format ("{0}cache/spaceposttag/{1}/{2}_tags.txt"' configspaceurlnopage' +postid / 1000 + 1' postid);  
Magic Number,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,ajaxuserspacecommentlist,The following statement contains a magic number: if (postid > 0) {  	if (Discuz.Common.DNTRequest.GetString ("load") == "true") {  		//��ǰ�û��Ƿ�����־������  		SpacePostInfo __spacepostinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  		if (__spacepostinfo.Uid == userid)  			ispostauthor = true;  		if (Forum.AdminGroups.GetAdminGroupInfo (_userinfo.Groupid) != null)  			isadmin = true;  		//���Ƿ���״̬��ǰ���ߵ���־ʱ  		if (__spacepostinfo.PostStatus == 0) {  			errorinfo = "��ǰ�����������Ч!";  			return;  		}  		//����Ҫɾ���ļ�¼ʱ  		int delcommentid = DNTRequest.GetInt ("delcommentid"' 0);  		if (delcommentid > 0) {  			//�жϸ��û��Ƿ�Ϊ���˻��������  			if ((UserGroups.GetUserGroupInfo (_userinfo.Groupid).Radminid == 1 && this.isadmin) || (this.spaceconfiginfo.UserID == this.userid))  				Space.Data.DbProvider.GetInstance ().DeleteSpaceComment (delcommentid);  			//�������������  			Space.Data.DbProvider.GetInstance ().CountUserSpaceCommentCountByUserID (__spacepostinfo.Uid' -1);  			Space.Data.DbProvider.GetInstance ().CountSpaceCommentCountByPostID (postid' -1);  		}  		//�õ���ǰ�����б�  		__spacecommentinfos = GetSpaceCommentInfoList (currentpage' postid);  		//�õ�ҳ������  		pagelink = AjaxPagination (Space.Data.DbProvider.GetInstance ().GetSpaceCommentsCountByPostid (postid)' 16' currentpage);  	}  }  else  	errorinfo = "��ǰ������־�ظ���Ϣ��Ч!";  
Magic Number,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,ajaxuserspacecommentlist,The following statement contains a magic number: if (Discuz.Common.DNTRequest.GetString ("load") == "true") {  	//��ǰ�û��Ƿ�����־������  	SpacePostInfo __spacepostinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  	if (__spacepostinfo.Uid == userid)  		ispostauthor = true;  	if (Forum.AdminGroups.GetAdminGroupInfo (_userinfo.Groupid) != null)  		isadmin = true;  	//���Ƿ���״̬��ǰ���ߵ���־ʱ  	if (__spacepostinfo.PostStatus == 0) {  		errorinfo = "��ǰ�����������Ч!";  		return;  	}  	//����Ҫɾ���ļ�¼ʱ  	int delcommentid = DNTRequest.GetInt ("delcommentid"' 0);  	if (delcommentid > 0) {  		//�жϸ��û��Ƿ�Ϊ���˻��������  		if ((UserGroups.GetUserGroupInfo (_userinfo.Groupid).Radminid == 1 && this.isadmin) || (this.spaceconfiginfo.UserID == this.userid))  			Space.Data.DbProvider.GetInstance ().DeleteSpaceComment (delcommentid);  		//�������������  		Space.Data.DbProvider.GetInstance ().CountUserSpaceCommentCountByUserID (__spacepostinfo.Uid' -1);  		Space.Data.DbProvider.GetInstance ().CountSpaceCommentCountByPostID (postid' -1);  	}  	//�õ���ǰ�����б�  	__spacecommentinfos = GetSpaceCommentInfoList (currentpage' postid);  	//�õ�ҳ������  	pagelink = AjaxPagination (Space.Data.DbProvider.GetInstance ().GetSpaceCommentsCountByPostid (postid)' 16' currentpage);  }  
Magic Number,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,ajaxuserspacecommentlist,The following statement contains a magic number: pagelink = AjaxPagination (Space.Data.DbProvider.GetInstance ().GetSpaceCommentsCountByPostid (postid)' 16' currentpage);  
Magic Number,Discuz.Space.Manage,ajaxuserspacecommentlist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\ajaxuserspacecommentlist.ascx.cs,GetSpaceCommentInfoList,The following statement contains a magic number: return BlogProvider.GetSpaceCommentInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCommentListByPostid (16' currentpage' postid' true));  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: startcount = (currentpage + 5) > allcurrentpage ? allcurrentpage - 9 : currentpage - 4;  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: startcount = (currentpage + 5) > allcurrentpage ? allcurrentpage - 9 : currentpage - 4;  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: startcount = (currentpage + 5) > allcurrentpage ? allcurrentpage - 9 : currentpage - 4;  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: endcount = currentpage < 5 ? 10 : currentpage + 5;  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: endcount = currentpage < 5 ? 10 : currentpage + 5;  
Magic Number,Discuz.Space.Manage,DiscuzSpaceUCBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\DiscuzSpaceUCBase.cs,AjaxPagination,The following statement contains a magic number: endcount = currentpage < 5 ? 10 : currentpage + 5;  
Magic Number,Discuz.Space.Manage,fronttop,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\fronttop.ascx.cs,fronttop,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,fronttop,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\fronttop.ascx.cs,fronttop,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,fronttop,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\fronttop.ascx.cs,fronttop,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,fronttop,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\fronttop.ascx.cs,fronttop,The following statement contains a magic number: userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,fronttop,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\fronttop.ascx.cs,fronttop,The following statement contains a magic number: userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (filefield1.PostedFile != null) {  	HttpPostedFile myFile = filefield1.PostedFile;  	int nFileLen = myFile.ContentLength;  	if (nFileLen == 0)  		return "";  	byte[] myData = new Byte[nFileLen];  	myFile.InputStream.Read (myData' 0' nFileLen);  	Random random = new Random (unchecked((int)DateTime.Now.Ticks));  	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower ();  	//判断sFilename的文件名称是否已存在于服务器上. 如存在' 则添加文件递增标识  	int file_append = 0;  	while (File.Exists (sSavePath + sFilename)) {  		file_append++;  		sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower ();  	}  	string fileExtName = Path.GetExtension (myFile.FileName).ToLower ();  	string relativeFilePath = ViewState ["RelativeFilePath"].ToString ().Trim ();  	fileExtName = fileExtName != "" ? fileExtName : ".invalidExtName";  	if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  		//上传图片文件  		if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  			try {  				AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  				//上传附件同时加入相册  				if (albums.SelectedValue != "" && apb != null) {  					int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  					int currentphotisize = apb.GetPhotoSizeByUserid (userid);  					if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  						string extension = Path.GetExtension (sSavePath + sFilename);  						Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  						Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  						string sPath = relativeFilePath;  						if (sPath.StartsWith ("/"))  							sPath = sPath.Substring (1' sPath.Length - 1);  						PhotoInfo photoinfo = new PhotoInfo ();  						photoinfo.Filename = sPath + sFilename;  						photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  						photoinfo.Filesize = nFileLen;  						photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  						photoinfo.Description = "";  						photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  						photoinfo.Userid = userid;  						photoinfo.Username = username;  						photoinfo.Views = 0;  						photoinfo.Commentstatus = 0;  						photoinfo.Tagstatus = 0;  						photoinfo.Comments = 0;  						photoinfo.IsAttachment = 1;  						Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  						AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  						albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  						Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  						//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  						if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  							FTPs ftps = new FTPs ();  							relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  							ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						}  					}  				}  				else {  					int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  					int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  					if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  					}  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  		else//其它类型文件  		 {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				try {  					myFile.SaveAs (sSavePath + sFilename);  					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  					return sFilename;  				}  				catch (ArgumentException errArgument) {  					File.Delete (sSavePath + sFilename);  					HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  			}  		}  	}  	else//当上传的附件类型无效时  	 {  		return "invalid_file";  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (filefield1.PostedFile != null) {  	HttpPostedFile myFile = filefield1.PostedFile;  	int nFileLen = myFile.ContentLength;  	if (nFileLen == 0)  		return "";  	byte[] myData = new Byte[nFileLen];  	myFile.InputStream.Read (myData' 0' nFileLen);  	Random random = new Random (unchecked((int)DateTime.Now.Ticks));  	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower ();  	//判断sFilename的文件名称是否已存在于服务器上. 如存在' 则添加文件递增标识  	int file_append = 0;  	while (File.Exists (sSavePath + sFilename)) {  		file_append++;  		sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower ();  	}  	string fileExtName = Path.GetExtension (myFile.FileName).ToLower ();  	string relativeFilePath = ViewState ["RelativeFilePath"].ToString ().Trim ();  	fileExtName = fileExtName != "" ? fileExtName : ".invalidExtName";  	if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  		//上传图片文件  		if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  			try {  				AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  				//上传附件同时加入相册  				if (albums.SelectedValue != "" && apb != null) {  					int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  					int currentphotisize = apb.GetPhotoSizeByUserid (userid);  					if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  						string extension = Path.GetExtension (sSavePath + sFilename);  						Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  						Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  						string sPath = relativeFilePath;  						if (sPath.StartsWith ("/"))  							sPath = sPath.Substring (1' sPath.Length - 1);  						PhotoInfo photoinfo = new PhotoInfo ();  						photoinfo.Filename = sPath + sFilename;  						photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  						photoinfo.Filesize = nFileLen;  						photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  						photoinfo.Description = "";  						photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  						photoinfo.Userid = userid;  						photoinfo.Username = username;  						photoinfo.Views = 0;  						photoinfo.Commentstatus = 0;  						photoinfo.Tagstatus = 0;  						photoinfo.Comments = 0;  						photoinfo.IsAttachment = 1;  						Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  						AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  						albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  						Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  						//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  						if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  							FTPs ftps = new FTPs ();  							relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  							ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						}  					}  				}  				else {  					int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  					int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  					if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  					}  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  		else//其它类型文件  		 {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				try {  					myFile.SaveAs (sSavePath + sFilename);  					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  					return sFilename;  				}  				catch (ArgumentException errArgument) {  					File.Delete (sSavePath + sFilename);  					HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  			}  		}  	}  	else//当上传的附件类型无效时  	 {  		return "invalid_file";  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (filefield1.PostedFile != null) {  	HttpPostedFile myFile = filefield1.PostedFile;  	int nFileLen = myFile.ContentLength;  	if (nFileLen == 0)  		return "";  	byte[] myData = new Byte[nFileLen];  	myFile.InputStream.Read (myData' 0' nFileLen);  	Random random = new Random (unchecked((int)DateTime.Now.Ticks));  	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower ();  	//判断sFilename的文件名称是否已存在于服务器上. 如存在' 则添加文件递增标识  	int file_append = 0;  	while (File.Exists (sSavePath + sFilename)) {  		file_append++;  		sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower ();  	}  	string fileExtName = Path.GetExtension (myFile.FileName).ToLower ();  	string relativeFilePath = ViewState ["RelativeFilePath"].ToString ().Trim ();  	fileExtName = fileExtName != "" ? fileExtName : ".invalidExtName";  	if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  		//上传图片文件  		if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  			try {  				AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  				//上传附件同时加入相册  				if (albums.SelectedValue != "" && apb != null) {  					int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  					int currentphotisize = apb.GetPhotoSizeByUserid (userid);  					if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  						string extension = Path.GetExtension (sSavePath + sFilename);  						Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  						Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  						string sPath = relativeFilePath;  						if (sPath.StartsWith ("/"))  							sPath = sPath.Substring (1' sPath.Length - 1);  						PhotoInfo photoinfo = new PhotoInfo ();  						photoinfo.Filename = sPath + sFilename;  						photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  						photoinfo.Filesize = nFileLen;  						photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  						photoinfo.Description = "";  						photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  						photoinfo.Userid = userid;  						photoinfo.Username = username;  						photoinfo.Views = 0;  						photoinfo.Commentstatus = 0;  						photoinfo.Tagstatus = 0;  						photoinfo.Comments = 0;  						photoinfo.IsAttachment = 1;  						Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  						AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  						albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  						Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  						//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  						if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  							FTPs ftps = new FTPs ();  							relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  							ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						}  					}  				}  				else {  					int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  					int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  					if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  					}  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  		else//其它类型文件  		 {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				try {  					myFile.SaveAs (sSavePath + sFilename);  					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  					return sFilename;  				}  				catch (ArgumentException errArgument) {  					File.Delete (sSavePath + sFilename);  					HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  			}  		}  	}  	else//当上传的附件类型无效时  	 {  		return "invalid_file";  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (filefield1.PostedFile != null) {  	HttpPostedFile myFile = filefield1.PostedFile;  	int nFileLen = myFile.ContentLength;  	if (nFileLen == 0)  		return "";  	byte[] myData = new Byte[nFileLen];  	myFile.InputStream.Read (myData' 0' nFileLen);  	Random random = new Random (unchecked((int)DateTime.Now.Ticks));  	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower ();  	//判断sFilename的文件名称是否已存在于服务器上. 如存在' 则添加文件递增标识  	int file_append = 0;  	while (File.Exists (sSavePath + sFilename)) {  		file_append++;  		sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower ();  	}  	string fileExtName = Path.GetExtension (myFile.FileName).ToLower ();  	string relativeFilePath = ViewState ["RelativeFilePath"].ToString ().Trim ();  	fileExtName = fileExtName != "" ? fileExtName : ".invalidExtName";  	if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  		//上传图片文件  		if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  			try {  				AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  				//上传附件同时加入相册  				if (albums.SelectedValue != "" && apb != null) {  					int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  					int currentphotisize = apb.GetPhotoSizeByUserid (userid);  					if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  						string extension = Path.GetExtension (sSavePath + sFilename);  						Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  						Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  						string sPath = relativeFilePath;  						if (sPath.StartsWith ("/"))  							sPath = sPath.Substring (1' sPath.Length - 1);  						PhotoInfo photoinfo = new PhotoInfo ();  						photoinfo.Filename = sPath + sFilename;  						photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  						photoinfo.Filesize = nFileLen;  						photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  						photoinfo.Description = "";  						photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  						photoinfo.Userid = userid;  						photoinfo.Username = username;  						photoinfo.Views = 0;  						photoinfo.Commentstatus = 0;  						photoinfo.Tagstatus = 0;  						photoinfo.Comments = 0;  						photoinfo.IsAttachment = 1;  						Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  						AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  						albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  						Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  						//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  						if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  							FTPs ftps = new FTPs ();  							relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  							ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						}  					}  				}  				else {  					int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  					int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  					if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  					}  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  		else//其它类型文件  		 {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				try {  					myFile.SaveAs (sSavePath + sFilename);  					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  					return sFilename;  				}  				catch (ArgumentException errArgument) {  					File.Delete (sSavePath + sFilename);  					HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  			}  		}  	}  	else//当上传的附件类型无效时  	 {  		return "invalid_file";  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (filefield1.PostedFile != null) {  	HttpPostedFile myFile = filefield1.PostedFile;  	int nFileLen = myFile.ContentLength;  	if (nFileLen == 0)  		return "";  	byte[] myData = new Byte[nFileLen];  	myFile.InputStream.Read (myData' 0' nFileLen);  	Random random = new Random (unchecked((int)DateTime.Now.Ticks));  	string sFilename = (Environment.TickCount & int.MaxValue).ToString () + random.Next (1000' 9999).ToString () + System.IO.Path.GetExtension (myFile.FileName).ToLower ();  	//判断sFilename的文件名称是否已存在于服务器上. 如存在' 则添加文件递增标识  	int file_append = 0;  	while (File.Exists (sSavePath + sFilename)) {  		file_append++;  		sFilename = Path.GetFileNameWithoutExtension (myFile.FileName) + file_append.ToString () + Path.GetExtension (myFile.FileName).ToLower ();  	}  	string fileExtName = Path.GetExtension (myFile.FileName).ToLower ();  	string relativeFilePath = ViewState ["RelativeFilePath"].ToString ().Trim ();  	fileExtName = fileExtName != "" ? fileExtName : ".invalidExtName";  	if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  		//上传图片文件  		if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  			try {  				AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  				//上传附件同时加入相册  				if (albums.SelectedValue != "" && apb != null) {  					int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  					int currentphotisize = apb.GetPhotoSizeByUserid (userid);  					if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  						string extension = Path.GetExtension (sSavePath + sFilename);  						Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  						Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  						string sPath = relativeFilePath;  						if (sPath.StartsWith ("/"))  							sPath = sPath.Substring (1' sPath.Length - 1);  						PhotoInfo photoinfo = new PhotoInfo ();  						photoinfo.Filename = sPath + sFilename;  						photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  						photoinfo.Filesize = nFileLen;  						photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  						photoinfo.Description = "";  						photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  						photoinfo.Userid = userid;  						photoinfo.Username = username;  						photoinfo.Views = 0;  						photoinfo.Commentstatus = 0;  						photoinfo.Tagstatus = 0;  						photoinfo.Comments = 0;  						photoinfo.IsAttachment = 1;  						Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  						AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  						albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  						Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  						//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  						if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  							FTPs ftps = new FTPs ();  							relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  							ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  							ftps = new FTPs ();  							ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						}  					}  				}  				else {  					int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  					int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  					if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  					 {  						HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  						HttpContext.Current.Response.End ();  						return "";  					}  					else {  						FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  						newFile.Write (myData' 0' myData.Length);  						newFile.Close ();  					}  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  		else//其它类型文件  		 {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				try {  					myFile.SaveAs (sSavePath + sFilename);  					InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					}  					return sFilename;  				}  				catch (ArgumentException errArgument) {  					File.Delete (sSavePath + sFilename);  					HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  			}  		}  	}  	else//当上传的附件类型无效时  	 {  		return "invalid_file";  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  			//上传附件同时加入相册  			if (albums.SelectedValue != "" && apb != null) {  				int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  				int currentphotisize = apb.GetPhotoSizeByUserid (userid);  				if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  					string extension = Path.GetExtension (sSavePath + sFilename);  					Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  					Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  					string sPath = relativeFilePath;  					if (sPath.StartsWith ("/"))  						sPath = sPath.Substring (1' sPath.Length - 1);  					PhotoInfo photoinfo = new PhotoInfo ();  					photoinfo.Filename = sPath + sFilename;  					photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  					photoinfo.Filesize = nFileLen;  					photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  					photoinfo.Description = "";  					photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  					photoinfo.Userid = userid;  					photoinfo.Username = username;  					photoinfo.Views = 0;  					photoinfo.Commentstatus = 0;  					photoinfo.Tagstatus = 0;  					photoinfo.Comments = 0;  					photoinfo.IsAttachment = 1;  					Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  					AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  					albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  					Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  						ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  			}  			else {  				int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  				int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  				if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  				}  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			try {  				myFile.SaveAs (sSavePath + sFilename);  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  	}  }  else//当上传的附件类型无效时   {  	return "invalid_file";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  			//上传附件同时加入相册  			if (albums.SelectedValue != "" && apb != null) {  				int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  				int currentphotisize = apb.GetPhotoSizeByUserid (userid);  				if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  					string extension = Path.GetExtension (sSavePath + sFilename);  					Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  					Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  					string sPath = relativeFilePath;  					if (sPath.StartsWith ("/"))  						sPath = sPath.Substring (1' sPath.Length - 1);  					PhotoInfo photoinfo = new PhotoInfo ();  					photoinfo.Filename = sPath + sFilename;  					photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  					photoinfo.Filesize = nFileLen;  					photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  					photoinfo.Description = "";  					photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  					photoinfo.Userid = userid;  					photoinfo.Username = username;  					photoinfo.Views = 0;  					photoinfo.Commentstatus = 0;  					photoinfo.Tagstatus = 0;  					photoinfo.Comments = 0;  					photoinfo.IsAttachment = 1;  					Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  					AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  					albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  					Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  						ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  			}  			else {  				int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  				int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  				if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  				}  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			try {  				myFile.SaveAs (sSavePath + sFilename);  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  	}  }  else//当上传的附件类型无效时   {  	return "invalid_file";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  			//上传附件同时加入相册  			if (albums.SelectedValue != "" && apb != null) {  				int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  				int currentphotisize = apb.GetPhotoSizeByUserid (userid);  				if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  					string extension = Path.GetExtension (sSavePath + sFilename);  					Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  					Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  					string sPath = relativeFilePath;  					if (sPath.StartsWith ("/"))  						sPath = sPath.Substring (1' sPath.Length - 1);  					PhotoInfo photoinfo = new PhotoInfo ();  					photoinfo.Filename = sPath + sFilename;  					photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  					photoinfo.Filesize = nFileLen;  					photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  					photoinfo.Description = "";  					photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  					photoinfo.Userid = userid;  					photoinfo.Username = username;  					photoinfo.Views = 0;  					photoinfo.Commentstatus = 0;  					photoinfo.Tagstatus = 0;  					photoinfo.Comments = 0;  					photoinfo.IsAttachment = 1;  					Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  					AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  					albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  					Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  					//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  					if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  						FTPs ftps = new FTPs ();  						relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  						ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  						ftps = new FTPs ();  						ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					}  				}  			}  			else {  				int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  				int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  				if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  				 {  					HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  					HttpContext.Current.Response.End ();  					return "";  				}  				else {  					FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  					newFile.Write (myData' 0' myData.Length);  					newFile.Close ();  				}  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			try {  				myFile.SaveAs (sSavePath + sFilename);  				InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				return sFilename;  			}  			catch (ArgumentException errArgument) {  				File.Delete (sSavePath + sFilename);  				HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  		}  	}  }  else//当上传的附件类型无效时   {  	return "invalid_file";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  		//上传附件同时加入相册  		if (albums.SelectedValue != "" && apb != null) {  			int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  			int currentphotisize = apb.GetPhotoSizeByUserid (userid);  			if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  				string extension = Path.GetExtension (sSavePath + sFilename);  				Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  				Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  				string sPath = relativeFilePath;  				if (sPath.StartsWith ("/"))  					sPath = sPath.Substring (1' sPath.Length - 1);  				PhotoInfo photoinfo = new PhotoInfo ();  				photoinfo.Filename = sPath + sFilename;  				photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  				photoinfo.Filesize = nFileLen;  				photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  				photoinfo.Description = "";  				photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  				photoinfo.Userid = userid;  				photoinfo.Username = username;  				photoinfo.Views = 0;  				photoinfo.Commentstatus = 0;  				photoinfo.Tagstatus = 0;  				photoinfo.Comments = 0;  				photoinfo.IsAttachment = 1;  				Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  				AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  				albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  				Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  					ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  		}  		else {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  			}  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  		InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		try {  			myFile.SaveAs (sSavePath + sFilename);  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  		//上传附件同时加入相册  		if (albums.SelectedValue != "" && apb != null) {  			int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  			int currentphotisize = apb.GetPhotoSizeByUserid (userid);  			if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  				string extension = Path.GetExtension (sSavePath + sFilename);  				Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  				Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  				string sPath = relativeFilePath;  				if (sPath.StartsWith ("/"))  					sPath = sPath.Substring (1' sPath.Length - 1);  				PhotoInfo photoinfo = new PhotoInfo ();  				photoinfo.Filename = sPath + sFilename;  				photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  				photoinfo.Filesize = nFileLen;  				photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  				photoinfo.Description = "";  				photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  				photoinfo.Userid = userid;  				photoinfo.Username = username;  				photoinfo.Views = 0;  				photoinfo.Commentstatus = 0;  				photoinfo.Tagstatus = 0;  				photoinfo.Comments = 0;  				photoinfo.IsAttachment = 1;  				Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  				AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  				albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  				Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  					ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  		}  		else {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  			}  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  		InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		try {  			myFile.SaveAs (sSavePath + sFilename);  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  		//上传附件同时加入相册  		if (albums.SelectedValue != "" && apb != null) {  			int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  			int currentphotisize = apb.GetPhotoSizeByUserid (userid);  			if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  				string extension = Path.GetExtension (sSavePath + sFilename);  				Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  				Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  				string sPath = relativeFilePath;  				if (sPath.StartsWith ("/"))  					sPath = sPath.Substring (1' sPath.Length - 1);  				PhotoInfo photoinfo = new PhotoInfo ();  				photoinfo.Filename = sPath + sFilename;  				photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  				photoinfo.Filesize = nFileLen;  				photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  				photoinfo.Description = "";  				photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  				photoinfo.Userid = userid;  				photoinfo.Username = username;  				photoinfo.Views = 0;  				photoinfo.Commentstatus = 0;  				photoinfo.Tagstatus = 0;  				photoinfo.Comments = 0;  				photoinfo.IsAttachment = 1;  				Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  				AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  				albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  				Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  					ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  					ftps = new FTPs ();  					ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				}  			}  		}  		else {  			int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  			if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  			 {  				HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  				HttpContext.Current.Response.End ();  				return "";  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (myData' 0' myData.Length);  				newFile.Close ();  			}  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  		InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		try {  			myFile.SaveAs (sSavePath + sFilename);  			InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			return sFilename;  		}  		catch (ArgumentException errArgument) {  			File.Delete (sSavePath + sFilename);  			HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: try {  	AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  	//上传附件同时加入相册  	if (albums.SelectedValue != "" && apb != null) {  		int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  		int currentphotisize = apb.GetPhotoSizeByUserid (userid);  		if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  			string extension = Path.GetExtension (sSavePath + sFilename);  			Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  			Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  			string sPath = relativeFilePath;  			if (sPath.StartsWith ("/"))  				sPath = sPath.Substring (1' sPath.Length - 1);  			PhotoInfo photoinfo = new PhotoInfo ();  			photoinfo.Filename = sPath + sFilename;  			photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  			photoinfo.Filesize = nFileLen;  			photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  			photoinfo.Description = "";  			photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  			photoinfo.Userid = userid;  			photoinfo.Username = username;  			photoinfo.Views = 0;  			photoinfo.Commentstatus = 0;  			photoinfo.Tagstatus = 0;  			photoinfo.Comments = 0;  			photoinfo.IsAttachment = 1;  			Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  			AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  			albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  			Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  				ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  	}  	else {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  		}  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  	InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: try {  	AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  	//上传附件同时加入相册  	if (albums.SelectedValue != "" && apb != null) {  		int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  		int currentphotisize = apb.GetPhotoSizeByUserid (userid);  		if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  			string extension = Path.GetExtension (sSavePath + sFilename);  			Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  			Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  			string sPath = relativeFilePath;  			if (sPath.StartsWith ("/"))  				sPath = sPath.Substring (1' sPath.Length - 1);  			PhotoInfo photoinfo = new PhotoInfo ();  			photoinfo.Filename = sPath + sFilename;  			photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  			photoinfo.Filesize = nFileLen;  			photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  			photoinfo.Description = "";  			photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  			photoinfo.Userid = userid;  			photoinfo.Username = username;  			photoinfo.Views = 0;  			photoinfo.Commentstatus = 0;  			photoinfo.Tagstatus = 0;  			photoinfo.Comments = 0;  			photoinfo.IsAttachment = 1;  			Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  			AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  			albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  			Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  				ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  	}  	else {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  		}  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  	InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: try {  	AlbumPluginBase apb = AlbumPluginProvider.GetInstance ();  	//上传附件同时加入相册  	if (albums.SelectedValue != "" && apb != null) {  		int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  		int currentphotisize = apb.GetPhotoSizeByUserid (userid);  		if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  			string extension = Path.GetExtension (sSavePath + sFilename);  			Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  			Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  			string sPath = relativeFilePath;  			if (sPath.StartsWith ("/"))  				sPath = sPath.Substring (1' sPath.Length - 1);  			PhotoInfo photoinfo = new PhotoInfo ();  			photoinfo.Filename = sPath + sFilename;  			photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  			photoinfo.Filesize = nFileLen;  			photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  			photoinfo.Description = "";  			photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  			photoinfo.Userid = userid;  			photoinfo.Username = username;  			photoinfo.Views = 0;  			photoinfo.Commentstatus = 0;  			photoinfo.Tagstatus = 0;  			photoinfo.Comments = 0;  			photoinfo.IsAttachment = 1;  			Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  			AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  			albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  			Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  				ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  				ftps = new FTPs ();  				ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			}  		}  	}  	else {  		int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  		if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  		 {  			HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  			HttpContext.Current.Response.End ();  			return "";  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (myData' 0' myData.Length);  			newFile.Close ();  		}  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  	InsertSapceAttachment (relativeFilePath + sFilename' myFile.ContentType' myData.Length' Path.GetFileName (myFile.FileName).ToLower ());  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	HttpContext.Current.Response.Write ("<script>alert('" + errArgument.Message + "!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (albums.SelectedValue != "" && apb != null) {  	int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  	int currentphotisize = apb.GetPhotoSizeByUserid (userid);  	if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		string sPath = relativeFilePath;  		if (sPath.StartsWith ("/"))  			sPath = sPath.Substring (1' sPath.Length - 1);  		PhotoInfo photoinfo = new PhotoInfo ();  		photoinfo.Filename = sPath + sFilename;  		photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  		photoinfo.Filesize = nFileLen;  		photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  		photoinfo.Description = "";  		photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  		photoinfo.Userid = userid;  		photoinfo.Username = username;  		photoinfo.Views = 0;  		photoinfo.Commentstatus = 0;  		photoinfo.Tagstatus = 0;  		photoinfo.Comments = 0;  		photoinfo.IsAttachment = 1;  		Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  		AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  		albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  		Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  			ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  }  else {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  	}  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (albums.SelectedValue != "" && apb != null) {  	int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  	int currentphotisize = apb.GetPhotoSizeByUserid (userid);  	if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		string sPath = relativeFilePath;  		if (sPath.StartsWith ("/"))  			sPath = sPath.Substring (1' sPath.Length - 1);  		PhotoInfo photoinfo = new PhotoInfo ();  		photoinfo.Filename = sPath + sFilename;  		photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  		photoinfo.Filesize = nFileLen;  		photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  		photoinfo.Description = "";  		photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  		photoinfo.Userid = userid;  		photoinfo.Username = username;  		photoinfo.Views = 0;  		photoinfo.Commentstatus = 0;  		photoinfo.Tagstatus = 0;  		photoinfo.Comments = 0;  		photoinfo.IsAttachment = 1;  		Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  		AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  		albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  		Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  			ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  }  else {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  	}  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if (albums.SelectedValue != "" && apb != null) {  	int maxphotosize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspacephotosize;  	int currentphotisize = apb.GetPhotoSizeByUserid (userid);  	if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		string sPath = relativeFilePath;  		if (sPath.StartsWith ("/"))  			sPath = sPath.Substring (1' sPath.Length - 1);  		PhotoInfo photoinfo = new PhotoInfo ();  		photoinfo.Filename = sPath + sFilename;  		photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  		photoinfo.Filesize = nFileLen;  		photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  		photoinfo.Description = "";  		photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  		photoinfo.Userid = userid;  		photoinfo.Username = username;  		photoinfo.Views = 0;  		photoinfo.Commentstatus = 0;  		photoinfo.Tagstatus = 0;  		photoinfo.Comments = 0;  		photoinfo.IsAttachment = 1;  		Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  		AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  		albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  		Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  			ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  			ftps = new FTPs ();  			ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		}  	}  }  else {  	int maxspacesize = UserGroups.GetUserGroupInfo (_userinfo.Groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = Space.Data.DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (userid);  	if ((maxspacesize - currentspaceattachmentsize - nFileLen) <= 0)//个人空间的存储空间不足  	 {  		HttpContext.Current.Response.Write ("<script>alert('" + config.Spacename + "存储空间不足' 上传失败!');</script>");  		HttpContext.Current.Response.End ();  		return "";  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  	}  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足   {  	HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  else {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	string sPath = relativeFilePath;  	if (sPath.StartsWith ("/"))  		sPath = sPath.Substring (1' sPath.Length - 1);  	PhotoInfo photoinfo = new PhotoInfo ();  	photoinfo.Filename = sPath + sFilename;  	photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  	photoinfo.Filesize = nFileLen;  	photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  	photoinfo.Description = "";  	photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  	photoinfo.Userid = userid;  	photoinfo.Username = username;  	photoinfo.Views = 0;  	photoinfo.Commentstatus = 0;  	photoinfo.Tagstatus = 0;  	photoinfo.Comments = 0;  	photoinfo.IsAttachment = 1;  	Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  	AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  	albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  	Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  		ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足   {  	HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  else {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	string sPath = relativeFilePath;  	if (sPath.StartsWith ("/"))  		sPath = sPath.Substring (1' sPath.Length - 1);  	PhotoInfo photoinfo = new PhotoInfo ();  	photoinfo.Filename = sPath + sFilename;  	photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  	photoinfo.Filesize = nFileLen;  	photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  	photoinfo.Description = "";  	photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  	photoinfo.Userid = userid;  	photoinfo.Username = username;  	photoinfo.Views = 0;  	photoinfo.Commentstatus = 0;  	photoinfo.Tagstatus = 0;  	photoinfo.Comments = 0;  	photoinfo.IsAttachment = 1;  	Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  	AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  	albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  	Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  		ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: if ((maxphotosize - currentphotisize - nFileLen) <= 0)//相册的存储空间不足   {  	HttpContext.Current.Response.Write ("<script>alert('" + config.Albumname + "空间不足' 上传至相册失败!');</script>");  	HttpContext.Current.Response.End ();  	return "";  }  else {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	string sPath = relativeFilePath;  	if (sPath.StartsWith ("/"))  		sPath = sPath.Substring (1' sPath.Length - 1);  	PhotoInfo photoinfo = new PhotoInfo ();  	photoinfo.Filename = sPath + sFilename;  	photoinfo.Attachment = Path.GetFileName (filefield1.PostedFile.FileName);  	photoinfo.Filesize = nFileLen;  	photoinfo.Title = sFilename.Remove (sFilename.IndexOf (".")' 1);  	photoinfo.Description = "";  	photoinfo.Albumid = Utils.StrToInt (albums.SelectedValue' 0);  	photoinfo.Userid = userid;  	photoinfo.Username = username;  	photoinfo.Views = 0;  	photoinfo.Commentstatus = 0;  	photoinfo.Tagstatus = 0;  	photoinfo.Comments = 0;  	photoinfo.IsAttachment = 1;  	Space.Data.DbProvider.GetInstance ().AddSpacePhoto (photoinfo);  	AlbumInfo albumInfo = apb.GetAlbumInfo (Utils.StrToInt ((albums.SelectedValue)' 0));  	albumInfo.Imgcount = Space.Data.DbProvider.GetInstance ().GetSpacePhotoCountByAlbumId (Utils.StrToInt (albums.SelectedValue' 0));  	Space.Data.DbProvider.GetInstance ().SaveSpaceAlbum (albumInfo);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		relativeFilePath = relativeFilePath.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "");  		ftps.UpLoadFile (relativeFilePath' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  		ftps = new FTPs ();  		ftps.UpLoadFile (relativeFilePath' (sSavePath + sFilename).Replace (extension' "_square" + extension)' FTPs.FTPUploadEnum.SpaceAttach);  	}  }  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  
Magic Number,Discuz.Space.Manage,uploadfile,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\manage\usercontrols\uploadfile.ascx.cs,StartUploadFile,The following statement contains a magic number: Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  
Magic Number,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,SpaceManageBasePage,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,SpaceManageBasePage,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,SpaceManageBasePage,The following statement contains a magic number: if (_user.Password.Length > 16)  	userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,SpaceManageBasePage,The following statement contains a magic number: userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Manage,SpaceManageBasePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpaceManageBasePage.cs,SpaceManageBasePage,The following statement contains a magic number: userkey = _user.Password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,SpacePage,The following statement contains a magic number: if (password.Length > 16)  	userkey = password.Substring (4' 8).Trim ();  else  	userkey = "";  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,SpacePage,The following statement contains a magic number: if (password.Length > 16)  	userkey = password.Substring (4' 8).Trim ();  else  	userkey = "";  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,SpacePage,The following statement contains a magic number: if (password.Length > 16)  	userkey = password.Substring (4' 8).Trim ();  else  	userkey = "";  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,SpacePage,The following statement contains a magic number: userkey = password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,SpacePage,The following statement contains a magic number: userkey = password.Substring (4' 8).Trim ();  
Magic Number,Discuz.Space.Pages,SpacePage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\SpacePage.cs,OutputSpacePage,The following statement contains a magic number: ht.Add ("can_be_added"' tc.Count < 5 && spaceEditable);  
Magic Number,Discuz.Space.Pages,usercpspacecategoryadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string title = Utils.HtmlEncode (DNTRequest.GetString ("title"));  	if ((title.Length > 50) || (title == "")) {  		AddErrLine ("分类名称不得超过50个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 1000) {  		AddErrLine ("分类描述不得超过1000个字符");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("displayorder"))) {  		AddErrLine ("分类描述序号必须为数字");  		return;  	}  	SpaceCategoryInfo __spacecategoryinfo = new SpaceCategoryInfo ();  	__spacecategoryinfo.Title = title;  	__spacecategoryinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	__spacecategoryinfo.Displayorder = Convert.ToInt32 (DNTRequest.GetString ("displayorder"));  	__spacecategoryinfo.Uid = userid;  	Space.Data.DbProvider.GetInstance ().AddSpaceCategory (__spacecategoryinfo);  	SetUrl ("usercpspacemanagecategory.aspx");  	SetMetaRefresh ();  	SetShowBackLink (true);  	AddMsgLine ("添加日志分类完毕");  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string title = Utils.HtmlEncode (DNTRequest.GetString ("title"));  	if ((title.Length > 50) || (title == "")) {  		AddErrLine ("分类名称不得超过50个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 1000) {  		AddErrLine ("分类描述不得超过1000个字符");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("displayorder"))) {  		AddErrLine ("分类描述序号必须为数字");  		return;  	}  	SpaceCategoryInfo __spacecategoryinfo = new SpaceCategoryInfo ();  	__spacecategoryinfo.Title = title;  	__spacecategoryinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	__spacecategoryinfo.Displayorder = Convert.ToInt32 (DNTRequest.GetString ("displayorder"));  	__spacecategoryinfo.Uid = userid;  	Space.Data.DbProvider.GetInstance ().AddSpaceCategory (__spacecategoryinfo);  	SetUrl ("usercpspacemanagecategory.aspx");  	SetMetaRefresh ();  	SetShowBackLink (true);  	AddMsgLine ("添加日志分类完毕");  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryadd.cs,ShowPage,The following statement contains a magic number: if ((title.Length > 50) || (title == "")) {  	AddErrLine ("分类名称不得超过50个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("description").Length > 1000) {  	AddErrLine ("分类描述不得超过1000个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string title = Utils.HtmlEncode (DNTRequest.GetString ("title"));  	if ((title.Length > 50) || (title == "")) {  		AddErrLine ("分类名称不得超过50个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 1000) {  		AddErrLine ("分类描述不得超过1000个字符");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("displayorder"))) {  		AddErrLine ("分类描述序号必须为数字");  		return;  	}  	string errorinfo = "";  	int categoryid = DNTRequest.GetInt ("categoryid"' 0);  	if (categoryid == 0) {  		AddErrLine ("请正确选择分类信息");  		return;  	}  	spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid));  	if (spacecategoryinfo == null || spacecategoryinfo.Uid != userid) {  		AddErrLine ("您选择分类不存在");  		return;  	}  	spacecategoryinfo.Title = title;  	spacecategoryinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	spacecategoryinfo.Displayorder = Convert.ToInt32 (DNTRequest.GetString ("displayorder"));  	Space.Data.DbProvider.GetInstance ().SaveSpaceCategory (spacecategoryinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacemanagecategory.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("修改文章分类完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	int categoryid = DNTRequest.GetInt ("categoryid"' 0);  	if (categoryid == 0) {  		AddErrLine ("请正确选择分类信息");  		return;  	}  	spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid));  	if (spacecategoryinfo.Uid != userid) {  		AddErrLine ("请选择的分类不存在");  		return;  	}  	if (spacecategoryinfo == null || spacecategoryinfo.Uid != userid) {  		AddErrLine ("您选择分类不存在");  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string title = Utils.HtmlEncode (DNTRequest.GetString ("title"));  	if ((title.Length > 50) || (title == "")) {  		AddErrLine ("分类名称不得超过50个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 1000) {  		AddErrLine ("分类描述不得超过1000个字符");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("displayorder"))) {  		AddErrLine ("分类描述序号必须为数字");  		return;  	}  	string errorinfo = "";  	int categoryid = DNTRequest.GetInt ("categoryid"' 0);  	if (categoryid == 0) {  		AddErrLine ("请正确选择分类信息");  		return;  	}  	spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid));  	if (spacecategoryinfo == null || spacecategoryinfo.Uid != userid) {  		AddErrLine ("您选择分类不存在");  		return;  	}  	spacecategoryinfo.Title = title;  	spacecategoryinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	spacecategoryinfo.Displayorder = Convert.ToInt32 (DNTRequest.GetString ("displayorder"));  	Space.Data.DbProvider.GetInstance ().SaveSpaceCategory (spacecategoryinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacemanagecategory.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("修改文章分类完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	int categoryid = DNTRequest.GetInt ("categoryid"' 0);  	if (categoryid == 0) {  		AddErrLine ("请正确选择分类信息");  		return;  	}  	spacecategoryinfo = BlogProvider.GetSpaceCategoryInfo (Space.Data.DbProvider.GetInstance ().GetSpaceCategoryByCategoryID (categoryid));  	if (spacecategoryinfo.Uid != userid) {  		AddErrLine ("请选择的分类不存在");  		return;  	}  	if (spacecategoryinfo == null || spacecategoryinfo.Uid != userid) {  		AddErrLine ("您选择分类不存在");  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The following statement contains a magic number: if ((title.Length > 50) || (title == "")) {  	AddErrLine ("分类名称不得超过50个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacecategoryedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecategoryedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("description").Length > 1000) {  	AddErrLine ("分类描述不得超过1000个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacecomment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacecomment.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (pageid' pagecount' "usercpspacecomment.aspx"' 8);  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) {  		AddErrLine ("请您确保: 发布类型' 评论类型 数据项有效!");  		return;  	}  	if (DNTRequest.GetString ("title") == "") {  		AddErrLine ("请您输入文章标题");  		return;  	}  	if (DNTRequest.GetString ("title").Length > 150) {  		AddErrLine ("请将文章标题保持在150字以内");  		return;  	}  	if (blogcontent == "") {  		AddErrLine ("请您输入文章内容");  		return;  	}  	int postid = DNTRequest.GetInt ("postid"' 0);  	if (postid == 0) {  		AddErrLine ("请正确选择文章");  		return;  	}  	spacepostsinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  	if (spacepostsinfo == null || spacepostsinfo.Uid != userid) {  		AddErrLine ("您选择文章不存在");  		return;  	}  	spacepostsinfo.Title = Utils.HtmlEncode (ForumUtils.BanWordFilter (DNTRequest.GetString ("title")));  	spacepostsinfo.Content = Utils.HtmlEncode (ForumUtils.BanWordFilter (blogcontent));  	spacepostsinfo.Category = DNTRequest.GetString ("category");  	spacepostsinfo.PostStatus = DNTRequest.GetFormInt ("poststatus"' 0);  	spacepostsinfo.CommentStatus = DNTRequest.GetFormInt ("commentstatus"' 0);  	spacepostsinfo.PostUpDateTime = DateTime.Now;  	string errorinfo = "";  	Space.Data.DbProvider.GetInstance ().SaveSpacePost (spacepostsinfo);  	if (enabletag) {  		SpaceTags.DeleteSpacePostTags (spacepostsinfo.Postid);  		string tags = DNTRequest.GetString ("tags").Trim ();  		string[] tagsArray = null;  		if (tags != string.Empty) {  			tagsArray = Utils.SplitString (tags' " "' true' 10);  			if (tagsArray != null && tagsArray.Length > 0) {  				Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  				SpaceTags.WriteSpacePostTagsCacheFile (postid);  			}  		}  	}  	DNTCache.GetCacheService ().RemoveObject ("/Space/RecentUpdateSpaceAggregationList");  	if (errorinfo == "") {  		SetUrl ("usercpspacemanageblog.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("文章修改成功");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	int postid = DNTRequest.GetInt ("postid"' 0);  	if (postid == 0) {  		AddErrLine ("请正确选择文章");  		return;  	}  	categoryslist = Space.Data.DbProvider.GetInstance ().GetSpaceCategoryListByUserId (userid);  	spacepostsinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  	if (spacepostsinfo == null || spacepostsinfo.Uid != userid) {  		AddErrLine ("您选择文章不存在");  		return;  	}  	categoryslist.Columns.Add (new DataColumn ("checked"' Type.GetType ("System.Int32")));  	foreach (DataRow dr in categoryslist.Rows) {  		dr ["checked"] = ("'" + spacepostsinfo.Category + "'").IndexOf ("'" + dr ["categoryid"].ToString () + "'");  	}  	blogcontent = spacepostsinfo.Content.Replace ("'"' "\"");  	if (enabletag) {  		List<TagInfo> tags = SpaceTags.GetTagsListBySpacePost (spacepostsinfo.Postid);  		foreach (TagInfo tag in tags) {  			if (tag.Orderid > -1)  				spaceposttags += string.Format (" {0}"' tag.Tagname);  		}  		spaceposttags = spaceposttags.Trim ();  	}  }  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) {  		AddErrLine ("请您确保: 发布类型' 评论类型 数据项有效!");  		return;  	}  	if (DNTRequest.GetString ("title") == "") {  		AddErrLine ("请您输入文章标题");  		return;  	}  	if (DNTRequest.GetString ("title").Length > 150) {  		AddErrLine ("请将文章标题保持在150字以内");  		return;  	}  	if (blogcontent == "") {  		AddErrLine ("请您输入文章内容");  		return;  	}  	int postid = DNTRequest.GetInt ("postid"' 0);  	if (postid == 0) {  		AddErrLine ("请正确选择文章");  		return;  	}  	spacepostsinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  	if (spacepostsinfo == null || spacepostsinfo.Uid != userid) {  		AddErrLine ("您选择文章不存在");  		return;  	}  	spacepostsinfo.Title = Utils.HtmlEncode (ForumUtils.BanWordFilter (DNTRequest.GetString ("title")));  	spacepostsinfo.Content = Utils.HtmlEncode (ForumUtils.BanWordFilter (blogcontent));  	spacepostsinfo.Category = DNTRequest.GetString ("category");  	spacepostsinfo.PostStatus = DNTRequest.GetFormInt ("poststatus"' 0);  	spacepostsinfo.CommentStatus = DNTRequest.GetFormInt ("commentstatus"' 0);  	spacepostsinfo.PostUpDateTime = DateTime.Now;  	string errorinfo = "";  	Space.Data.DbProvider.GetInstance ().SaveSpacePost (spacepostsinfo);  	if (enabletag) {  		SpaceTags.DeleteSpacePostTags (spacepostsinfo.Postid);  		string tags = DNTRequest.GetString ("tags").Trim ();  		string[] tagsArray = null;  		if (tags != string.Empty) {  			tagsArray = Utils.SplitString (tags' " "' true' 10);  			if (tagsArray != null && tagsArray.Length > 0) {  				Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  				SpaceTags.WriteSpacePostTagsCacheFile (postid);  			}  		}  	}  	DNTCache.GetCacheService ().RemoveObject ("/Space/RecentUpdateSpaceAggregationList");  	if (errorinfo == "") {  		SetUrl ("usercpspacemanageblog.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("文章修改成功");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	int postid = DNTRequest.GetInt ("postid"' 0);  	if (postid == 0) {  		AddErrLine ("请正确选择文章");  		return;  	}  	categoryslist = Space.Data.DbProvider.GetInstance ().GetSpaceCategoryListByUserId (userid);  	spacepostsinfo = BlogProvider.GetSpacepostsInfo (Space.Data.DbProvider.GetInstance ().GetSpacePost (postid));  	if (spacepostsinfo == null || spacepostsinfo.Uid != userid) {  		AddErrLine ("您选择文章不存在");  		return;  	}  	categoryslist.Columns.Add (new DataColumn ("checked"' Type.GetType ("System.Int32")));  	foreach (DataRow dr in categoryslist.Rows) {  		dr ["checked"] = ("'" + spacepostsinfo.Category + "'").IndexOf ("'" + dr ["categoryid"].ToString () + "'");  	}  	blogcontent = spacepostsinfo.Content.Replace ("'"' "\"");  	if (enabletag) {  		List<TagInfo> tags = SpaceTags.GetTagsListBySpacePost (spacepostsinfo.Postid);  		foreach (TagInfo tag in tags) {  			if (tag.Orderid > -1)  				spaceposttags += string.Format (" {0}"' tag.Tagname);  		}  		spaceposttags = spaceposttags.Trim ();  	}  }  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("title").Length > 150) {  	AddErrLine ("请将文章标题保持在150字以内");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: if (enabletag) {  	SpaceTags.DeleteSpacePostTags (spacepostsinfo.Postid);  	string tags = DNTRequest.GetString ("tags").Trim ();  	string[] tagsArray = null;  	if (tags != string.Empty) {  		tagsArray = Utils.SplitString (tags' " "' true' 10);  		if (tagsArray != null && tagsArray.Length > 0) {  			Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  			SpaceTags.WriteSpacePostTagsCacheFile (postid);  		}  	}  }  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: if (tags != string.Empty) {  	tagsArray = Utils.SplitString (tags' " "' true' 10);  	if (tagsArray != null && tagsArray.Length > 0) {  		Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  		SpaceTags.WriteSpacePostTagsCacheFile (postid);  	}  }  
Magic Number,Discuz.Space.Pages,usercpspaceeditblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceeditblog.cs,ShowPage,The following statement contains a magic number: tagsArray = Utils.SplitString (tags' " "' true' 10);  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = new SpaceLinkInfo ();  	__spacelinkinfo.UserId = userid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.LinkUrl = linkurl;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	Space.Data.DbProvider.GetInstance ().AddSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("添加友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = new SpaceLinkInfo ();  	__spacelinkinfo.UserId = userid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.LinkUrl = linkurl;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	Space.Data.DbProvider.GetInstance ().AddSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("添加友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = new SpaceLinkInfo ();  	__spacelinkinfo.UserId = userid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.LinkUrl = linkurl;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	Space.Data.DbProvider.GetInstance ().AddSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("添加友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if ((linktitle.Length > 50) || (linktitle == "")) {  	AddErrLine ("链接标题不得超过50个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if ((linkurl.Length > 255) || (linkurl == "")) {  	AddErrLine ("链接地址不得超过255个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkadd,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkadd.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("description").Length > 200) {  	AddErrLine ("链接描述不得超过200个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (__spacelinkinfo.UserId != userid) {  		AddErrLine ("您所编辑的链接不存在");  		return;  	}  	__spacelinkinfo.LinkId = linkid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	__spacelinkinfo.LinkUrl = linkurl;  	Space.Data.DbProvider.GetInstance ().SaveSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("编辑友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (spacelinkinfo.UserId != userid) {  		AddErrLine ("您所选择的链接不存在");  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (__spacelinkinfo.UserId != userid) {  		AddErrLine ("您所编辑的链接不存在");  		return;  	}  	__spacelinkinfo.LinkId = linkid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	__spacelinkinfo.LinkUrl = linkurl;  	Space.Data.DbProvider.GetInstance ().SaveSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("编辑友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (spacelinkinfo.UserId != userid) {  		AddErrLine ("您所选择的链接不存在");  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	string linktitle = Utils.HtmlEncode (DNTRequest.GetString ("linktitle"));  	if ((linktitle.Length > 50) || (linktitle == "")) {  		AddErrLine ("链接标题不得超过50个字符且不能为空");  		return;  	}  	string linkurl = Utils.HtmlEncode (DNTRequest.GetString ("linkurl"));  	if ((linkurl.Length > 255) || (linkurl == "")) {  		AddErrLine ("链接地址不得超过255个字符且不能为空");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("链接描述不得超过200个字符");  		return;  	}  	string errorinfo = "";  	SpaceLinkInfo __spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (__spacelinkinfo.UserId != userid) {  		AddErrLine ("您所编辑的链接不存在");  		return;  	}  	__spacelinkinfo.LinkId = linkid;  	__spacelinkinfo.LinkTitle = linktitle;  	__spacelinkinfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	__spacelinkinfo.LinkUrl = linkurl;  	Space.Data.DbProvider.GetInstance ().SaveSpaceLink (__spacelinkinfo);  	if (errorinfo == "") {  		SetUrl ("usercpspacelinklist.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("编辑友情链接完毕");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	spacelinkinfo = BlogProvider.GetSpaceLinksInfo (Space.Data.DbProvider.GetInstance ().GetSpaceLinkByLinkID (linkid));  	if (spacelinkinfo.UserId != userid) {  		AddErrLine ("您所选择的链接不存在");  		return;  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if ((linktitle.Length > 50) || (linktitle == "")) {  	AddErrLine ("链接标题不得超过50个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if ((linkurl.Length > 255) || (linkurl == "")) {  	AddErrLine ("链接地址不得超过255个字符且不能为空");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinkedit,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinkedit.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("description").Length > 200) {  	AddErrLine ("链接描述不得超过200个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in linklist.Rows) {  	dr ["shortlinktitle"] = dr ["linktitle"];  	if (dr ["shortlinktitle"].ToString ().Length > 30)  		dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  	dr ["shortlinkurl"] = dr ["linkurl"];  	if (dr ["shortlinkurl"].ToString ().Length > 30)  		dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  	if (dr ["description"].ToString ().Length > 30)  		dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["shortlinktitle"].ToString ().Length > 30)  	dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["shortlinktitle"].ToString ().Length > 30)  	dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: dr ["shortlinktitle"] = dr ["shortlinktitle"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["shortlinkurl"].ToString ().Length > 30)  	dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["shortlinkurl"].ToString ().Length > 30)  	dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: dr ["shortlinkurl"] = dr ["shortlinkurl"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["description"].ToString ().Length > 30)  	dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: if (dr ["description"].ToString ().Length > 30)  	dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: dr ["description"] = dr ["description"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacelinklist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacelinklist.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (pageid' pagecount' "usercpspacelinklist.aspx"' 8);  
Magic Number,Discuz.Space.Pages,usercpspacemanageattachment,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageattachment.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (pageid' pagecount' "usercpspacemanageattachment.aspx"' 8);  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in bloglist.Rows) {  	dr ["category"] = Space.Data.DbProvider.GetInstance ().GetCategoryNameByIdList (dr ["category"].ToString ());  	dr ["shorttitle"] = dr ["title"];  	if (dr ["shorttitle"].ToString ().Length > 30) {  		dr ["shorttitle"] = dr ["shorttitle"].ToString ().Substring (0' 30) + "...";  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: foreach (DataRow dr in bloglist.Rows) {  	dr ["category"] = Space.Data.DbProvider.GetInstance ().GetCategoryNameByIdList (dr ["category"].ToString ());  	dr ["shorttitle"] = dr ["title"];  	if (dr ["shorttitle"].ToString ().Length > 30) {  		dr ["shorttitle"] = dr ["shorttitle"].ToString ().Substring (0' 30) + "...";  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: if (dr ["shorttitle"].ToString ().Length > 30) {  	dr ["shorttitle"] = dr ["shorttitle"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: if (dr ["shorttitle"].ToString ().Length > 30) {  	dr ["shorttitle"] = dr ["shorttitle"].ToString ().Substring (0' 30) + "...";  }  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: dr ["shorttitle"] = dr ["shorttitle"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacemanageblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanageblog.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (pageid' pagecount' "usercpspacemanageblog.aspx"' 8);  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: foreach (DataRow currentcategory in categorylist.Rows) {  	if (currentcategory ["description"].ToString ().Length > 30)  		currentcategory ["shortdescription"] = currentcategory ["description"].ToString ().Substring (0' 30) + "...";  	else  		currentcategory ["shortdescription"] = currentcategory ["description"].ToString ();  }  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: foreach (DataRow currentcategory in categorylist.Rows) {  	if (currentcategory ["description"].ToString ().Length > 30)  		currentcategory ["shortdescription"] = currentcategory ["description"].ToString ().Substring (0' 30) + "...";  	else  		currentcategory ["shortdescription"] = currentcategory ["description"].ToString ();  }  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: if (currentcategory ["description"].ToString ().Length > 30)  	currentcategory ["shortdescription"] = currentcategory ["description"].ToString ().Substring (0' 30) + "...";  else  	currentcategory ["shortdescription"] = currentcategory ["description"].ToString ();  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: if (currentcategory ["description"].ToString ().Length > 30)  	currentcategory ["shortdescription"] = currentcategory ["description"].ToString ().Substring (0' 30) + "...";  else  	currentcategory ["shortdescription"] = currentcategory ["description"].ToString ();  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: currentcategory ["shortdescription"] = currentcategory ["description"].ToString ().Substring (0' 30) + "...";  
Magic Number,Discuz.Space.Pages,usercpspacemanagecategory,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacemanagecategory.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (pageid' pagecount' "usercpspacemanagecategory.aspx"' 8);  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) {  		AddErrLine ("请您确保 发布类型'评论类型'数据项有效!");  		return;  	}  	if (DNTRequest.GetString ("title") == "") {  		AddErrLine ("请您输入文章标题");  		return;  	}  	if (DNTRequest.GetString ("title").Length > 150) {  		AddErrLine ("请将文章标题保持在150字以内");  		return;  	}  	if (blogcontent == "") {  		AddErrLine ("请您输入文章内容");  		return;  	}  	SpacePostInfo spacepostsinfo = new SpacePostInfo ();  	spacepostsinfo.Title = Utils.HtmlEncode (ForumUtils.BanWordFilter (DNTRequest.GetString ("title")));  	spacepostsinfo.Content = Utils.HtmlEncode (ForumUtils.BanWordFilter (blogcontent));  	spacepostsinfo.Category = DNTRequest.GetString ("category");  	spacepostsinfo.PostStatus = DNTRequest.GetFormInt ("poststatus"' 0);  	spacepostsinfo.CommentStatus = DNTRequest.GetFormInt ("commentstatus"' 0);  	spacepostsinfo.Postdatetime = DateTime.Now;  	spacepostsinfo.Author = username;  	spacepostsinfo.Uid = userid;  	spacepostsinfo.PostUpDateTime = DateTime.Now;  	spacepostsinfo.Commentcount = 0;  	int postid = Space.Data.DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  	//启用了标签功能  	if (enabletag) {  		string tags = DNTRequest.GetString ("tags").Trim ();  		string[] tagsArray = null;  		if (!Utils.StrIsNullOrEmpty (tags)) {  			tagsArray = Utils.SplitString (tags' " "' true' 10);  			if (tagsArray != null && tagsArray.Length > 0) {  				Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  				SpaceTags.WriteSpacePostTagsCacheFile (postid);  			}  		}  	}  	DNTCache.GetCacheService ().RemoveObject ("/Space/RecentUpdateSpaceAggregationList");  	SetUrl ("usercpspacemanageblog.aspx");  	SetMetaRefresh ();  	SetShowBackLink (true);  	AddMsgLine ("文章增加成功");  }  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (!Utils.IsNumeric (DNTRequest.GetString ("poststatus")) || !Utils.IsNumeric (DNTRequest.GetString ("commentstatus"))) {  		AddErrLine ("请您确保 发布类型'评论类型'数据项有效!");  		return;  	}  	if (DNTRequest.GetString ("title") == "") {  		AddErrLine ("请您输入文章标题");  		return;  	}  	if (DNTRequest.GetString ("title").Length > 150) {  		AddErrLine ("请将文章标题保持在150字以内");  		return;  	}  	if (blogcontent == "") {  		AddErrLine ("请您输入文章内容");  		return;  	}  	SpacePostInfo spacepostsinfo = new SpacePostInfo ();  	spacepostsinfo.Title = Utils.HtmlEncode (ForumUtils.BanWordFilter (DNTRequest.GetString ("title")));  	spacepostsinfo.Content = Utils.HtmlEncode (ForumUtils.BanWordFilter (blogcontent));  	spacepostsinfo.Category = DNTRequest.GetString ("category");  	spacepostsinfo.PostStatus = DNTRequest.GetFormInt ("poststatus"' 0);  	spacepostsinfo.CommentStatus = DNTRequest.GetFormInt ("commentstatus"' 0);  	spacepostsinfo.Postdatetime = DateTime.Now;  	spacepostsinfo.Author = username;  	spacepostsinfo.Uid = userid;  	spacepostsinfo.PostUpDateTime = DateTime.Now;  	spacepostsinfo.Commentcount = 0;  	int postid = Space.Data.DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  	//启用了标签功能  	if (enabletag) {  		string tags = DNTRequest.GetString ("tags").Trim ();  		string[] tagsArray = null;  		if (!Utils.StrIsNullOrEmpty (tags)) {  			tagsArray = Utils.SplitString (tags' " "' true' 10);  			if (tagsArray != null && tagsArray.Length > 0) {  				Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  				SpaceTags.WriteSpacePostTagsCacheFile (postid);  			}  		}  	}  	DNTCache.GetCacheService ().RemoveObject ("/Space/RecentUpdateSpaceAggregationList");  	SetUrl ("usercpspacemanageblog.aspx");  	SetMetaRefresh ();  	SetShowBackLink (true);  	AddMsgLine ("文章增加成功");  }  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("title").Length > 150) {  	AddErrLine ("请将文章标题保持在150字以内");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: if (enabletag) {  	string tags = DNTRequest.GetString ("tags").Trim ();  	string[] tagsArray = null;  	if (!Utils.StrIsNullOrEmpty (tags)) {  		tagsArray = Utils.SplitString (tags' " "' true' 10);  		if (tagsArray != null && tagsArray.Length > 0) {  			Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  			SpaceTags.WriteSpacePostTagsCacheFile (postid);  		}  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: if (!Utils.StrIsNullOrEmpty (tags)) {  	tagsArray = Utils.SplitString (tags' " "' true' 10);  	if (tagsArray != null && tagsArray.Length > 0) {  		Space.Data.DbProvider.GetInstance ().CreateSpacePostTags (string.Join (" "' tagsArray)' postid' userid' Utils.GetDateTime ());  		SpaceTags.WriteSpacePostTagsCacheFile (postid);  	}  }  
Magic Number,Discuz.Space.Pages,usercpspacepostblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspacepostblog.cs,ShowPage,The following statement contains a magic number: tagsArray = Utils.SplitString (tags' " "' true' 10);  
Magic Number,Discuz.Space.Pages,usercpspaceset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceset.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (DNTRequest.GetString ("spacetitle").Length > 100) {  		AddErrLine ("BLOG标题不得超过100个字符");  		return;  	}  	if (DNTRequest.GetString ("_description").Length > 200) {  		AddErrLine ("空间描述不得超过200个字符");  		return;  	}  	if (page_err == 0) {  		spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  		spaceconfiginfo.UserID = userid;  		spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  		spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("_description"));  		spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  		spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  		spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  		spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  		if (spaceactiveconfig.Enablespacerewrite == 1) {  			string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  			if (!Utils.StrIsNullOrEmpty (rewritename)) {  				if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  					Space.Data.DbProvider.GetInstance ().UpdateUserSpaceRewriteName (userid' rewritename);  				else {  					AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  					return;  				}  			}  		}  		string errorinfo = "";  		Space.Data.DbProvider.GetInstance ().SaveSpaceConfigData (spaceconfiginfo);  		if (errorinfo == "") {  			SetShowBackLink (true);  			AddMsgLine ("个人空间基本设置完毕");  		}  		else {  			AddErrLine (errorinfo);  			return;  		}  	}  }  else {  	spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  }  
Magic Number,Discuz.Space.Pages,usercpspaceset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceset.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (DNTRequest.GetString ("spacetitle").Length > 100) {  		AddErrLine ("BLOG标题不得超过100个字符");  		return;  	}  	if (DNTRequest.GetString ("_description").Length > 200) {  		AddErrLine ("空间描述不得超过200个字符");  		return;  	}  	if (page_err == 0) {  		spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  		spaceconfiginfo.UserID = userid;  		spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  		spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("_description"));  		spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  		spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  		spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  		spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  		if (spaceactiveconfig.Enablespacerewrite == 1) {  			string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  			if (!Utils.StrIsNullOrEmpty (rewritename)) {  				if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  					Space.Data.DbProvider.GetInstance ().UpdateUserSpaceRewriteName (userid' rewritename);  				else {  					AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  					return;  				}  			}  		}  		string errorinfo = "";  		Space.Data.DbProvider.GetInstance ().SaveSpaceConfigData (spaceconfiginfo);  		if (errorinfo == "") {  			SetShowBackLink (true);  			AddMsgLine ("个人空间基本设置完毕");  		}  		else {  			AddErrLine (errorinfo);  			return;  		}  	}  }  else {  	spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  }  
Magic Number,Discuz.Space.Pages,usercpspaceset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceset.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("spacetitle").Length > 100) {  	AddErrLine ("BLOG标题不得超过100个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,usercpspaceset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\usercpspaceset.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("_description").Length > 200) {  	AddErrLine ("空间描述不得超过200个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The following statement contains a magic number: newtopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.PostDateTime' false' false);  
Magic Number,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The following statement contains a magic number: hottopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.Views' false' false);  
Magic Number,Discuz.Space.Pages,bloglist,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\bloglist.cs,ShowPage,The following statement contains a magic number: pagenumbers = Utils.GetPageNumbers (currentpage' pagecount' "bloglist.aspx"' 8);  
Magic Number,Discuz.Space.Pages,spaceindex,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceindex.cs,ShowPage,The following statement contains a magic number: newtopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.PostDateTime' false' false);  
Magic Number,Discuz.Space.Pages,spaceindex,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceindex.cs,ShowPage,The following statement contains a magic number: hottopiclist = AggregationFacade.ForumAggregation.GetForumTopicList (10' 0' 0' TopicTimeType.All' TopicOrderType.Views' false' false);  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (DNTRequest.GetString ("spacetitle").Length > 100) {  		AddErrLine ("个人空间标题不得超过100个字符");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("个人空间描述不得超过200个字符");  		return;  	}  	if (DNTRequest.GetInt ("bpp"' 0) == 0) {  		AddErrLine ("显示日志篇数必需是一个大于0的数字");  		return;  	}  	if (page_err == 0) {  		DataRow dr = DbProvider.GetInstance ().GetThemes ();  		spaceconfiginfo = new SpaceConfigInfo ();  		spaceconfiginfo.UserID = userid;  		spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  		spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  		spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  		spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  		spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  		spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  		spaceconfiginfo.UpdateDateTime = spaceconfiginfo.CreateDateTime = DateTime.Now;  		string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  		if (rewritename != string.Empty) {  			if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  				spaceconfiginfo.Rewritename = rewritename;  			else {  				AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  				return;  			}  		}  		else  			spaceconfiginfo.Rewritename = "";  		spaceconfiginfo.ThemeID = int.Parse (dr ["themeid"].ToString ());  		spaceconfiginfo.ThemePath = dr ["directory"].ToString ();  		spaceconfiginfo.PostCount = 0;  		spaceconfiginfo.CommentCount = 0;  		spaceconfiginfo.VisitedTimes = 0;  		spaceconfiginfo.DefaultTab = 0;  		string errorinfo = "";  		int blogid = DbProvider.GetInstance ().AddSpaceConfigData (spaceconfiginfo);  		Users.UpdateUserSpaceId (-blogid' userid);  		SpaceActiveConfigInfo _spaceconfiginfo = SpaceActiveConfigs.GetConfig ();  		if (_spaceconfiginfo.ActiveType == "0") {  			if (errorinfo == "") {  				SetUrl ("index.aspx");  				SetMetaRefresh ();  				SetShowBackLink (true);  				AddMsgLine ("您的申请已经提交，请等待管理员开通您的个人空间");  			}  			else {  				AddErrLine (errorinfo);  				return;  			}  		}  		else {  			Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (userid);  			int tabid = Spaces.GetNewTabId (userid);  			TabInfo tab = new TabInfo ();  			tab.TabID = tabid;  			tab.UserID = userid;  			tab.DisplayOrder = 0;  			tab.TabName = "首页";  			tab.IconFile = "";  			tab.Template = "template_25_75.htm";  			Spaces.AddTab (tab);  			Spaces.AddLocalModule ("builtin_calendarmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_statisticmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  			if (SpaceActiveConfigs.GetConfig ().Spacegreeting != string.Empty) {  				SpacePostInfo spacepostsinfo = new SpacePostInfo ();  				spacepostsinfo.Title = string.Format ("欢迎使用 {0} 个人空间"' config.Forumtitle);  				spacepostsinfo.Content = SpaceActiveConfigs.GetConfig ().Spacegreeting;  				spacepostsinfo.Category = string.Empty;  				spacepostsinfo.PostStatus = 1;  				spacepostsinfo.CommentStatus = 0;  				spacepostsinfo.Postdatetime = DateTime.Now;  				spacepostsinfo.Author = username;  				spacepostsinfo.Uid = userid;  				spacepostsinfo.PostUpDateTime = DateTime.Now;  				spacepostsinfo.Commentcount = 0;  				DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  			}  			///添加最新主题到日志  			List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  			foreach (TopicInfo mytopic in list) {  				int pid = Posts.GetFirstPostId (mytopic.Tid);  				PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  				if (post != null && post.Message.Trim () != string.Empty) {  					SpacePostInfo spacepost = new SpacePostInfo ();  					spacepost.Author = username;  					string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  					spacepost.Category = "";  					spacepost.Content = content;  					spacepost.Postdatetime = DateTime.Now;  					spacepost.PostStatus = 1;  					spacepost.PostUpDateTime = DateTime.Now;  					spacepost.Title = post.Title;  					spacepost.Uid = userid;  					DbProvider.GetInstance ().AddSpacePost (spacepost);  				}  			}  			SetUrl ("space/");  			SetMetaRefresh ();  			SetShowBackLink (true);  			AddMsgLine ("恭喜您，您的个人空间已经被开通");  		}  	}  }  else  	spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (DNTRequest.GetString ("spacetitle").Length > 100) {  		AddErrLine ("个人空间标题不得超过100个字符");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("个人空间描述不得超过200个字符");  		return;  	}  	if (DNTRequest.GetInt ("bpp"' 0) == 0) {  		AddErrLine ("显示日志篇数必需是一个大于0的数字");  		return;  	}  	if (page_err == 0) {  		DataRow dr = DbProvider.GetInstance ().GetThemes ();  		spaceconfiginfo = new SpaceConfigInfo ();  		spaceconfiginfo.UserID = userid;  		spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  		spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  		spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  		spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  		spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  		spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  		spaceconfiginfo.UpdateDateTime = spaceconfiginfo.CreateDateTime = DateTime.Now;  		string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  		if (rewritename != string.Empty) {  			if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  				spaceconfiginfo.Rewritename = rewritename;  			else {  				AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  				return;  			}  		}  		else  			spaceconfiginfo.Rewritename = "";  		spaceconfiginfo.ThemeID = int.Parse (dr ["themeid"].ToString ());  		spaceconfiginfo.ThemePath = dr ["directory"].ToString ();  		spaceconfiginfo.PostCount = 0;  		spaceconfiginfo.CommentCount = 0;  		spaceconfiginfo.VisitedTimes = 0;  		spaceconfiginfo.DefaultTab = 0;  		string errorinfo = "";  		int blogid = DbProvider.GetInstance ().AddSpaceConfigData (spaceconfiginfo);  		Users.UpdateUserSpaceId (-blogid' userid);  		SpaceActiveConfigInfo _spaceconfiginfo = SpaceActiveConfigs.GetConfig ();  		if (_spaceconfiginfo.ActiveType == "0") {  			if (errorinfo == "") {  				SetUrl ("index.aspx");  				SetMetaRefresh ();  				SetShowBackLink (true);  				AddMsgLine ("您的申请已经提交，请等待管理员开通您的个人空间");  			}  			else {  				AddErrLine (errorinfo);  				return;  			}  		}  		else {  			Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (userid);  			int tabid = Spaces.GetNewTabId (userid);  			TabInfo tab = new TabInfo ();  			tab.TabID = tabid;  			tab.UserID = userid;  			tab.DisplayOrder = 0;  			tab.TabName = "首页";  			tab.IconFile = "";  			tab.Template = "template_25_75.htm";  			Spaces.AddTab (tab);  			Spaces.AddLocalModule ("builtin_calendarmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_statisticmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  			if (SpaceActiveConfigs.GetConfig ().Spacegreeting != string.Empty) {  				SpacePostInfo spacepostsinfo = new SpacePostInfo ();  				spacepostsinfo.Title = string.Format ("欢迎使用 {0} 个人空间"' config.Forumtitle);  				spacepostsinfo.Content = SpaceActiveConfigs.GetConfig ().Spacegreeting;  				spacepostsinfo.Category = string.Empty;  				spacepostsinfo.PostStatus = 1;  				spacepostsinfo.CommentStatus = 0;  				spacepostsinfo.Postdatetime = DateTime.Now;  				spacepostsinfo.Author = username;  				spacepostsinfo.Uid = userid;  				spacepostsinfo.PostUpDateTime = DateTime.Now;  				spacepostsinfo.Commentcount = 0;  				DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  			}  			///添加最新主题到日志  			List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  			foreach (TopicInfo mytopic in list) {  				int pid = Posts.GetFirstPostId (mytopic.Tid);  				PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  				if (post != null && post.Message.Trim () != string.Empty) {  					SpacePostInfo spacepost = new SpacePostInfo ();  					spacepost.Author = username;  					string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  					spacepost.Category = "";  					spacepost.Content = content;  					spacepost.Postdatetime = DateTime.Now;  					spacepost.PostStatus = 1;  					spacepost.PostUpDateTime = DateTime.Now;  					spacepost.Title = post.Title;  					spacepost.Uid = userid;  					DbProvider.GetInstance ().AddSpacePost (spacepost);  				}  			}  			SetUrl ("space/");  			SetMetaRefresh ();  			SetShowBackLink (true);  			AddMsgLine ("恭喜您，您的个人空间已经被开通");  		}  	}  }  else  	spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.IsPost ()) {  	if (ForumUtils.IsCrossSitePost ()) {  		AddErrLine ("您的请求来路不正确，无法提交。如果您安装了某种默认屏蔽来路信息的个人防火墙软件(如 Norton Internet Security)，请设置其不要禁止来路信息后再试。");  		return;  	}  	if (DNTRequest.GetString ("spacetitle").Length > 100) {  		AddErrLine ("个人空间标题不得超过100个字符");  		return;  	}  	if (DNTRequest.GetString ("description").Length > 200) {  		AddErrLine ("个人空间描述不得超过200个字符");  		return;  	}  	if (DNTRequest.GetInt ("bpp"' 0) == 0) {  		AddErrLine ("显示日志篇数必需是一个大于0的数字");  		return;  	}  	if (page_err == 0) {  		DataRow dr = DbProvider.GetInstance ().GetThemes ();  		spaceconfiginfo = new SpaceConfigInfo ();  		spaceconfiginfo.UserID = userid;  		spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  		spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  		spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  		spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  		spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  		spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  		spaceconfiginfo.UpdateDateTime = spaceconfiginfo.CreateDateTime = DateTime.Now;  		string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  		if (rewritename != string.Empty) {  			if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  				spaceconfiginfo.Rewritename = rewritename;  			else {  				AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  				return;  			}  		}  		else  			spaceconfiginfo.Rewritename = "";  		spaceconfiginfo.ThemeID = int.Parse (dr ["themeid"].ToString ());  		spaceconfiginfo.ThemePath = dr ["directory"].ToString ();  		spaceconfiginfo.PostCount = 0;  		spaceconfiginfo.CommentCount = 0;  		spaceconfiginfo.VisitedTimes = 0;  		spaceconfiginfo.DefaultTab = 0;  		string errorinfo = "";  		int blogid = DbProvider.GetInstance ().AddSpaceConfigData (spaceconfiginfo);  		Users.UpdateUserSpaceId (-blogid' userid);  		SpaceActiveConfigInfo _spaceconfiginfo = SpaceActiveConfigs.GetConfig ();  		if (_spaceconfiginfo.ActiveType == "0") {  			if (errorinfo == "") {  				SetUrl ("index.aspx");  				SetMetaRefresh ();  				SetShowBackLink (true);  				AddMsgLine ("您的申请已经提交，请等待管理员开通您的个人空间");  			}  			else {  				AddErrLine (errorinfo);  				return;  			}  		}  		else {  			Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (userid);  			int tabid = Spaces.GetNewTabId (userid);  			TabInfo tab = new TabInfo ();  			tab.TabID = tabid;  			tab.UserID = userid;  			tab.DisplayOrder = 0;  			tab.TabName = "首页";  			tab.IconFile = "";  			tab.Template = "template_25_75.htm";  			Spaces.AddTab (tab);  			Spaces.AddLocalModule ("builtin_calendarmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_statisticmodule.xml"' userid' tabid' 1);  			Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  			if (SpaceActiveConfigs.GetConfig ().Spacegreeting != string.Empty) {  				SpacePostInfo spacepostsinfo = new SpacePostInfo ();  				spacepostsinfo.Title = string.Format ("欢迎使用 {0} 个人空间"' config.Forumtitle);  				spacepostsinfo.Content = SpaceActiveConfigs.GetConfig ().Spacegreeting;  				spacepostsinfo.Category = string.Empty;  				spacepostsinfo.PostStatus = 1;  				spacepostsinfo.CommentStatus = 0;  				spacepostsinfo.Postdatetime = DateTime.Now;  				spacepostsinfo.Author = username;  				spacepostsinfo.Uid = userid;  				spacepostsinfo.PostUpDateTime = DateTime.Now;  				spacepostsinfo.Commentcount = 0;  				DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  			}  			///添加最新主题到日志  			List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  			foreach (TopicInfo mytopic in list) {  				int pid = Posts.GetFirstPostId (mytopic.Tid);  				PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  				if (post != null && post.Message.Trim () != string.Empty) {  					SpacePostInfo spacepost = new SpacePostInfo ();  					spacepost.Author = username;  					string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  					spacepost.Category = "";  					spacepost.Content = content;  					spacepost.Postdatetime = DateTime.Now;  					spacepost.PostStatus = 1;  					spacepost.PostUpDateTime = DateTime.Now;  					spacepost.Title = post.Title;  					spacepost.Uid = userid;  					DbProvider.GetInstance ().AddSpacePost (spacepost);  				}  			}  			SetUrl ("space/");  			SetMetaRefresh ();  			SetShowBackLink (true);  			AddMsgLine ("恭喜您，您的个人空间已经被开通");  		}  	}  }  else  	spaceconfiginfo = BlogProvider.GetSpaceConfigInfo (userid);  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("spacetitle").Length > 100) {  	AddErrLine ("个人空间标题不得超过100个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (DNTRequest.GetString ("description").Length > 200) {  	AddErrLine ("个人空间描述不得超过200个字符");  	return;  }  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (page_err == 0) {  	DataRow dr = DbProvider.GetInstance ().GetThemes ();  	spaceconfiginfo = new SpaceConfigInfo ();  	spaceconfiginfo.UserID = userid;  	spaceconfiginfo.Spacetitle = Utils.HtmlEncode (DNTRequest.GetString ("spacetitle"));  	spaceconfiginfo.Description = Utils.HtmlEncode (DNTRequest.GetString ("description"));  	spaceconfiginfo.BlogDispMode = DNTRequest.GetInt ("blogdispmode"' 0);  	spaceconfiginfo.Bpp = DNTRequest.GetInt ("bpp"' 0);  	spaceconfiginfo.Commentpref = DNTRequest.GetInt ("commentpref"' 0);  	spaceconfiginfo.MessagePref = DNTRequest.GetInt ("messagepref"' 0);  	spaceconfiginfo.UpdateDateTime = spaceconfiginfo.CreateDateTime = DateTime.Now;  	string rewritename = DNTRequest.GetFormString ("rewritename").Trim ();  	if (rewritename != string.Empty) {  		if (Globals.CheckSpaceRewriteNameAvailable (rewritename) == 0)  			spaceconfiginfo.Rewritename = rewritename;  		else {  			AddErrLine ("您输入的 个性域名 不可用或含有非法字符");  			return;  		}  	}  	else  		spaceconfiginfo.Rewritename = "";  	spaceconfiginfo.ThemeID = int.Parse (dr ["themeid"].ToString ());  	spaceconfiginfo.ThemePath = dr ["directory"].ToString ();  	spaceconfiginfo.PostCount = 0;  	spaceconfiginfo.CommentCount = 0;  	spaceconfiginfo.VisitedTimes = 0;  	spaceconfiginfo.DefaultTab = 0;  	string errorinfo = "";  	int blogid = DbProvider.GetInstance ().AddSpaceConfigData (spaceconfiginfo);  	Users.UpdateUserSpaceId (-blogid' userid);  	SpaceActiveConfigInfo _spaceconfiginfo = SpaceActiveConfigs.GetConfig ();  	if (_spaceconfiginfo.ActiveType == "0") {  		if (errorinfo == "") {  			SetUrl ("index.aspx");  			SetMetaRefresh ();  			SetShowBackLink (true);  			AddMsgLine ("您的申请已经提交，请等待管理员开通您的个人空间");  		}  		else {  			AddErrLine (errorinfo);  			return;  		}  	}  	else {  		Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (userid);  		int tabid = Spaces.GetNewTabId (userid);  		TabInfo tab = new TabInfo ();  		tab.TabID = tabid;  		tab.UserID = userid;  		tab.DisplayOrder = 0;  		tab.TabName = "首页";  		tab.IconFile = "";  		tab.Template = "template_25_75.htm";  		Spaces.AddTab (tab);  		Spaces.AddLocalModule ("builtin_calendarmodule.xml"' userid' tabid' 1);  		Spaces.AddLocalModule ("builtin_statisticmodule.xml"' userid' tabid' 1);  		Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  		if (SpaceActiveConfigs.GetConfig ().Spacegreeting != string.Empty) {  			SpacePostInfo spacepostsinfo = new SpacePostInfo ();  			spacepostsinfo.Title = string.Format ("欢迎使用 {0} 个人空间"' config.Forumtitle);  			spacepostsinfo.Content = SpaceActiveConfigs.GetConfig ().Spacegreeting;  			spacepostsinfo.Category = string.Empty;  			spacepostsinfo.PostStatus = 1;  			spacepostsinfo.CommentStatus = 0;  			spacepostsinfo.Postdatetime = DateTime.Now;  			spacepostsinfo.Author = username;  			spacepostsinfo.Uid = userid;  			spacepostsinfo.PostUpDateTime = DateTime.Now;  			spacepostsinfo.Commentcount = 0;  			DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  		}  		///添加最新主题到日志  		List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  		foreach (TopicInfo mytopic in list) {  			int pid = Posts.GetFirstPostId (mytopic.Tid);  			PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  			if (post != null && post.Message.Trim () != string.Empty) {  				SpacePostInfo spacepost = new SpacePostInfo ();  				spacepost.Author = username;  				string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  				spacepost.Category = "";  				spacepost.Content = content;  				spacepost.Postdatetime = DateTime.Now;  				spacepost.PostStatus = 1;  				spacepost.PostUpDateTime = DateTime.Now;  				spacepost.Title = post.Title;  				spacepost.Uid = userid;  				DbProvider.GetInstance ().AddSpacePost (spacepost);  			}  		}  		SetUrl ("space/");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("恭喜您，您的个人空间已经被开通");  	}  }  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: if (_spaceconfiginfo.ActiveType == "0") {  	if (errorinfo == "") {  		SetUrl ("index.aspx");  		SetMetaRefresh ();  		SetShowBackLink (true);  		AddMsgLine ("您的申请已经提交，请等待管理员开通您的个人空间");  	}  	else {  		AddErrLine (errorinfo);  		return;  	}  }  else {  	Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (userid);  	int tabid = Spaces.GetNewTabId (userid);  	TabInfo tab = new TabInfo ();  	tab.TabID = tabid;  	tab.UserID = userid;  	tab.DisplayOrder = 0;  	tab.TabName = "首页";  	tab.IconFile = "";  	tab.Template = "template_25_75.htm";  	Spaces.AddTab (tab);  	Spaces.AddLocalModule ("builtin_calendarmodule.xml"' userid' tabid' 1);  	Spaces.AddLocalModule ("builtin_statisticmodule.xml"' userid' tabid' 1);  	Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  	if (SpaceActiveConfigs.GetConfig ().Spacegreeting != string.Empty) {  		SpacePostInfo spacepostsinfo = new SpacePostInfo ();  		spacepostsinfo.Title = string.Format ("欢迎使用 {0} 个人空间"' config.Forumtitle);  		spacepostsinfo.Content = SpaceActiveConfigs.GetConfig ().Spacegreeting;  		spacepostsinfo.Category = string.Empty;  		spacepostsinfo.PostStatus = 1;  		spacepostsinfo.CommentStatus = 0;  		spacepostsinfo.Postdatetime = DateTime.Now;  		spacepostsinfo.Author = username;  		spacepostsinfo.Uid = userid;  		spacepostsinfo.PostUpDateTime = DateTime.Now;  		spacepostsinfo.Commentcount = 0;  		DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  	}  	///添加最新主题到日志  	List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  	foreach (TopicInfo mytopic in list) {  		int pid = Posts.GetFirstPostId (mytopic.Tid);  		PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  		if (post != null && post.Message.Trim () != string.Empty) {  			SpacePostInfo spacepost = new SpacePostInfo ();  			spacepost.Author = username;  			string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  			spacepost.Category = "";  			spacepost.Content = content;  			spacepost.Postdatetime = DateTime.Now;  			spacepost.PostStatus = 1;  			spacepost.PostUpDateTime = DateTime.Now;  			spacepost.Title = post.Title;  			spacepost.Uid = userid;  			DbProvider.GetInstance ().AddSpacePost (spacepost);  		}  	}  	SetUrl ("space/");  	SetMetaRefresh ();  	SetShowBackLink (true);  	AddMsgLine ("恭喜您，您的个人空间已经被开通");  }  
Magic Number,Discuz.Space.Pages,spaceregister,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Pages\spaceregister.cs,ShowPage,The following statement contains a magic number: Spaces.AddLocalModule ("builtin_postlistmodule.xml"' userid' tabid' 2);  
Magic Number,Discuz.Space.Provider,SpaceProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Provider\SpaceProvider.cs,GetModuleEntity,The following statement contains a magic number: if (moduletype < 1 || moduletype > 4)  	moduletype = 4;  
Magic Number,Discuz.Space.Provider,SpaceProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Provider\SpaceProvider.cs,GetModuleEntity,The following statement contains a magic number: if (moduletype < 1 || moduletype > 4)  	moduletype = 4;  
Magic Number,Discuz.Space.Provider,SpaceProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Provider\SpaceProvider.cs,GetModuleEntity,The following statement contains a magic number: moduletype = 4;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName != string.Empty) {  	rewriteName = rewriteName.ToLower ().Trim ();  	if (rewriteName.IndexOfAny (new char[] {  		'　''  		' ''  		':'  	}) != -1) {  		return 1;  	}  	else if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  		return 1;  	}  	else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  		return 2;  	}  	else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  		return 3;  	}  	else {  		return 0;  	}  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName != string.Empty) {  	rewriteName = rewriteName.ToLower ().Trim ();  	if (rewriteName.IndexOfAny (new char[] {  		'　''  		' ''  		':'  	}) != -1) {  		return 1;  	}  	else if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  		return 1;  	}  	else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  		return 2;  	}  	else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  		return 3;  	}  	else {  		return 0;  	}  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName.IndexOfAny (new char[] {  	'　''  	' ''  	':'  }) != -1) {  	return 1;  }  else if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  	return 1;  }  else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName.IndexOfAny (new char[] {  	'　''  	' ''  	':'  }) != -1) {  	return 1;  }  else if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  	return 1;  }  else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  	return 1;  }  else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (rewriteName == PrivateMessages.SystemUserName || ForumUtils.InBanWordArray (rewriteName) || ForumUtils.IsBanUsername (rewriteName' GeneralConfigs.GetConfig ().Censoruser)) {  	return 1;  }  else if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (Regex.IsMatch (rewriteName' "([^a-z0-9_-]+?)")) {  	return 2;  }  else if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: return 2;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: if (Space.Data.DbProvider.GetInstance ().IsRewritenameExist (rewriteName)) {  	return 3;  }  else {  	return 0;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,CheckSpaceRewriteNameAvailable,The following statement contains a magic number: return 3;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,GetSourceTextByUrl,The following statement contains a magic number: request.Timeout = 20000;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: while (File.Exists (sSavePath + sFilename)) {  	//sFilename = Path.GetFileNameWithoutExtension(uploadFile.FileName) + file_append.ToString() + Path.GetExtension(uploadFile.FileName).ToLower();  	sFilename = Environment.TickCount.ToString () + random.Next (1000' 9999).ToString () + fileextname;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: while (File.Exists (sSavePath + sFilename)) {  	//sFilename = Path.GetFileNameWithoutExtension(uploadFile.FileName) + file_append.ToString() + Path.GetExtension(uploadFile.FileName).ToLower();  	sFilename = Environment.TickCount.ToString () + random.Next (1000' 9999).ToString () + fileextname;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: sFilename = Environment.TickCount.ToString () + random.Next (1000' 9999).ToString () + fileextname;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: sFilename = Environment.TickCount.ToString () + random.Next (1000' 9999).ToString () + fileextname;  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: if (Common.Utils.InArray (Path.GetExtension (uploadFile.FileName).ToLower ()' ".jpg'.jpeg'.gif'.png") && createThumbnailImage) {  	//上传图片文件jpg'gif  	//Bitmap myBitmap;  	try {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		//myBitmap = new Bitmap(sSavePath + sFilename);  		//myBitmap.Dispose();  		//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  		//GetThumbnailImage(150'150'sSavePath + sFilename);  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  else//上传除图片文件以外的全部文件   {  	try {  		uploadFile.SaveAs (sSavePath + sFilename);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: if (Common.Utils.InArray (Path.GetExtension (uploadFile.FileName).ToLower ()' ".jpg'.jpeg'.gif'.png") && createThumbnailImage) {  	//上传图片文件jpg'gif  	//Bitmap myBitmap;  	try {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		//myBitmap = new Bitmap(sSavePath + sFilename);  		//myBitmap.Dispose();  		//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  		//GetThumbnailImage(150'150'sSavePath + sFilename);  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  else//上传除图片文件以外的全部文件   {  	try {  		uploadFile.SaveAs (sSavePath + sFilename);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: if (Common.Utils.InArray (Path.GetExtension (uploadFile.FileName).ToLower ()' ".jpg'.jpeg'.gif'.png") && createThumbnailImage) {  	//上传图片文件jpg'gif  	//Bitmap myBitmap;  	try {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (myData' 0' myData.Length);  		newFile.Close ();  		//myBitmap = new Bitmap(sSavePath + sFilename);  		//myBitmap.Dispose();  		//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  		//GetThumbnailImage(150'150'sSavePath + sFilename);  		string extension = Path.GetExtension (sSavePath + sFilename);  		Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  		Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  else//上传除图片文件以外的全部文件   {  	try {  		uploadFile.SaveAs (sSavePath + sFilename);  		return sFilename;  	}  	catch (ArgumentException errArgument) {  		File.Delete (sSavePath + sFilename);  		string errinfo = errArgument.Message;  		return sFilename;  	}  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: try {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	//myBitmap = new Bitmap(sSavePath + sFilename);  	//myBitmap.Dispose();  	//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  	//GetThumbnailImage(150'150'sSavePath + sFilename);  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	string errinfo = errArgument.Message;  	return sFilename;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: try {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	//myBitmap = new Bitmap(sSavePath + sFilename);  	//myBitmap.Dispose();  	//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  	//GetThumbnailImage(150'150'sSavePath + sFilename);  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	string errinfo = errArgument.Message;  	return sFilename;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: try {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (myData' 0' myData.Length);  	newFile.Close ();  	//myBitmap = new Bitmap(sSavePath + sFilename);  	//myBitmap.Dispose();  	//if ((Path.GetExtension(uploadFile.FileName).ToLower() == ".jpg"))  	//GetThumbnailImage(150'150'sSavePath + sFilename);  	string extension = Path.GetExtension (sSavePath + sFilename);  	Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  	Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  	return sFilename;  }  catch (ArgumentException errArgument) {  	File.Delete (sSavePath + sFilename);  	string errinfo = errArgument.Message;  	return sFilename;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: Common.Thumbnail.MakeThumbnailImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_thumbnail" + extension)' 150' 150);  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,UploadSpaceFile,The following statement contains a magic number: Common.Thumbnail.MakeSquareImage (sSavePath + sFilename' (sSavePath + sFilename).Replace (extension' "_square" + extension)' 100);  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,GetPageResponse,The following statement contains a magic number: try {  	// 设置参数   	request = WebRequest.Create (url) as HttpWebRequest;  	CookieContainer cookieContainer = new CookieContainer ();  	request.CookieContainer = cookieContainer;  	request.AllowAutoRedirect = true;  	request.Method = "GET";  	request.Timeout = 10000;  	//发送请求并获取相应回应数据   	response = request.GetResponse () as HttpWebResponse;  	return response;  }  catch (Exception ex) {  	err = ex.Message;  	return null;  }  
Magic Number,Discuz.Space.Utilities,Globals,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\Globals.cs,GetPageResponse,The following statement contains a magic number: request.Timeout = 10000;  
Magic Number,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseSubTemplate,The following statement contains a magic number: for (int i = 0; i < ms.Count; i++) {  	string codeBlock = ms [i].Groups [0].Value;  	string filename = this._templateRoot + ParseValue (ms [i].Groups [2].Value);  	string content = StaticFileProvider.GetContent (filename);  	TemplateEngine te = new TemplateEngine ();  	te.Init (content' this._templateRoot);  	te._context = this._context;  	content = te.MergeTemplate ();  	this._template = this._template.Replace (codeBlock' content);  }  
Magic Number,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseExpression,The following statement contains a magic number: if (result.Length < 3) {  	//��Ŀ����  	if (result [0].StartsWith ("!"))  		return !Utils.StrToBool (ParseValue (result [0].Substring (1))' true);  	else  		return Utils.StrToBool (ParseValue (result [0])' false);  }  else {  	//��Ŀ����  	string oper = result [1];  	object left = ParseValue (result [0]);  	object right = ParseValue (result [2]);  	if (left.GetType () != right.GetType ())  		_template = "���ʽ�������Ͳ�ͬ " + expression;  	switch (oper) {  	case ">=":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) >= Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� >= �Ƚ� " + expression;  		break;  	case "<=":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) <= Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� <= �Ƚ� " + expression;  		break;  	case "==":  		return left.ToString () == right.ToString ();  	case "!=":  		return left.ToString () != right.ToString ();  	case ">":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) > Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� > �Ƚ� " + expression;  		break;  	case "<":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) < Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� < �Ƚ� " + expression;  		break;  	}  }  
Magic Number,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseExpression,The following statement contains a magic number: if (result.Length < 3) {  	//��Ŀ����  	if (result [0].StartsWith ("!"))  		return !Utils.StrToBool (ParseValue (result [0].Substring (1))' true);  	else  		return Utils.StrToBool (ParseValue (result [0])' false);  }  else {  	//��Ŀ����  	string oper = result [1];  	object left = ParseValue (result [0]);  	object right = ParseValue (result [2]);  	if (left.GetType () != right.GetType ())  		_template = "���ʽ�������Ͳ�ͬ " + expression;  	switch (oper) {  	case ">=":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) >= Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� >= �Ƚ� " + expression;  		break;  	case "<=":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) <= Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� <= �Ƚ� " + expression;  		break;  	case "==":  		return left.ToString () == right.ToString ();  	case "!=":  		return left.ToString () != right.ToString ();  	case ">":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) > Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� > �Ƚ� " + expression;  		break;  	case "<":  		if (left.GetType () == typeof(int))  			return Utils.StrToInt (left' 0) < Utils.StrToInt (right' 0);  		else  			_template = "�������Ͳ��� < �Ƚ� " + expression;  		break;  	}  }  
Magic Number,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseValue,The following statement contains a magic number: if (value.EndsWith ("}")) {  	//��}��β��˵���Ǳ���  	value = value.Remove (value.LastIndexOf ("}")' 1);  	value = value.Remove (0' 2);  	if (value.IndexOf ('.') > -1) {  		//�����д�.˵���ǵ��ö��������  		string[] objProperty = value.Split ('.');  		//���'[0]Ϊ������(��_context�е�key)'[1]Ϊ��Ӧ��������Ե�ֵ  		obj = _context [objProperty [0]];  		if (obj == null) {  			_template = "����" + objProperty [0] + "Ϊ�ջ��߲�����";  			obj = string.Empty;  		}  		else {  			//ͨ������ȡֵ  			obj = obj.GetType ().GetProperty (objProperty [1]).GetValue (obj' null).ToString ();  			if (obj == null)  				obj = string.Empty;  		}  	}  	else {  		obj = _context [value];  		if (obj == null) {  			_template = "���� " + value + " ������";  			obj = string.Empty;  		}  	}  }  else if (Utils.IsNumeric (value)) {  	//�����ֳ���  	obj = Utils.StrToInt (value' 0);  }  else if (value.StartsWith ("\"") && value.EndsWith ("\"")) {  	//���һ�ֿ���'�ַ�������  	obj = value.Remove (0' 1);  	obj = obj.ToString ().Remove (obj.ToString ().LastIndexOf ("\"")' 1);  }  else {  	_template = "�޷�ʶ��ı���: " + value;  	obj = string.Empty;  }  
Magic Number,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseValue,The following statement contains a magic number: value = value.Remove (0' 2);  
Magic Number,Discuz.Space.Admin,AjaxSpaceInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspaceinfo.ascx.cs,AjaxSpaceInfo,The following statement contains a magic number: dt = DbProvider.GetInstance ().GetSpaceByCondition (posterlist' keylist' startdate' enddate' 10' currentpage);  
Magic Number,Discuz.Space.Admin,AjaxSpaceInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspaceinfo.ascx.cs,AjaxSpaceInfo,The following statement contains a magic number: pagelink = AjaxPagination (recordcount' 10' currentpage);  
Magic Number,Discuz.Space.Admin,AjaxSpacePostInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspacepostinfo.ascx.cs,AjaxSpacePostInfo,The following statement contains a magic number: dt = DbProvider.GetInstance ().GetSpacePostByCondition (posterlist' keylist' startdate' enddate' 10' currentpage);  
Magic Number,Discuz.Space.Admin,AjaxSpacePostInfo,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\ajaxspacepostinfo.ascx.cs,AjaxSpacePostInfo,The following statement contains a magic number: pagelink = AjaxPagination (recordcount' 10' currentpage);  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (this.CheckCookie ()) {  	string[] urllist = DNTRequest.GetString ("url").Split (''');  	bool hasemptyvalue = false;  	XmlDocument xml = new XmlDocument ();  	try {  		xml.Load (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	XmlNodeList xnlGadgets = xml.GetElementsByTagName ("Gadget");  	BindGridData ();  	foreach (string url in urllist) {  		foreach (DataGridItem dgi in DataGrid1.Items) {  			if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  				if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  					continue;  				}  				string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  				string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  				;  				//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  				if (category == string.Empty || modulename == string.Empty) {  					hasemptyvalue = true;  					continue;  				}  				//����ڵ�����������򴴽�  				XmlNodeList xnl = xml.GetElementsByTagName ("Category");  				XmlNode categorynode = GetCategoryNode (category' xnl);  				if (categorynode == null) {  					categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  					XmlAttribute xa = xml.CreateAttribute ("name");  					xa.Value = category;  					categorynode.Attributes.Append (xa);  					xml.DocumentElement.AppendChild (categorynode);  				}  				//������б��ļ�  				XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  				XmlAttribute xanode = xml.CreateAttribute ("name");  				xanode.Value = modulename;  				node.Attributes.Append (xanode);  				xanode = xml.CreateAttribute ("url");  				xanode.Value = url;  				node.Attributes.Append (xanode);  				categorynode.AppendChild (node);  				try {  					xml.Save (listfilename);  				}  				catch {  					base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  					return;  				}  				if (url.StartsWith ("builtin_")) {  					//����ģ����������ݿ�                                  					ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  					if (mp != null) {  						ModuleDefInfo mdi = new ModuleDefInfo ();  						mdi.ModuleName = modulename;  						mdi.CacheTime = 0;  						mdi.BussinessController = mp.Controller;  						mdi.ConfigFile = url;  						SpaceProvider.AddModuleDefInfo (mdi);  					}  				}  			}  		}  	}  	if (hasemptyvalue) {  		base.RegisterStartupScript (""' "<script>alert('ģ�����ƻ��������Ϊ�յ�ģ��δ�����');window.location.href='space_moduledefmanage.aspx';</script>");  	}  	base.RegisterStartupScript (""' "<script>window.location.href='space_moduledefmanage.aspx';</script>");  	BindGridData ();  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (this.CheckCookie ()) {  	string[] urllist = DNTRequest.GetString ("url").Split (''');  	bool hasemptyvalue = false;  	XmlDocument xml = new XmlDocument ();  	try {  		xml.Load (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	XmlNodeList xnlGadgets = xml.GetElementsByTagName ("Gadget");  	BindGridData ();  	foreach (string url in urllist) {  		foreach (DataGridItem dgi in DataGrid1.Items) {  			if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  				if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  					continue;  				}  				string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  				string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  				;  				//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  				if (category == string.Empty || modulename == string.Empty) {  					hasemptyvalue = true;  					continue;  				}  				//����ڵ�����������򴴽�  				XmlNodeList xnl = xml.GetElementsByTagName ("Category");  				XmlNode categorynode = GetCategoryNode (category' xnl);  				if (categorynode == null) {  					categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  					XmlAttribute xa = xml.CreateAttribute ("name");  					xa.Value = category;  					categorynode.Attributes.Append (xa);  					xml.DocumentElement.AppendChild (categorynode);  				}  				//������б��ļ�  				XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  				XmlAttribute xanode = xml.CreateAttribute ("name");  				xanode.Value = modulename;  				node.Attributes.Append (xanode);  				xanode = xml.CreateAttribute ("url");  				xanode.Value = url;  				node.Attributes.Append (xanode);  				categorynode.AppendChild (node);  				try {  					xml.Save (listfilename);  				}  				catch {  					base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  					return;  				}  				if (url.StartsWith ("builtin_")) {  					//����ģ����������ݿ�                                  					ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  					if (mp != null) {  						ModuleDefInfo mdi = new ModuleDefInfo ();  						mdi.ModuleName = modulename;  						mdi.CacheTime = 0;  						mdi.BussinessController = mp.Controller;  						mdi.ConfigFile = url;  						SpaceProvider.AddModuleDefInfo (mdi);  					}  				}  			}  		}  	}  	if (hasemptyvalue) {  		base.RegisterStartupScript (""' "<script>alert('ģ�����ƻ��������Ϊ�յ�ģ��δ�����');window.location.href='space_moduledefmanage.aspx';</script>");  	}  	base.RegisterStartupScript (""' "<script>window.location.href='space_moduledefmanage.aspx';</script>");  	BindGridData ();  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (this.CheckCookie ()) {  	string[] urllist = DNTRequest.GetString ("url").Split (''');  	bool hasemptyvalue = false;  	XmlDocument xml = new XmlDocument ();  	try {  		xml.Load (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	XmlNodeList xnlGadgets = xml.GetElementsByTagName ("Gadget");  	BindGridData ();  	foreach (string url in urllist) {  		foreach (DataGridItem dgi in DataGrid1.Items) {  			if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  				if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  					continue;  				}  				string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  				string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  				;  				//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  				if (category == string.Empty || modulename == string.Empty) {  					hasemptyvalue = true;  					continue;  				}  				//����ڵ�����������򴴽�  				XmlNodeList xnl = xml.GetElementsByTagName ("Category");  				XmlNode categorynode = GetCategoryNode (category' xnl);  				if (categorynode == null) {  					categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  					XmlAttribute xa = xml.CreateAttribute ("name");  					xa.Value = category;  					categorynode.Attributes.Append (xa);  					xml.DocumentElement.AppendChild (categorynode);  				}  				//������б��ļ�  				XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  				XmlAttribute xanode = xml.CreateAttribute ("name");  				xanode.Value = modulename;  				node.Attributes.Append (xanode);  				xanode = xml.CreateAttribute ("url");  				xanode.Value = url;  				node.Attributes.Append (xanode);  				categorynode.AppendChild (node);  				try {  					xml.Save (listfilename);  				}  				catch {  					base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  					return;  				}  				if (url.StartsWith ("builtin_")) {  					//����ģ����������ݿ�                                  					ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  					if (mp != null) {  						ModuleDefInfo mdi = new ModuleDefInfo ();  						mdi.ModuleName = modulename;  						mdi.CacheTime = 0;  						mdi.BussinessController = mp.Controller;  						mdi.ConfigFile = url;  						SpaceProvider.AddModuleDefInfo (mdi);  					}  				}  			}  		}  	}  	if (hasemptyvalue) {  		base.RegisterStartupScript (""' "<script>alert('ģ�����ƻ��������Ϊ�յ�ģ��δ�����');window.location.href='space_moduledefmanage.aspx';</script>");  	}  	base.RegisterStartupScript (""' "<script>window.location.href='space_moduledefmanage.aspx';</script>");  	BindGridData ();  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (string url in urllist) {  	foreach (DataGridItem dgi in DataGrid1.Items) {  		if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  			if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  				continue;  			}  			string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  			string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  			;  			//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  			if (category == string.Empty || modulename == string.Empty) {  				hasemptyvalue = true;  				continue;  			}  			//����ڵ�����������򴴽�  			XmlNodeList xnl = xml.GetElementsByTagName ("Category");  			XmlNode categorynode = GetCategoryNode (category' xnl);  			if (categorynode == null) {  				categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  				XmlAttribute xa = xml.CreateAttribute ("name");  				xa.Value = category;  				categorynode.Attributes.Append (xa);  				xml.DocumentElement.AppendChild (categorynode);  			}  			//������б��ļ�  			XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  			XmlAttribute xanode = xml.CreateAttribute ("name");  			xanode.Value = modulename;  			node.Attributes.Append (xanode);  			xanode = xml.CreateAttribute ("url");  			xanode.Value = url;  			node.Attributes.Append (xanode);  			categorynode.AppendChild (node);  			try {  				xml.Save (listfilename);  			}  			catch {  				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  				return;  			}  			if (url.StartsWith ("builtin_")) {  				//����ģ����������ݿ�                                  				ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  				if (mp != null) {  					ModuleDefInfo mdi = new ModuleDefInfo ();  					mdi.ModuleName = modulename;  					mdi.CacheTime = 0;  					mdi.BussinessController = mp.Controller;  					mdi.ConfigFile = url;  					SpaceProvider.AddModuleDefInfo (mdi);  				}  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (string url in urllist) {  	foreach (DataGridItem dgi in DataGrid1.Items) {  		if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  			if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  				continue;  			}  			string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  			string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  			;  			//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  			if (category == string.Empty || modulename == string.Empty) {  				hasemptyvalue = true;  				continue;  			}  			//����ڵ�����������򴴽�  			XmlNodeList xnl = xml.GetElementsByTagName ("Category");  			XmlNode categorynode = GetCategoryNode (category' xnl);  			if (categorynode == null) {  				categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  				XmlAttribute xa = xml.CreateAttribute ("name");  				xa.Value = category;  				categorynode.Attributes.Append (xa);  				xml.DocumentElement.AppendChild (categorynode);  			}  			//������б��ļ�  			XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  			XmlAttribute xanode = xml.CreateAttribute ("name");  			xanode.Value = modulename;  			node.Attributes.Append (xanode);  			xanode = xml.CreateAttribute ("url");  			xanode.Value = url;  			node.Attributes.Append (xanode);  			categorynode.AppendChild (node);  			try {  				xml.Save (listfilename);  			}  			catch {  				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  				return;  			}  			if (url.StartsWith ("builtin_")) {  				//����ģ����������ݿ�                                  				ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  				if (mp != null) {  					ModuleDefInfo mdi = new ModuleDefInfo ();  					mdi.ModuleName = modulename;  					mdi.CacheTime = 0;  					mdi.BussinessController = mp.Controller;  					mdi.ConfigFile = url;  					SpaceProvider.AddModuleDefInfo (mdi);  				}  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (string url in urllist) {  	foreach (DataGridItem dgi in DataGrid1.Items) {  		if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  			if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  				continue;  			}  			string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  			string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  			;  			//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  			if (category == string.Empty || modulename == string.Empty) {  				hasemptyvalue = true;  				continue;  			}  			//����ڵ�����������򴴽�  			XmlNodeList xnl = xml.GetElementsByTagName ("Category");  			XmlNode categorynode = GetCategoryNode (category' xnl);  			if (categorynode == null) {  				categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  				XmlAttribute xa = xml.CreateAttribute ("name");  				xa.Value = category;  				categorynode.Attributes.Append (xa);  				xml.DocumentElement.AppendChild (categorynode);  			}  			//������б��ļ�  			XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  			XmlAttribute xanode = xml.CreateAttribute ("name");  			xanode.Value = modulename;  			node.Attributes.Append (xanode);  			xanode = xml.CreateAttribute ("url");  			xanode.Value = url;  			node.Attributes.Append (xanode);  			categorynode.AppendChild (node);  			try {  				xml.Save (listfilename);  			}  			catch {  				base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  				return;  			}  			if (url.StartsWith ("builtin_")) {  				//����ģ����������ݿ�                                  				ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  				if (mp != null) {  					ModuleDefInfo mdi = new ModuleDefInfo ();  					mdi.ModuleName = modulename;  					mdi.CacheTime = 0;  					mdi.BussinessController = mp.Controller;  					mdi.ConfigFile = url;  					SpaceProvider.AddModuleDefInfo (mdi);  				}  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (DataGridItem dgi in DataGrid1.Items) {  	if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  		if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  			continue;  		}  		string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  		string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  		;  		//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  		if (category == string.Empty || modulename == string.Empty) {  			hasemptyvalue = true;  			continue;  		}  		//����ڵ�����������򴴽�  		XmlNodeList xnl = xml.GetElementsByTagName ("Category");  		XmlNode categorynode = GetCategoryNode (category' xnl);  		if (categorynode == null) {  			categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  			XmlAttribute xa = xml.CreateAttribute ("name");  			xa.Value = category;  			categorynode.Attributes.Append (xa);  			xml.DocumentElement.AppendChild (categorynode);  		}  		//������б��ļ�  		XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  		XmlAttribute xanode = xml.CreateAttribute ("name");  		xanode.Value = modulename;  		node.Attributes.Append (xanode);  		xanode = xml.CreateAttribute ("url");  		xanode.Value = url;  		node.Attributes.Append (xanode);  		categorynode.AppendChild (node);  		try {  			xml.Save (listfilename);  		}  		catch {  			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  			return;  		}  		if (url.StartsWith ("builtin_")) {  			//����ģ����������ݿ�                                  			ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  			if (mp != null) {  				ModuleDefInfo mdi = new ModuleDefInfo ();  				mdi.ModuleName = modulename;  				mdi.CacheTime = 0;  				mdi.BussinessController = mp.Controller;  				mdi.ConfigFile = url;  				SpaceProvider.AddModuleDefInfo (mdi);  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (DataGridItem dgi in DataGrid1.Items) {  	if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  		if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  			continue;  		}  		string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  		string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  		;  		//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  		if (category == string.Empty || modulename == string.Empty) {  			hasemptyvalue = true;  			continue;  		}  		//����ڵ�����������򴴽�  		XmlNodeList xnl = xml.GetElementsByTagName ("Category");  		XmlNode categorynode = GetCategoryNode (category' xnl);  		if (categorynode == null) {  			categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  			XmlAttribute xa = xml.CreateAttribute ("name");  			xa.Value = category;  			categorynode.Attributes.Append (xa);  			xml.DocumentElement.AppendChild (categorynode);  		}  		//������б��ļ�  		XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  		XmlAttribute xanode = xml.CreateAttribute ("name");  		xanode.Value = modulename;  		node.Attributes.Append (xanode);  		xanode = xml.CreateAttribute ("url");  		xanode.Value = url;  		node.Attributes.Append (xanode);  		categorynode.AppendChild (node);  		try {  			xml.Save (listfilename);  		}  		catch {  			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  			return;  		}  		if (url.StartsWith ("builtin_")) {  			//����ģ����������ݿ�                                  			ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  			if (mp != null) {  				ModuleDefInfo mdi = new ModuleDefInfo ();  				mdi.ModuleName = modulename;  				mdi.CacheTime = 0;  				mdi.BussinessController = mp.Controller;  				mdi.ConfigFile = url;  				SpaceProvider.AddModuleDefInfo (mdi);  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: foreach (DataGridItem dgi in DataGrid1.Items) {  	if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  		if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  			continue;  		}  		string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  		string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  		;  		//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  		if (category == string.Empty || modulename == string.Empty) {  			hasemptyvalue = true;  			continue;  		}  		//����ڵ�����������򴴽�  		XmlNodeList xnl = xml.GetElementsByTagName ("Category");  		XmlNode categorynode = GetCategoryNode (category' xnl);  		if (categorynode == null) {  			categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  			XmlAttribute xa = xml.CreateAttribute ("name");  			xa.Value = category;  			categorynode.Attributes.Append (xa);  			xml.DocumentElement.AppendChild (categorynode);  		}  		//������б��ļ�  		XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  		XmlAttribute xanode = xml.CreateAttribute ("name");  		xanode.Value = modulename;  		node.Attributes.Append (xanode);  		xanode = xml.CreateAttribute ("url");  		xanode.Value = url;  		node.Attributes.Append (xanode);  		categorynode.AppendChild (node);  		try {  			xml.Save (listfilename);  		}  		catch {  			base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  			return;  		}  		if (url.StartsWith ("builtin_")) {  			//����ģ����������ݿ�                                  			ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  			if (mp != null) {  				ModuleDefInfo mdi = new ModuleDefInfo ();  				mdi.ModuleName = modulename;  				mdi.CacheTime = 0;  				mdi.BussinessController = mp.Controller;  				mdi.ConfigFile = url;  				SpaceProvider.AddModuleDefInfo (mdi);  			}  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  	if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  		continue;  	}  	string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  	string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  	;  	//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  	if (category == string.Empty || modulename == string.Empty) {  		hasemptyvalue = true;  		continue;  	}  	//����ڵ�����������򴴽�  	XmlNodeList xnl = xml.GetElementsByTagName ("Category");  	XmlNode categorynode = GetCategoryNode (category' xnl);  	if (categorynode == null) {  		categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  		XmlAttribute xa = xml.CreateAttribute ("name");  		xa.Value = category;  		categorynode.Attributes.Append (xa);  		xml.DocumentElement.AppendChild (categorynode);  	}  	//������б��ļ�  	XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  	XmlAttribute xanode = xml.CreateAttribute ("name");  	xanode.Value = modulename;  	node.Attributes.Append (xanode);  	xanode = xml.CreateAttribute ("url");  	xanode.Value = url;  	node.Attributes.Append (xanode);  	categorynode.AppendChild (node);  	try {  		xml.Save (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	if (url.StartsWith ("builtin_")) {  		//����ģ����������ݿ�                                  		ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  		if (mp != null) {  			ModuleDefInfo mdi = new ModuleDefInfo ();  			mdi.ModuleName = modulename;  			mdi.CacheTime = 0;  			mdi.BussinessController = mp.Controller;  			mdi.ConfigFile = url;  			SpaceProvider.AddModuleDefInfo (mdi);  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  	if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  		continue;  	}  	string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  	string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  	;  	//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  	if (category == string.Empty || modulename == string.Empty) {  		hasemptyvalue = true;  		continue;  	}  	//����ڵ�����������򴴽�  	XmlNodeList xnl = xml.GetElementsByTagName ("Category");  	XmlNode categorynode = GetCategoryNode (category' xnl);  	if (categorynode == null) {  		categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  		XmlAttribute xa = xml.CreateAttribute ("name");  		xa.Value = category;  		categorynode.Attributes.Append (xa);  		xml.DocumentElement.AppendChild (categorynode);  	}  	//������б��ļ�  	XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  	XmlAttribute xanode = xml.CreateAttribute ("name");  	xanode.Value = modulename;  	node.Attributes.Append (xanode);  	xanode = xml.CreateAttribute ("url");  	xanode.Value = url;  	node.Attributes.Append (xanode);  	categorynode.AppendChild (node);  	try {  		xml.Save (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	if (url.StartsWith ("builtin_")) {  		//����ģ����������ݿ�                                  		ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  		if (mp != null) {  			ModuleDefInfo mdi = new ModuleDefInfo ();  			mdi.ModuleName = modulename;  			mdi.CacheTime = 0;  			mdi.BussinessController = mp.Controller;  			mdi.ConfigFile = url;  			SpaceProvider.AddModuleDefInfo (mdi);  		}  	}  }  
Magic Number,Discuz.Space.Admin,ModuleDefManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\moduledefmanage.aspx.cs,AddApply_Click,The following statement contains a magic number: if (dgi.ItemType == ListItemType.AlternatingItem || dgi.ItemType == ListItemType.Item) {  	if (url != DataGrid1.DataKeys [dgi.ItemIndex].ToString () || HadInList (url' xnlGadgets) != null) {  		continue;  	}  	string category = DataGrid1.Items [dgi.ItemIndex].Cells [3].Text;  	string modulename = DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.Substring (0' DataGrid1.Items [dgi.ItemIndex].Cells [2].Text.LastIndexOf ("("));  	;  	//DataGrid1.GetControlValue(dgi.ItemIndex' "moduledefname");  	if (category == string.Empty || modulename == string.Empty) {  		hasemptyvalue = true;  		continue;  	}  	//����ڵ�����������򴴽�  	XmlNodeList xnl = xml.GetElementsByTagName ("Category");  	XmlNode categorynode = GetCategoryNode (category' xnl);  	if (categorynode == null) {  		categorynode = xml.CreateNode (XmlNodeType.Element' "Category"' "");  		XmlAttribute xa = xml.CreateAttribute ("name");  		xa.Value = category;  		categorynode.Attributes.Append (xa);  		xml.DocumentElement.AppendChild (categorynode);  	}  	//������б��ļ�  	XmlNode node = xml.CreateNode (XmlNodeType.Element' "Gadget"' "");  	XmlAttribute xanode = xml.CreateAttribute ("name");  	xanode.Value = modulename;  	node.Attributes.Append (xanode);  	xanode = xml.CreateAttribute ("url");  	xanode.Value = url;  	node.Attributes.Append (xanode);  	categorynode.AppendChild (node);  	try {  		xml.Save (listfilename);  	}  	catch {  		base.RegisterStartupScript (""' "<script>alert('ȱ�ٶ��б��ļ��ķ���Ȩ�޻����б��ļ�������');window.location.href='space_moduledefmanage.aspx';</script>");  		return;  	}  	if (url.StartsWith ("builtin_")) {  		//����ģ����������ݿ�                                  		ModulePref mp = ModuleXmlHelper.LoadModulePref (Utils.GetMapPath (BaseConfigs.GetForumPath + "space/modules/" + url));  		if (mp != null) {  			ModuleDefInfo mdi = new ModuleDefInfo ();  			mdi.ModuleName = modulename;  			mdi.CacheTime = 0;  			mdi.BussinessController = mp.Controller;  			mdi.ConfigFile = url;  			SpaceProvider.AddModuleDefInfo (mdi);  		}  	}  }  
Magic Number,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,InitializeComponent,The following statement contains a magic number: DataGrid1.ColumnSpan = 5;  
Magic Number,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The following statement contains a magic number: if (DNTRequest.GetString ("uid") != "") {  	string uidlist = DNTRequest.GetString ("uid");  	foreach (string uid in uidlist.Split (''')) {  		Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (Convert.ToInt32 (uid));  		//string sql = "UPDATE [" + BaseConfigs.GetTablePrefix + "users] SET [spaceid]=ABS([spaceid]) WHERE [uid]=" + uid;  		//sql += ";SELECT [spaceid] FROM [" + BaseConfigs.GetTablePrefix + "users] WHERE [uid]=" + uid;  		//int spceid = (int)AdminDatabase.ExecuteScalar(sql);  		int tabid = Spaces.GetNewTabId (Convert.ToInt32 (uid));  		TabInfo tab = new TabInfo ();  		tab.TabID = tabid;  		tab.UserID = Convert.ToInt32 (uid);  		tab.DisplayOrder = 0;  		tab.TabName = "首页";  		tab.IconFile = "";  		tab.Template = "template_25_75.htm";  		Spaces.AddTab (tab);  		//sql = "INSERT INTO [" + BaseConfigs.GetTablePrefix + "spacetabs] ([uid]'[displayorder]' [tabname]' [iconfile]'[template])  VALUES(" + uid + "'0''默认''''''template_25_75.htm');SELECT SCOPE_IDENTITY()";  		//int tabid = Utils.StrToInt(AdminDatabase.ExecuteScalar(sql)'0);  		Spaces.AddLocalModule ("builtin_calendarmodule.xml"' int.Parse (uid)' tabid' 1);  		Spaces.AddLocalModule ("builtin_statisticmodule.xml"' int.Parse (uid)' tabid' 1);  		Spaces.AddLocalModule ("builtin_postlistmodule.xml"' int.Parse (uid)' tabid' 2);  		if (spaceConfig.Spacegreeting != string.Empty) {  			SpacePostInfo spacepostsinfo = new SpacePostInfo ();  			spacepostsinfo.Title = string.Format ("欢迎使用 {0} {1}"' config.Forumtitle' config.Spacename);  			spacepostsinfo.Content = spaceConfig.Spacegreeting;  			spacepostsinfo.Category = string.Empty;  			spacepostsinfo.PostStatus = 1;  			spacepostsinfo.CommentStatus = 0;  			spacepostsinfo.Postdatetime = DateTime.Now;  			spacepostsinfo.Author = username;  			spacepostsinfo.Uid = Utils.StrToInt (uid' -1);  			spacepostsinfo.PostUpDateTime = DateTime.Now;  			spacepostsinfo.Commentcount = 0;  			DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  		}  		///添加最新主题到日志  		List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  		foreach (TopicInfo mytopic in list) {  			int pid = Posts.GetFirstPostId (mytopic.Tid);  			PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  			if (post != null && post.Message.Trim () != string.Empty) {  				SpacePostInfo spacepost = new SpacePostInfo ();  				spacepost.Author = username;  				string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  				spacepost.Category = "";  				spacepost.Content = content;  				spacepost.Postdatetime = DateTime.Now;  				spacepost.PostStatus = 1;  				spacepost.PostUpDateTime = DateTime.Now;  				spacepost.Title = post.Title;  				spacepost.Uid = Utils.StrToInt (uid' -1);  				;  				DbProvider.GetInstance ().AddSpacePost (spacepost);  			}  		}  		//短信通知用户个人空间已经开通  		PrivateMessageInfo privatemessageinfo = new PrivateMessageInfo ();  		ShortUserInfo userInfo = Users.GetShortUserInfo (Convert.ToInt32 (uid));  		privatemessageinfo.Msgto = userInfo == null ? "" : userInfo.Username;  		privatemessageinfo.Msgtoid = Convert.ToInt32 (uid);  		privatemessageinfo.Postdatetime = Utils.GetDateTime ();  		privatemessageinfo.Message = "恭喜您，您的" + config.Spacename + "已经被管理员" + username + "开通！";  		privatemessageinfo.Subject = "恭喜，您的" + config.Spacename + "已经开通";  		privatemessageinfo.Msgfrom = username;  		privatemessageinfo.Msgfromid = userid;  		privatemessageinfo.New = 1;  		privatemessageinfo.Folder = 0;  		PrivateMessages.CreatePrivateMessage (privatemessageinfo' 0);  		//AdminDatabase.ExecuteNonQuery("INSERT INTO [" + BaseConfigs.GetTablePrefix + "pms] (msgfrom'msgfromid'msgto'msgtoid'folder'new'subject'postdatetime'message) VALUES ('" + username + "'''" + userid + "'''" + msgto.Replace("'"' "''") + "'''" + uid + "'''0'''1'''" + subject + "'''" + curdatetime + "'''" + message + "')");  		//AdminDatabase.ExecuteNonQuery("UPDATE [" + BaseConfigs.GetTablePrefix + "users] SET [newpmcount]=[newpmcount]+1  WHERE [uid] =" + uid);  	}  	base.RegisterStartupScript ("PAGE"' "window.location.href='space_spaceapplymanage.aspx';");  }  else {  	base.RegisterStartupScript (""' "<script>alert('请选择要开通的空间!');window.location.href='space_spaceapplymanage.aspx';</script>");  }  
Magic Number,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The following statement contains a magic number: foreach (string uid in uidlist.Split (''')) {  	Discuz.Data.DatabaseProvider.GetInstance ().UpdateUserSpaceId (Convert.ToInt32 (uid));  	//string sql = "UPDATE [" + BaseConfigs.GetTablePrefix + "users] SET [spaceid]=ABS([spaceid]) WHERE [uid]=" + uid;  	//sql += ";SELECT [spaceid] FROM [" + BaseConfigs.GetTablePrefix + "users] WHERE [uid]=" + uid;  	//int spceid = (int)AdminDatabase.ExecuteScalar(sql);  	int tabid = Spaces.GetNewTabId (Convert.ToInt32 (uid));  	TabInfo tab = new TabInfo ();  	tab.TabID = tabid;  	tab.UserID = Convert.ToInt32 (uid);  	tab.DisplayOrder = 0;  	tab.TabName = "首页";  	tab.IconFile = "";  	tab.Template = "template_25_75.htm";  	Spaces.AddTab (tab);  	//sql = "INSERT INTO [" + BaseConfigs.GetTablePrefix + "spacetabs] ([uid]'[displayorder]' [tabname]' [iconfile]'[template])  VALUES(" + uid + "'0''默认''''''template_25_75.htm');SELECT SCOPE_IDENTITY()";  	//int tabid = Utils.StrToInt(AdminDatabase.ExecuteScalar(sql)'0);  	Spaces.AddLocalModule ("builtin_calendarmodule.xml"' int.Parse (uid)' tabid' 1);  	Spaces.AddLocalModule ("builtin_statisticmodule.xml"' int.Parse (uid)' tabid' 1);  	Spaces.AddLocalModule ("builtin_postlistmodule.xml"' int.Parse (uid)' tabid' 2);  	if (spaceConfig.Spacegreeting != string.Empty) {  		SpacePostInfo spacepostsinfo = new SpacePostInfo ();  		spacepostsinfo.Title = string.Format ("欢迎使用 {0} {1}"' config.Forumtitle' config.Spacename);  		spacepostsinfo.Content = spaceConfig.Spacegreeting;  		spacepostsinfo.Category = string.Empty;  		spacepostsinfo.PostStatus = 1;  		spacepostsinfo.CommentStatus = 0;  		spacepostsinfo.Postdatetime = DateTime.Now;  		spacepostsinfo.Author = username;  		spacepostsinfo.Uid = Utils.StrToInt (uid' -1);  		spacepostsinfo.PostUpDateTime = DateTime.Now;  		spacepostsinfo.Commentcount = 0;  		DbProvider.GetInstance ().AddSpacePost (spacepostsinfo);  	}  	///添加最新主题到日志  	List<TopicInfo> list = Topics.GetTopicsByUserId (userid' 1' config.Topictoblog' 0' 0);  	foreach (TopicInfo mytopic in list) {  		int pid = Posts.GetFirstPostId (mytopic.Tid);  		PostInfo post = Posts.GetPostInfo (mytopic.Tid' pid);  		if (post != null && post.Message.Trim () != string.Empty) {  			SpacePostInfo spacepost = new SpacePostInfo ();  			spacepost.Author = username;  			string content = Posts.GetPostMessageHTML (post' new AttachmentInfo[0]);  			spacepost.Category = "";  			spacepost.Content = content;  			spacepost.Postdatetime = DateTime.Now;  			spacepost.PostStatus = 1;  			spacepost.PostUpDateTime = DateTime.Now;  			spacepost.Title = post.Title;  			spacepost.Uid = Utils.StrToInt (uid' -1);  			;  			DbProvider.GetInstance ().AddSpacePost (spacepost);  		}  	}  	//短信通知用户个人空间已经开通  	PrivateMessageInfo privatemessageinfo = new PrivateMessageInfo ();  	ShortUserInfo userInfo = Users.GetShortUserInfo (Convert.ToInt32 (uid));  	privatemessageinfo.Msgto = userInfo == null ? "" : userInfo.Username;  	privatemessageinfo.Msgtoid = Convert.ToInt32 (uid);  	privatemessageinfo.Postdatetime = Utils.GetDateTime ();  	privatemessageinfo.Message = "恭喜您，您的" + config.Spacename + "已经被管理员" + username + "开通！";  	privatemessageinfo.Subject = "恭喜，您的" + config.Spacename + "已经开通";  	privatemessageinfo.Msgfrom = username;  	privatemessageinfo.Msgfromid = userid;  	privatemessageinfo.New = 1;  	privatemessageinfo.Folder = 0;  	PrivateMessages.CreatePrivateMessage (privatemessageinfo' 0);  	//AdminDatabase.ExecuteNonQuery("INSERT INTO [" + BaseConfigs.GetTablePrefix + "pms] (msgfrom'msgfromid'msgto'msgtoid'folder'new'subject'postdatetime'message) VALUES ('" + username + "'''" + userid + "'''" + msgto.Replace("'"' "''") + "'''" + uid + "'''0'''1'''" + subject + "'''" + curdatetime + "'''" + message + "')");  	//AdminDatabase.ExecuteNonQuery("UPDATE [" + BaseConfigs.GetTablePrefix + "users] SET [newpmcount]=[newpmcount]+1  WHERE [uid] =" + uid);  }  
Magic Number,Discuz.Space.Admin,SpaceApplyManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplymanage.aspx.cs,PassApply_Click,The following statement contains a magic number: Spaces.AddLocalModule ("builtin_postlistmodule.xml"' int.Parse (uid)' tabid' 2);  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (i % 2 == 1) {  		tr = new HtmlTableRow ();  	}  	HtmlTableCell td = new HtmlTableCell ("td");  	td.Controls.Add (new LiteralControl (dr ["grouptitle"].ToString ()));  	tr.Cells.Add (td);  	td = new HtmlTableCell ("td");  	Discuz.Control.TextBox tb = new Discuz.Control.TextBox ();  	tb.ID = "maxspaceattachsize" + dr ["groupid"].ToString ();  	tb.Size = 10;  	tb.MaxLength = 9;  	tb.Text = dr ["maxspaceattachsize"].ToString ();  	tb.RequiredFieldType = "数据校验";  	td.Controls.Add (tb);  	tr.Cells.Add (td);  	tr.Cells.Add (GetTD ("maxspaceattachsize" + dr ["groupid"].ToString ()));  	groupattachsize.Rows.Add (tr);  	i++;  }  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (i % 2 == 1) {  		tr = new HtmlTableRow ();  	}  	HtmlTableCell td = new HtmlTableCell ("td");  	td.Controls.Add (new LiteralControl (dr ["grouptitle"].ToString ()));  	tr.Cells.Add (td);  	td = new HtmlTableCell ("td");  	Discuz.Control.TextBox tb = new Discuz.Control.TextBox ();  	tb.ID = "maxspaceattachsize" + dr ["groupid"].ToString ();  	tb.Size = 10;  	tb.MaxLength = 9;  	tb.Text = dr ["maxspaceattachsize"].ToString ();  	tb.RequiredFieldType = "数据校验";  	td.Controls.Add (tb);  	tr.Cells.Add (td);  	tr.Cells.Add (GetTD ("maxspaceattachsize" + dr ["groupid"].ToString ()));  	groupattachsize.Rows.Add (tr);  	i++;  }  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: foreach (DataRow dr in dt.Rows) {  	if (i % 2 == 1) {  		tr = new HtmlTableRow ();  	}  	HtmlTableCell td = new HtmlTableCell ("td");  	td.Controls.Add (new LiteralControl (dr ["grouptitle"].ToString ()));  	tr.Cells.Add (td);  	td = new HtmlTableCell ("td");  	Discuz.Control.TextBox tb = new Discuz.Control.TextBox ();  	tb.ID = "maxspaceattachsize" + dr ["groupid"].ToString ();  	tb.Size = 10;  	tb.MaxLength = 9;  	tb.Text = dr ["maxspaceattachsize"].ToString ();  	tb.RequiredFieldType = "数据校验";  	td.Controls.Add (tb);  	tr.Cells.Add (td);  	tr.Cells.Add (GetTD ("maxspaceattachsize" + dr ["groupid"].ToString ()));  	groupattachsize.Rows.Add (tr);  	i++;  }  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: if (i % 2 == 1) {  	tr = new HtmlTableRow ();  }  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: tb.Size = 10;  
Magic Number,Discuz.Space.Admin,SpaceApplySetting,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceapplysetting.aspx.cs,BindUserGorupMaxspaceattachsize,The following statement contains a magic number: tb.MaxLength = 9;  
Magic Number,Discuz.Space.Admin,SpaceFooterInfoPage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacefooterinfo.aspx.cs,SaveInfo_Click,The following statement contains a magic number: if (this.CheckCookie ()) {  	SpaceActiveConfigInfo __configinfo = SpaceActiveConfigs.GetConfig ();  	__configinfo.SpaceFooterInfo = spacefooterinfo.Text;  	__configinfo.Spacegreeting = greeting.Text;  	__configinfo.Enablespacerewrite = Utils.StrToInt (enablerewrite.SelectedValue' 0);  	SpaceActiveConfigs.SaveConfig (__configinfo);  	AdminVistLogs.InsertLog (this.userid' this.username' this.usergroupid' this.grouptitle' this.ip' "�ռ�������Ϣ����"' "");  	if (!Utils.IsNumeric (topictoblog.Text) || Convert.ToInt32 (topictoblog.Text) > 10 || Convert.ToInt32 (topictoblog.Text) < 0) {  		base.RegisterStartupScript ("PAGE"' "alert('�Զ�������־����ȡֵ������0~10֮��');window.location='space_spacefooterinfo.aspx';");  		return;  	}  	config.Topictoblog = Convert.ToInt32 (topictoblog.Text);  	GeneralConfigs.Serialiaze (config' Server.MapPath ("../../config/general.config"));  	base.RegisterStartupScript ("PAGE"' "window.location='space_spacefooterinfo.aspx';");  }  
Magic Number,Discuz.Space.Admin,SpaceFooterInfoPage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacefooterinfo.aspx.cs,SaveInfo_Click,The following statement contains a magic number: if (!Utils.IsNumeric (topictoblog.Text) || Convert.ToInt32 (topictoblog.Text) > 10 || Convert.ToInt32 (topictoblog.Text) < 0) {  	base.RegisterStartupScript ("PAGE"' "alert('�Զ�������־����ȡֵ������0~10֮��');window.location='space_spacefooterinfo.aspx';");  	return;  }  
Magic Number,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,ValidateTimeout,The following statement contains a magic number: if (val >= 10 && val <= 300)  	return true;  else {  	base.RegisterStartupScript (""' "<script>alert('ҳ���и�����ȡ����ʱ�������10��300����֮��');window.location.href='aggregation_spaceindexaggset.aspx';</script>");  	return false;  }  
Magic Number,Discuz.Space.Admin,SpaceIndexAggset,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spaceindexaggset.aspx.cs,ValidateTimeout,The following statement contains a magic number: if (val >= 10 && val <= 300)  	return true;  else {  	base.RegisterStartupScript (""' "<script>alert('ҳ���и�����ȡ����ʱ�������10��300����֮��');window.location.href='aggregation_spaceindexaggset.aspx';</script>");  	return false;  }  
Magic Number,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,InitializeComponent,The following statement contains a magic number: DataGrid1.ColumnSpan = 8;  
Magic Number,Discuz.Space.Admin,SpaceManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacemanage.aspx.cs,InitializeComponent,The following statement contains a magic number: DataGrid1.PageSize = 10;  
Magic Number,Discuz.Space.Admin,SpaceThemeGrid,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethemegrid.aspx.cs,InitializeComponent,The following statement contains a magic number: themesgrid.ColumnSpan = 7;  
Magic Number,Discuz.Space.Admin,SpaceThemeManage,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Admin\spacethememanage.aspx.cs,InitializeComponent,The following statement contains a magic number: themegrid.ColumnSpan = 5;  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  			if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  			 {  				throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  			}  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			try {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  				string filename = "";  				filename = GetAttachRootPath (fileDatePath);  				filename = filename + sFilename;  				//保存文件信息  				SaveSpaceAttachment (mediaObject' uid' filename);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				string permalink = filename;  				if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  					permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  				}  				MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  				mediaObjectUrl.url = permalink;  				return mediaObjectUrl;  			}  			catch {  				File.Delete (sSavePath + sFilename);  				throw new XmlRpcFaultException (102' "上传文件发生异常");  			}  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  			if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  			 {  				throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  			}  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			try {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  				string filename = "";  				filename = GetAttachRootPath (fileDatePath);  				filename = filename + sFilename;  				//保存文件信息  				SaveSpaceAttachment (mediaObject' uid' filename);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				string permalink = filename;  				if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  					permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  				}  				MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  				mediaObjectUrl.url = permalink;  				return mediaObjectUrl;  			}  			catch {  				File.Delete (sSavePath + sFilename);  				throw new XmlRpcFaultException (102' "上传文件发生异常");  			}  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  			if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  			 {  				throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  			}  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			try {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  				string filename = "";  				filename = GetAttachRootPath (fileDatePath);  				filename = filename + sFilename;  				//保存文件信息  				SaveSpaceAttachment (mediaObject' uid' filename);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				string permalink = filename;  				if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  					permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  				}  				MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  				mediaObjectUrl.url = permalink;  				return mediaObjectUrl;  			}  			catch {  				File.Delete (sSavePath + sFilename);  				throw new XmlRpcFaultException (102' "上传文件发生异常");  			}  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((attachextensions == null) || (attachextensions.ToLower ().IndexOf (fileExtName.Remove (0' 1)) >= 0)) {  	//上传图片文件  	if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  		try {  			int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  			int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  			if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  			 {  				throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  			}  			else {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  			}  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  	else//其它类型文件  	 {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			try {  				FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  				newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  				newFile.Close ();  				string filename = "";  				filename = GetAttachRootPath (fileDatePath);  				filename = filename + sFilename;  				//保存文件信息  				SaveSpaceAttachment (mediaObject' uid' filename);  				//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  				if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  					FTPs ftps = new FTPs ();  					ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  				}  				string permalink = filename;  				if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  					permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  				}  				MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  				mediaObjectUrl.url = permalink;  				return mediaObjectUrl;  			}  			catch {  				File.Delete (sSavePath + sFilename);  				throw new XmlRpcFaultException (102' "上传文件发生异常");  			}  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  		}  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		try {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  		}  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		try {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  		}  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		try {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((fileExtName == ".jpg") || (fileExtName == ".gif") || (fileExtName == ".png") || (fileExtName == ".jpeg")) {  	try {  		int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  		int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  		if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  		 {  			throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  		}  		else {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  		}  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  else//其它类型文件   {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		try {  			FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  			newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  			newFile.Close ();  			string filename = "";  			filename = GetAttachRootPath (fileDatePath);  			filename = filename + sFilename;  			//保存文件信息  			SaveSpaceAttachment (mediaObject' uid' filename);  			//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  			if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  				FTPs ftps = new FTPs ();  				ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  			}  			string permalink = filename;  			if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  				permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  			}  			MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  			mediaObjectUrl.url = permalink;  			return mediaObjectUrl;  		}  		catch {  			File.Delete (sSavePath + sFilename);  			throw new XmlRpcFaultException (102' "上传文件发生异常");  		}  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: try {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  		newFile.Close ();  	}  	string filename = "";  	filename = GetAttachRootPath (fileDatePath);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  	filename = filename + sFilename;  	//保存文件信息  	SaveSpaceAttachment (mediaObject' uid' filename);  	string permalink = filename;  	if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  		permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  	}  	MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  	mediaObjectUrl.url = permalink;  	return mediaObjectUrl;  }  catch {  	File.Delete (sSavePath + sFilename);  	throw new XmlRpcFaultException (102' "上传文件发生异常");  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: try {  	int maxspacesize = UserGroups.GetUserGroupInfo (groupid).Maxspaceattachsize;  	int currentspaceattachmentsize = DbProvider.GetInstance ().GetSpaceAttachmentSizeByUserid (uid);  	if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足  	 {  		throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  	}  	else {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  		newFile.Close ();  	}  	string filename = "";  	filename = GetAttachRootPath (fileDatePath);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (filename.Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  	filename = filename + sFilename;  	//保存文件信息  	SaveSpaceAttachment (mediaObject' uid' filename);  	string permalink = filename;  	if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  		permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  	}  	MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  	mediaObjectUrl.url = permalink;  	return mediaObjectUrl;  }  catch {  	File.Delete (sSavePath + sFilename);  	throw new XmlRpcFaultException (102' "上传文件发生异常");  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足   {  	throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  }  else {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  	newFile.Close ();  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: throw new XmlRpcFaultException (102' "上传文件发生异常");  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足   {  	throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  }  else {  	try {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  		newFile.Close ();  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: if ((maxspacesize - currentspaceattachmentsize - mediaObject.bits.Length) <= 0)//个人空间的存储空间不足   {  	throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  }  else {  	try {  		FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  		newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  		newFile.Close ();  		string filename = "";  		filename = GetAttachRootPath (fileDatePath);  		filename = filename + sFilename;  		//保存文件信息  		SaveSpaceAttachment (mediaObject' uid' filename);  		//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  		if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  			FTPs ftps = new FTPs ();  			ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  		}  		string permalink = filename;  		if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  			permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  		}  		MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  		mediaObjectUrl.url = permalink;  		return mediaObjectUrl;  	}  	catch {  		File.Delete (sSavePath + sFilename);  		throw new XmlRpcFaultException (102' "上传文件发生异常");  	}  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: throw new XmlRpcFaultException (101' "存储空间不足' 上传失败!");  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: try {  	FileStream newFile = new FileStream (sSavePath + sFilename' FileMode.Create);  	newFile.Write (mediaObject.bits' 0' mediaObject.bits.Length);  	newFile.Close ();  	string filename = "";  	filename = GetAttachRootPath (fileDatePath);  	filename = filename + sFilename;  	//保存文件信息  	SaveSpaceAttachment (mediaObject' uid' filename);  	//当支持FTP上传附件时'使用FTP上传远程附件'并在上传完成之后删除本地tempfilename文件  	if (FTPs.GetSpaceAttachInfo.Allowupload == 1) {  		FTPs ftps = new FTPs ();  		ftps.UpLoadFile (GetAttachRootPath (fileDatePath).Replace (FTPs.GetSpaceAttachInfo.Remoteurl' "")' sSavePath + sFilename' FTPs.FTPUploadEnum.SpaceAttach);  	}  	string permalink = filename;  	if (!(FTPs.GetSpaceAttachInfo.Allowupload == 1)) {  		permalink = "http://" + DNTRequest.GetCurrentFullHost () + filename;  	}  	MediaObjectUrl mediaObjectUrl = new MediaObjectUrl ();  	mediaObjectUrl.url = permalink;  	return mediaObjectUrl;  }  catch {  	File.Delete (sSavePath + sFilename);  	throw new XmlRpcFaultException (102' "上传文件发生异常");  }  
Magic Number,Discuz.Space.Services,MetaWeblog,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Services\MetaWeblog.cs,newMediaObject,The following statement contains a magic number: throw new XmlRpcFaultException (102' "上传文件发生异常");  
Missing Default,Discuz.Space.Data,DataProvider,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Data\SqlDataProvider.cs,RegEsc,The following switch statement is missing a default case: switch (s) {  case "%":  	str = str.Replace (s' "[%]");  	break;  case "_":  	str = str.Replace (s' "[_]");  	break;  case "'":  	str = str.Replace (s' "['']");  	break;  }  
Missing Default,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleEditBox,The following switch statement is missing a default case: switch (_module.ModuleType) {  case ModuleType.Remote:  	//do nothing  	return "";  case ModuleType.Rss:  	return GetRssEditBox ();  case ModuleType.Error:  	//do nothing  	return "";  }  
Missing Default,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleBoxin,The following switch statement is missing a default case: switch (_module.ModuleType) {  case ModuleType.Remote:  	return "����ģ���ݲ�֧��";  case ModuleType.Rss:  	return GetRssBoxin ();  case ModuleType.Error:  	return "����ģ���ݲ�֧��";  }  
Missing Default,Discuz.Space.Entities,ModuleBase,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Entities\ModuleBase.cs,GetModuleBoxin,The following switch statement is missing a default case: switch (_moduleContent.Type) {  case ModuleContentType.Html:  	foreach (UserPref up in _userPrefCollection) {  		string userprefvalue = ups.GetValueByName (up.Name);  		userprefvalue = userprefvalue == string.Empty ? up.DefaultValue : userprefvalue;  		parms += string.Format ("&up_{0}={1}"' up.Name' Utils.UrlEncode (userprefvalue));  	}  	//{0}����ģ��url'{1}����render_inline'{2}�����ǰվ��·��  	returnStr = "<script><!--\r\nremote_modules.push(new RemoteModule(\"{0}\"'\"__MODULE_ID__\"'\"{1}\"'\"{4}space/ifr.aspx?url={0}&nocache=1&uid={2}&mid=__MODULE_ID__&parent={3}\"'false));// -->\r\n</script><div id=remote___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%\"><iframe id=remote_iframe___MODULE_ID__ style=\"border:0px;padding:0px;margin:0px;width:100%;height:200px;overflow:hidden;background:transparent;\" allowtransparency=\"yes\" frameborder=0 scrolling=no></iframe></div>";  	returnStr = string.Format (returnStr' _module.ModuleUrl' _modulePref.RenderInline' _module.Uid' GeneralConfigs.GetConfig ().Forumurl + parms' BaseConfigs.GetForumPath);  	break;  case ModuleContentType.HtmlInline:  	returnStr = _moduleContent.ContentHtml;  	break;  case ModuleContentType.Url:  	//����Ҫ��ContentHtml(����һ��ʼ����ֵ��Href��ͬ)���н�һ���Ĵ������Ϊ��Ҫ���ݲ�����������UserPref  	foreach (UserPref up in _userPrefCollection) {  		string userprefvalue = ups.GetValueByName (up.Name);  		userprefvalue = userprefvalue == string.Empty ? up.DefaultValue : userprefvalue;  		parms += string.Format ("&up_{0}={1}"' up.Name' Utils.UrlEncode (userprefvalue));  	}  	if (parms.StartsWith ("&"))  		parms = parms.TrimStart ('&');  	returnStr = string.Format (_moduleContent.ContentHtml' parms);  	break;  }  
Missing Default,Discuz.Space,ModuleXmlHelper,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\App_Code\ModuleXmlHelper.cs,GetModuleRequireScript,The following switch statement is missing a default case: switch (mr.Feature) {  case FeatureType.Analytics:  	break;  case FeatureType.Drag:  	break;  case FeatureType.Dynamic_Height:  	script = isInline ? SCRIPT_DYNAMIC_HEIGHT_INLINE : SCRIPT_DYNAMIC_HEIGHT;  	break;  case FeatureType.Flash:  	break;  case FeatureType.Grid:  	break;  case FeatureType.MiniMessage:  	break;  case FeatureType.SetPrefs:  	break;  case FeatureType.SetTitle:  	if (isInline)  		script = SCRIPT_SET_TITLE_INLINE;  	else  		script = SCRIPT_SET_TITLE;  	break;  case FeatureType.Tabs:  	break;  }  
Missing Default,Discuz.Space.Utilities,TemplateEngine,C:\repos\xbf321_PlantEng\PlantEng.Web.Forum\Discuz.Web\space\Utilities\TemplateEngine.cs,ParseExpression,The following switch statement is missing a default case: switch (oper) {  case ">=":  	if (left.GetType () == typeof(int))  		return Utils.StrToInt (left' 0) >= Utils.StrToInt (right' 0);  	else  		_template = "�������Ͳ��� >= �Ƚ� " + expression;  	break;  case "<=":  	if (left.GetType () == typeof(int))  		return Utils.StrToInt (left' 0) <= Utils.StrToInt (right' 0);  	else  		_template = "�������Ͳ��� <= �Ƚ� " + expression;  	break;  case "==":  	return left.ToString () == right.ToString ();  case "!=":  	return left.ToString () != right.ToString ();  case ">":  	if (left.GetType () == typeof(int))  		return Utils.StrToInt (left' 0) > Utils.StrToInt (right' 0);  	else  		_template = "�������Ͳ��� > �Ƚ� " + expression;  	break;  case "<":  	if (left.GetType () == typeof(int))  		return Utils.StrToInt (left' 0) < Utils.StrToInt (right' 0);  	else  		_template = "�������Ͳ��� < �Ƚ� " + expression;  	break;  }  
