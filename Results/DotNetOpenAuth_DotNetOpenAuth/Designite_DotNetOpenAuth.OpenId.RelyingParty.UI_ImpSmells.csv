Implementation smell,Namespace,Class,File,Method,Description
Long Method,DotNetOpenAuth.OpenId.RelyingParty,OpenIdLogin,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdLogin.cs,InitializeControls,The method has 140 lines of code.
Complex Method,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,Cyclomatic complexity of the method is 12
Complex Method,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelector,Cyclomatic complexity of the method is 9
Complex Method,DotNetOpenAuth.OpenId.RelyingParty,OpenIdLogin,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdLogin.cs,InitializeControls,Cyclomatic complexity of the method is 9
Complex Method,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,ProcessResponse,Cyclomatic complexity of the method is 15
Complex Method,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnLoggedIn,Cyclomatic complexity of the method is 9
Complex Method,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,CreateRequestsCoreAsync,Cyclomatic complexity of the method is 10
Long Identifier,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the parameter assertionLifetimeInMilliseconds is 31.
Long Identifier,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,OnPreRender,The length of the parameter assertionLifetimeInMilliseconds is 31.
Long Identifier,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetJsCallbackConvenienceFunction,The length of the parameter callbackErrorCallbackParameterName is 34.
Long Identifier,DotNetOpenAuth.OpenId.RelyingParty,OpenIdSelector,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdSelector.cs,OnPreRender,The length of the parameter PositiveAssertionParameterName is 30.
Long Statement,DotNetOpenAuth.ComponentModel,IdentifierConverter,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\ComponentModel\IdentifierConverter.cs,CreateFrom,The length of the statement  "	MemberInfo identifierParse = typeof(Identifier).GetMethod ("Parse"' BindingFlags.Static | BindingFlags.Public' null' new Type[] { " is 129.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				result.WriteScriptBlock (string.Format (CultureInfo.InvariantCulture' scriptFormat' additionalOptions.ShowDiagnosticIFrame ? "true" : "false"' additionalOptions.ShowDiagnosticTrace ? "true" : "false")); " is 202.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				blockBuilder.WriteLine ("window.aspnetapppath = '{0}';"' VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath)); " is 143.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				double assertionLifetimeInMilliseconds = Math.Min (TimeSpan.FromMinutes (5).TotalMilliseconds' Math.Min (OpenIdElement.Configuration.MaxAuthenticationTime.TotalMilliseconds' DotNetOpenAuthSection.Messaging.MaximumMessageLifetime.TotalMilliseconds)); " is 249.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				blockBuilder.WriteLine ("{0} = {1};"' OpenIdRelyingPartyAjaxControlBase.MaxPositiveAssertionLifetimeJsName' assertionLifetimeInMilliseconds.ToString (CultureInfo.InvariantCulture)); " is 181.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				string discoverUrl = VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath) + html.RouteCollection ["OpenIdDiscover"].GetVirtualPath (html.ViewContext.RequestContext' new RouteValueDictionary (new { " is 228.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				blockBuilder.WriteLine (blockFormat' additionalOptions.AssertionHiddenFieldId' additionalOptions.ReturnUrlHiddenFieldId' additionalOptions.FormKey); " is 148.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The length of the statement  "				blockBuilder.WriteLine (blockFormat' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenIdTextBox.EmbeddedLogoResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedSpinnerResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginFailureResourceName))' selectorOptions.Throttle' selectorOptions.Timeout.TotalMilliseconds' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnToolTip)' selectorOptions.TextBox.ShowLogOnPostBackButton ? "true" : "false"' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnPostBackToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.BusyToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.IdentifierRequiredMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnInProgressMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationSucceededToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticatedAsToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationFailedToolTip)); " is 1826.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdAjaxTextBox,The length of the statement  "			<input name='openid_identifier' id='openid_identifier' size='40' style='padding-left: 18px; border-style: solid; border-width: 1px; border-color: lightgray' />" is 159.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorButton,The length of the statement  "			h.AddAttribute (HtmlTextWriterAttribute.Src' Util.GetWebResourceUrl (typeof(OpenIdSelector)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName)); " is 166.
Long Statement,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,WriteScriptTags,The length of the statement  "	writer.WriteScriptTagsUrls (resourceNames.Select (r => Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' r))); " is 123.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxRelyingParty,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxRelyingParty.cs,CreateRequestsAsync,The length of the statement  "			if (string.IsNullOrEmpty (HttpUtility.ParseQueryString (req.ReturnToUrl.Query) [AuthenticationRequest.UserSuppliedIdentifierParameterName])) { " is 142.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxRelyingParty,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxRelyingParty.cs,CreateRequestsAsync,The length of the statement  "				req.SetUntrustedCallbackArgument (AuthenticationRequest.UserSuppliedIdentifierParameterName' userSuppliedIdentifier.OriginalString); " is 132.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxRelyingParty,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxRelyingParty.cs,CreateRequestsAsync,The length of the statement  "		req.SetUntrustedCallbackArgument (OpenIdRelyingPartyAjaxControlBase.OPEndpointParameterName' req.Provider.Uri.AbsoluteUri); " is 123.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxRelyingParty,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxRelyingParty.cs,CreateRequestsAsync,The length of the statement  "		req.SetUntrustedCallbackArgument (OpenIdRelyingPartyAjaxControlBase.ClaimedIdParameterName' (string)req.ClaimedIdentifier ?? string.Empty); " is 139.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxRelyingParty,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxRelyingParty.cs,AsAjaxDiscoveryResultAsync,The length of the statement  "		Content = new StringContent (serializer.Serialize (await this.AsJsonDiscoveryResultAsync (requests' cancellationToken)))' " is 121.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxTextBox,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxTextBox.cs,OnPreRender,The length of the statement  "		this.Page.ClientScript.RegisterClientScriptInclude ("yuiloader"' this.Page.Request.Url.IsTransportSecure () ? YuiLoaderHttps : YuiLoaderHttp); " is 142.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxTextBox,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxTextBox.cs,PrepareClientJavascript,The length of the statement  "	startupScript.AppendFormat (CultureInfo.InvariantCulture' "initAjaxOpenId(box' {0}' {1}' {2}' {3}' {4}' {5}' {6}' {7}' {8}' {9}' {10}' {11}' {12}' {13}' {14}' {15}' {16}' {17}' {18}' {19}' function() {{{20};}});{21}"' MessagingUtilities.GetSafeJavascriptValue (this.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' OpenIdTextBox.EmbeddedLogoResourceName))' MessagingUtilities.GetSafeJavascriptValue (this.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' EmbeddedSpinnerResourceName))' MessagingUtilities.GetSafeJavascriptValue (this.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' EmbeddedLoginSuccessResourceName))' MessagingUtilities.GetSafeJavascriptValue (this.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' EmbeddedLoginFailureResourceName))' this.Throttle' this.Timeout.TotalMilliseconds' string.IsNullOrEmpty (this.OnClientAssertionReceived) ? "null" : "'" + this.OnClientAssertionReceived.Replace (@"\"' @"\\").Replace ("'"' @"\'") + "'"' MessagingUtilities.GetSafeJavascriptValue (this.LogOnText)' MessagingUtilities.GetSafeJavascriptValue (this.LogOnToolTip)' this.ShowLogOnPostBackButton ? "true" : "false"' MessagingUtilities.GetSafeJavascriptValue (this.LogOnPostBackToolTip)' MessagingUtilities.GetSafeJavascriptValue (this.RetryText)' MessagingUtilities.GetSafeJavascriptValue (this.RetryToolTip)' MessagingUtilities.GetSafeJavascriptValue (this.BusyToolTip)' MessagingUtilities.GetSafeJavascriptValue (this.IdentifierRequiredMessage)' MessagingUtilities.GetSafeJavascriptValue (this.LogOnInProgressMessage)' MessagingUtilities.GetSafeJavascriptValue (this.AuthenticationSucceededToolTip)' MessagingUtilities.GetSafeJavascriptValue (this.AuthenticatedAsToolTip)' MessagingUtilities.GetSafeJavascriptValue (this.AuthenticationFailedToolTip)' this.AutoPostBack ? "true" : "false"' Page.ClientScript.GetPostBackEventReference (this' null)' Environment.NewLine); " is 1936.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdAjaxTextBox,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdAjaxTextBox.cs,PrepareClientJavascript,The length of the statement  "		Page.ClientScript.RegisterOnSubmitStatement (this.GetType ()' "loginvalidation"' string.Format (CultureInfo.InvariantCulture' htmlFormat' this.Name)); " is 150.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdLogin,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdLogin.cs,RenderChildren,The length of the statement  "<script type='text/javascript' id='__openidselector' src='https://www.idselector.com/selector/" + this.IdSelectorIdentifier + @"' charset='utf-8'></script>"; " is 157.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdLogin,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdLogin.cs,OnFailed,The length of the statement  "		this.errorLabel.Text = string.Format (CultureInfo.CurrentCulture' this.FailedMessageText' response.Exception.ToStringDescriptive ()); " is 133.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdLogin,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdLogin.cs,LoginButton_Click,The length of the statement  "				this.errorLabel.Text = string.Format (CultureInfo.CurrentCulture' this.FailedMessageText' OpenIdStrings.OpenIdEndpointNotFound); " is 128.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetAuthenticationResponseAsync,The length of the statement  "		IAuthenticationResponse viewstateResponse = this.ViewState [AuthenticationResponseViewStateKey] as IAuthenticationResponse; " is 123.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetAuthenticationResponseAsync,The length of the statement  "		if (!string.IsNullOrEmpty (formAuthData) && !string.Equals (viewstateAuthData' formAuthData' StringComparison.Ordinal)) { " is 121.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetAuthenticationResponseAsync,The length of the statement  "			Logger.Controls.DebugFormat ("The {0} control checked for an authentication response and found: {1}"' this.ID' this.authenticationResponse.Status); " is 147.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetAuthenticationResponseAsync,The length of the statement  "			this.ViewState [AuthenticationResponseViewStateKey] = new PositiveAuthenticationResponseSnapshot (this.authenticationResponse); " is 127.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,PreloadDiscoveryAsync,The length of the statement  "	string script = await this.AjaxRelyingParty.AsAjaxPreloadedDiscoveryResultAsync (requests.SelectMany (r => r)' cancellationToken); " is 130.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,PreloadDiscoveryAsync,The length of the statement  "	this.Page.ClientScript.RegisterClientScriptBlock (typeof(OpenIdRelyingPartyAjaxControlBase)' this.ClientID' script' true); " is 122.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,OnPreRender,The length of the statement  "	this.Page.ClientScript.RegisterClientScriptResource (typeof(OpenIdRelyingPartyAjaxControlBase)' EmbeddedAjaxJavascriptResource); " is 128.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,OnPreRender,The length of the statement  "	double assertionLifetimeInMilliseconds = Math.Min (TimeSpan.FromMinutes (5).TotalMilliseconds' Math.Min (OpenIdElement.Configuration.MaxAuthenticationTime.TotalMilliseconds' DotNetOpenAuthSection.Messaging.MaximumMessageLifetime.TotalMilliseconds)); " is 249.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,OnPreRender,The length of the statement  "	initScript.AppendLine (MaxPositiveAssertionLifetimeJsName + " = " + assertionLifetimeInMilliseconds.ToString (CultureInfo.InvariantCulture) + ";"); " is 147.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,OnPreRender,The length of the statement  "	this.Page.ClientScript.RegisterClientScriptBlock (typeof(OpenIdRelyingPartyControlBase)' "initializer"' initScript.ToString ()' true); " is 134.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,ScriptClosingPopupOrIFrameAsync,The length of the statement  "	HttpResponseMessage response = await this.RelyingParty.ProcessResponseFromPopupAsync (new HttpRequestWrapper (this.Context.Request).AsHttpRequestMessage ()' callback' cancellationToken); " is 186.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetJsCallbackConvenienceFunction,The length of the statement  "	string callback = Page.ClientScript.GetCallbackEventReference (this' argumentParameterName' callbackResultParameterName' argumentParameterName' callbackErrorCallbackParameterName' @async); " is 188.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,GetJsCallbackConvenienceFunction,The length of the statement  "	return string.Format (CultureInfo.InvariantCulture' "function({1}' {2}' {3}) {{{0}\treturn {4};{0}}};"' Environment.NewLine' argumentParameterName' callbackResultParameterName' callbackErrorCallbackParameterName' callback); " is 223.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,SetWebAppPathOnUserAgent,The length of the statement  "	string script = "window.aspnetapppath = " + MessagingUtilities.GetSafeJavascriptValue (this.Page.Request.ApplicationPath) + ";"; " is 128.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyAjaxControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyAjaxControlBase.cs,SetWebAppPathOnUserAgent,The length of the statement  "	this.Page.ClientScript.RegisterClientScriptBlock (typeof(OpenIdRelyingPartyAjaxControlBase)' "webapppath"' script' true); " is 121.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnLoad,The length of the statement  "	if (this.Page.Request.QueryString [UIPopupCallbackKey] == "1" && this.Page.Request.QueryString [UIPopupCallbackParentKey] == null) { " is 132.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnLoad,The length of the statement  "		string receiver = this.Page.Request.QueryString [ReturnToReceivingControlId] ?? this.Page.Request.Form [ReturnToReceivingControlId]; " is 132.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnLoad,The length of the statement  "				Logger.Controls.DebugFormat ("The {0} control checked for an authentication response and found: {1}"' this.ID' response != null ? response.Status.ToString () : "nothing"); " is 171.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,ScriptClosingPopupOrIFrameAsync,The length of the statement  "	return this.RelyingParty.ProcessResponseFromPopupAsync (new HttpRequestWrapper (this.Context.Request).AsHttpRequestMessage ()' cancellationToken); " is 146.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnPreRender,The length of the statement  "	this.Page.ClientScript.RegisterClientScriptResource (typeof(OpenIdRelyingPartyControlBase)' EmbeddedJavascriptResource); " is 120.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,OnLoggedIn,The length of the statement  "			FormsAuthentication.RedirectFromLoginPage (response.ClaimedIdentifier' this.UsePersistentCookie == LogOnPersistence.PersistentAuthentication); " is 142.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,CreateRelyingParty,The length of the statement  "	ICryptoKeyAndNonceStore store = this.Stateless ? null : OpenIdElement.Configuration.RelyingParty.ApplicationStore.CreateInstance (OpenIdRelyingParty.GetHttpApplicationStore (new HttpContextWrapper (this.Context))' null); " is 220.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,CreateRequestsCoreAsync,The length of the statement  "		requests = await this.RelyingParty.CreateRequestsAsync (identifier' typedRealm' returnToApproximation' cancellationToken); " is 122.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,ScriptPopupWindowAsync,The length of the statement  "	startupScript.AppendLine ("window.dnoa_internal.processAuthorizationResult = function(uri) { window.location = uri; };"); " is 121.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdRelyingPartyControlBase,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdRelyingPartyControlBase.cs,ScriptPopupWindowAsync,The length of the statement  "	startupScript.AppendFormat (@"\tvar openidPopup = {0}"' await OpenId.RelyingParty.Extensions.UI.UIUtilities.GetWindowPopupScriptAsync (this.RelyingParty' request' "openidPopup"' cancellationToken)); " is 198.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdSelector,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdSelector.cs,CreateChildControls,The length of the statement  "	ErrorUtilities.VerifyInternal (!string.IsNullOrEmpty (this.UniqueID)' "Control.EnsureID() failed to give us a unique ID.  Try setting an ID on the OpenIdSelector control.  But please also file this bug with the project owners."); " is 229.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdSelector,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdSelector.cs,OnPreRender,The length of the statement  "	string script = string.Format (CultureInfo.InvariantCulture' ScriptFormat' PositiveAssertionParameterName' this.Page.ClientScript.GetPostBackEventReference (this' null' false)' PostLoginAssertionMethodName' this.positiveAssertionField.ClientID); " is 245.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdSelector,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdSelector.cs,OnPreRender,The length of the statement  "		await this.PreloadDiscoveryAsync (this.Buttons.OfType<SelectorProviderButton> ().Select (op => op.OPIdentifier).Where (id => id != null)' ct); " is 142.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdTextBox,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdTextBox.cs,Render,The length of the statement  "		writer.AddStyleAttribute (HtmlTextWriterStyle.BackgroundImage' string.Format (CultureInfo.InvariantCulture' "url({0})"' HttpUtility.HtmlEncode (logoUrl))); " is 155.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,OpenIdTextBox,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\OpenIdTextBox.cs,AddProfileArgs,The length of the statement  "		PolicyUrl = string.IsNullOrEmpty (this.PolicyUrl) ? null : new Uri (new HttpRequestWrapper (this.Context.Request).GetPublicFacingUrl ()' this.Page.ResolveUrl (this.PolicyUrl))' " is 176.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,SelectorOpenIdButton,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\SelectorOpenIdButton.cs,EnsureValid,The length of the statement  "	ErrorUtilities.VerifyOperation (!string.IsNullOrEmpty (this.Image)' OpenIdStrings.PropertyNotSet' "SelectorButton.Image"); " is 122.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,SelectorOpenIdButton,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\SelectorOpenIdButton.cs,RenderButtonContent,The length of the statement  "	writer.AddAttribute (HtmlTextWriterAttribute.Src' selector.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName)); " is 176.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,SelectorProviderButton,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\SelectorProviderButton.cs,EnsureValid,The length of the statement  "	ErrorUtilities.VerifyOperation (!string.IsNullOrEmpty (this.Image)' OpenIdStrings.PropertyNotSet' "SelectorButton.Image"); " is 122.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,SelectorProviderButton,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\SelectorProviderButton.cs,EnsureValid,The length of the statement  "	ErrorUtilities.VerifyOperation (this.OPIdentifier != null' OpenIdStrings.PropertyNotSet' "SelectorButton.OPIdentifier"); " is 120.
Long Statement,DotNetOpenAuth.OpenId.RelyingParty,SelectorProviderButton,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\RelyingParty\SelectorProviderButton.cs,RenderButtonContent,The length of the statement  "	writer.AddAttribute (HtmlTextWriterAttribute.Src' selector.Page.ClientScript.GetWebResourceUrl (typeof(OpenIdAjaxTextBox)' OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName)); " is 176.
Magic Number,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The following statement contains a magic number: try {  	if (additionalOptions == null) {  		additionalOptions = new OpenIdAjaxOptions ();  	}  	using (StringWriter result = new StringWriter (CultureInfo.CurrentCulture)) {  		if (additionalOptions.ShowDiagnosticIFrame || additionalOptions.ShowDiagnosticTrace) {  			string scriptFormat = @"window.openid_visible_iframe = {0}; // causes the hidden iframe to show up window.openid_trace = {1}; // causes lots of messages";  			result.WriteScriptBlock (string.Format (CultureInfo.InvariantCulture' scriptFormat' additionalOptions.ShowDiagnosticIFrame ? "true" : "false"' additionalOptions.ShowDiagnosticTrace ? "true" : "false"));  		}  		var scriptResources = new[] {  			OpenIdRelyingPartyControlBase.EmbeddedJavascriptResource'  			OpenIdRelyingPartyAjaxControlBase.EmbeddedAjaxJavascriptResource'  			OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedScriptResourceName'  		};  		result.WriteScriptTags (scriptResources);  		if (selectorOptions.DownloadYahooUILibrary) {  			result.WriteScriptTagsUrls (new[] {  				"https://ajax.googleapis.com/ajax/libs/yui/2.8.0r4/build/yuiloader/yuiloader-min.js"  			});  		}  		using (var blockBuilder = new StringWriter (CultureInfo.CurrentCulture)) {  			if (selectorOptions.DownloadYahooUILibrary) {  				blockBuilder.WriteLine (@"	try { 		if (YAHOO) { 			var loader = new YAHOO.util.YUILoader({ 				require: ['button'' 'menu']' 				loadOptional: false' 				combine: true 			});  			loader.insert(); 		} 	} catch (e) { }");  			}  			blockBuilder.WriteLine ("window.aspnetapppath = '{0}';"' VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath));  			// Positive assertions can last no longer than this library is willing to consider them valid'  			// and when they come with OP private associations they last no longer than the OP is willing  			// to consider them valid.  We assume the OP will hold them valid for at least five minutes.  			double assertionLifetimeInMilliseconds = Math.Min (TimeSpan.FromMinutes (5).TotalMilliseconds' Math.Min (OpenIdElement.Configuration.MaxAuthenticationTime.TotalMilliseconds' DotNetOpenAuthSection.Messaging.MaximumMessageLifetime.TotalMilliseconds));  			blockBuilder.WriteLine ("{0} = {1};"' OpenIdRelyingPartyAjaxControlBase.MaxPositiveAssertionLifetimeJsName' assertionLifetimeInMilliseconds.ToString (CultureInfo.InvariantCulture));  			if (additionalOptions.PreloadedDiscoveryResults != null) {  				blockBuilder.WriteLine (additionalOptions.PreloadedDiscoveryResults);  			}  			string discoverUrl = VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath) + html.RouteCollection ["OpenIdDiscover"].GetVirtualPath (html.ViewContext.RequestContext' new RouteValueDictionary (new {  				identifier = "xxx"  			})).VirtualPath;  			string blockFormat = @"	{0} = function (argument' resultFunction' errorCallback) {{ 		jQuery.ajax({{ 			async: true' 			dataType: 'text'' 			error: function (request' status' error) {{ errorCallback(status' argument); }}' 			success: function (result) {{ resultFunction(result' argument); }}' 			url: '{1}'.replace('xxx'' encodeURIComponent(argument)) 		}}); 	}};";  			blockBuilder.WriteLine (blockFormat' OpenIdRelyingPartyAjaxControlBase.CallbackJSFunctionAsync' discoverUrl);  			blockFormat = @"	window.postLoginAssertion = function (positiveAssertion) {{ 		$('#{0}')[0].setAttribute('value'' positiveAssertion); 		if ($('#{1}')[0] && !$('#{1}')[0].value) {{ // popups have no ReturnUrl predefined' but full page LogOn does. 			$('#{1}')[0].setAttribute('value'' window.parent.location.href); 		}} 		document.forms[{2}].submit(); 	}};";  			blockBuilder.WriteLine (blockFormat' additionalOptions.AssertionHiddenFieldId' additionalOptions.ReturnUrlHiddenFieldId' additionalOptions.FormKey);  			blockFormat = @"	$(function () {{ 		var box = document.getElementsByName('openid_identifier')[0]; 		initAjaxOpenId(box' {0}' {1}' {2}' {3}' {4}' {5}' 			null' // js function to invoke on receiving a positive assertion 			{6}' {7}' {8}' {9}' {10}' {11}' {12}' {13}' {14}' {15}' {16}' {17}' 			false' // auto postback 			null); // PostBackEventReference (unused in MVC) 	}});";  			blockBuilder.WriteLine (blockFormat' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenIdTextBox.EmbeddedLogoResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedSpinnerResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginFailureResourceName))' selectorOptions.Throttle' selectorOptions.Timeout.TotalMilliseconds' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnToolTip)' selectorOptions.TextBox.ShowLogOnPostBackButton ? "true" : "false"' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnPostBackToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.BusyToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.IdentifierRequiredMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnInProgressMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationSucceededToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticatedAsToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationFailedToolTip));  			result.WriteScriptBlock (blockBuilder.ToString ());  			result.WriteScriptTags (OpenId.RelyingParty.OpenIdSelector.EmbeddedScriptResourceName);  			Reporting.RecordFeatureUse ("MVC " + typeof(OpenIdSelector).Name);  			return result.ToString ();  		}  	}  } catch {  	if (selectorOptionsOwned) {  		selectorOptions.Dispose ();  	}  	throw;  }  
Magic Number,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The following statement contains a magic number: using (StringWriter result = new StringWriter (CultureInfo.CurrentCulture)) {  	if (additionalOptions.ShowDiagnosticIFrame || additionalOptions.ShowDiagnosticTrace) {  		string scriptFormat = @"window.openid_visible_iframe = {0}; // causes the hidden iframe to show up window.openid_trace = {1}; // causes lots of messages";  		result.WriteScriptBlock (string.Format (CultureInfo.InvariantCulture' scriptFormat' additionalOptions.ShowDiagnosticIFrame ? "true" : "false"' additionalOptions.ShowDiagnosticTrace ? "true" : "false"));  	}  	var scriptResources = new[] {  		OpenIdRelyingPartyControlBase.EmbeddedJavascriptResource'  		OpenIdRelyingPartyAjaxControlBase.EmbeddedAjaxJavascriptResource'  		OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedScriptResourceName'  	};  	result.WriteScriptTags (scriptResources);  	if (selectorOptions.DownloadYahooUILibrary) {  		result.WriteScriptTagsUrls (new[] {  			"https://ajax.googleapis.com/ajax/libs/yui/2.8.0r4/build/yuiloader/yuiloader-min.js"  		});  	}  	using (var blockBuilder = new StringWriter (CultureInfo.CurrentCulture)) {  		if (selectorOptions.DownloadYahooUILibrary) {  			blockBuilder.WriteLine (@"	try { 		if (YAHOO) { 			var loader = new YAHOO.util.YUILoader({ 				require: ['button'' 'menu']' 				loadOptional: false' 				combine: true 			});  			loader.insert(); 		} 	} catch (e) { }");  		}  		blockBuilder.WriteLine ("window.aspnetapppath = '{0}';"' VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath));  		// Positive assertions can last no longer than this library is willing to consider them valid'  		// and when they come with OP private associations they last no longer than the OP is willing  		// to consider them valid.  We assume the OP will hold them valid for at least five minutes.  		double assertionLifetimeInMilliseconds = Math.Min (TimeSpan.FromMinutes (5).TotalMilliseconds' Math.Min (OpenIdElement.Configuration.MaxAuthenticationTime.TotalMilliseconds' DotNetOpenAuthSection.Messaging.MaximumMessageLifetime.TotalMilliseconds));  		blockBuilder.WriteLine ("{0} = {1};"' OpenIdRelyingPartyAjaxControlBase.MaxPositiveAssertionLifetimeJsName' assertionLifetimeInMilliseconds.ToString (CultureInfo.InvariantCulture));  		if (additionalOptions.PreloadedDiscoveryResults != null) {  			blockBuilder.WriteLine (additionalOptions.PreloadedDiscoveryResults);  		}  		string discoverUrl = VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath) + html.RouteCollection ["OpenIdDiscover"].GetVirtualPath (html.ViewContext.RequestContext' new RouteValueDictionary (new {  			identifier = "xxx"  		})).VirtualPath;  		string blockFormat = @"	{0} = function (argument' resultFunction' errorCallback) {{ 		jQuery.ajax({{ 			async: true' 			dataType: 'text'' 			error: function (request' status' error) {{ errorCallback(status' argument); }}' 			success: function (result) {{ resultFunction(result' argument); }}' 			url: '{1}'.replace('xxx'' encodeURIComponent(argument)) 		}}); 	}};";  		blockBuilder.WriteLine (blockFormat' OpenIdRelyingPartyAjaxControlBase.CallbackJSFunctionAsync' discoverUrl);  		blockFormat = @"	window.postLoginAssertion = function (positiveAssertion) {{ 		$('#{0}')[0].setAttribute('value'' positiveAssertion); 		if ($('#{1}')[0] && !$('#{1}')[0].value) {{ // popups have no ReturnUrl predefined' but full page LogOn does. 			$('#{1}')[0].setAttribute('value'' window.parent.location.href); 		}} 		document.forms[{2}].submit(); 	}};";  		blockBuilder.WriteLine (blockFormat' additionalOptions.AssertionHiddenFieldId' additionalOptions.ReturnUrlHiddenFieldId' additionalOptions.FormKey);  		blockFormat = @"	$(function () {{ 		var box = document.getElementsByName('openid_identifier')[0]; 		initAjaxOpenId(box' {0}' {1}' {2}' {3}' {4}' {5}' 			null' // js function to invoke on receiving a positive assertion 			{6}' {7}' {8}' {9}' {10}' {11}' {12}' {13}' {14}' {15}' {16}' {17}' 			false' // auto postback 			null); // PostBackEventReference (unused in MVC) 	}});";  		blockBuilder.WriteLine (blockFormat' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenIdTextBox.EmbeddedLogoResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedSpinnerResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginFailureResourceName))' selectorOptions.Throttle' selectorOptions.Timeout.TotalMilliseconds' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnToolTip)' selectorOptions.TextBox.ShowLogOnPostBackButton ? "true" : "false"' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnPostBackToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.BusyToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.IdentifierRequiredMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnInProgressMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationSucceededToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticatedAsToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationFailedToolTip));  		result.WriteScriptBlock (blockBuilder.ToString ());  		result.WriteScriptTags (OpenId.RelyingParty.OpenIdSelector.EmbeddedScriptResourceName);  		Reporting.RecordFeatureUse ("MVC " + typeof(OpenIdSelector).Name);  		return result.ToString ();  	}  }  
Magic Number,DotNetOpenAuth.Mvc,OpenIdHelper,F:\newReposMay17\DotNetOpenAuth_DotNetOpenAuth\src\DotNetOpenAuth.OpenId.RelyingParty.UI\OpenId\Mvc\OpenIdHelper.cs,OpenIdSelectorScripts,The following statement contains a magic number: using (var blockBuilder = new StringWriter (CultureInfo.CurrentCulture)) {  	if (selectorOptions.DownloadYahooUILibrary) {  		blockBuilder.WriteLine (@"	try { 		if (YAHOO) { 			var loader = new YAHOO.util.YUILoader({ 				require: ['button'' 'menu']' 				loadOptional: false' 				combine: true 			});  			loader.insert(); 		} 	} catch (e) { }");  	}  	blockBuilder.WriteLine ("window.aspnetapppath = '{0}';"' VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath));  	// Positive assertions can last no longer than this library is willing to consider them valid'  	// and when they come with OP private associations they last no longer than the OP is willing  	// to consider them valid.  We assume the OP will hold them valid for at least five minutes.  	double assertionLifetimeInMilliseconds = Math.Min (TimeSpan.FromMinutes (5).TotalMilliseconds' Math.Min (OpenIdElement.Configuration.MaxAuthenticationTime.TotalMilliseconds' DotNetOpenAuthSection.Messaging.MaximumMessageLifetime.TotalMilliseconds));  	blockBuilder.WriteLine ("{0} = {1};"' OpenIdRelyingPartyAjaxControlBase.MaxPositiveAssertionLifetimeJsName' assertionLifetimeInMilliseconds.ToString (CultureInfo.InvariantCulture));  	if (additionalOptions.PreloadedDiscoveryResults != null) {  		blockBuilder.WriteLine (additionalOptions.PreloadedDiscoveryResults);  	}  	string discoverUrl = VirtualPathUtility.AppendTrailingSlash (HttpContext.Current.Request.ApplicationPath) + html.RouteCollection ["OpenIdDiscover"].GetVirtualPath (html.ViewContext.RequestContext' new RouteValueDictionary (new {  		identifier = "xxx"  	})).VirtualPath;  	string blockFormat = @"	{0} = function (argument' resultFunction' errorCallback) {{ 		jQuery.ajax({{ 			async: true' 			dataType: 'text'' 			error: function (request' status' error) {{ errorCallback(status' argument); }}' 			success: function (result) {{ resultFunction(result' argument); }}' 			url: '{1}'.replace('xxx'' encodeURIComponent(argument)) 		}}); 	}};";  	blockBuilder.WriteLine (blockFormat' OpenIdRelyingPartyAjaxControlBase.CallbackJSFunctionAsync' discoverUrl);  	blockFormat = @"	window.postLoginAssertion = function (positiveAssertion) {{ 		$('#{0}')[0].setAttribute('value'' positiveAssertion); 		if ($('#{1}')[0] && !$('#{1}')[0].value) {{ // popups have no ReturnUrl predefined' but full page LogOn does. 			$('#{1}')[0].setAttribute('value'' window.parent.location.href); 		}} 		document.forms[{2}].submit(); 	}};";  	blockBuilder.WriteLine (blockFormat' additionalOptions.AssertionHiddenFieldId' additionalOptions.ReturnUrlHiddenFieldId' additionalOptions.FormKey);  	blockFormat = @"	$(function () {{ 		var box = document.getElementsByName('openid_identifier')[0]; 		initAjaxOpenId(box' {0}' {1}' {2}' {3}' {4}' {5}' 			null' // js function to invoke on receiving a positive assertion 			{6}' {7}' {8}' {9}' {10}' {11}' {12}' {13}' {14}' {15}' {16}' {17}' 			false' // auto postback 			null); // PostBackEventReference (unused in MVC) 	}});";  	blockBuilder.WriteLine (blockFormat' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenIdTextBox.EmbeddedLogoResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedSpinnerResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginSuccessResourceName))' MessagingUtilities.GetSafeJavascriptValue (Util.GetWebResourceUrl (typeof(OpenIdRelyingPartyControlBase)' OpenId.RelyingParty.OpenIdAjaxTextBox.EmbeddedLoginFailureResourceName))' selectorOptions.Throttle' selectorOptions.Timeout.TotalMilliseconds' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnToolTip)' selectorOptions.TextBox.ShowLogOnPostBackButton ? "true" : "false"' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnPostBackToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryText)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.RetryToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.BusyToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.IdentifierRequiredMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.LogOnInProgressMessage)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationSucceededToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticatedAsToolTip)' MessagingUtilities.GetSafeJavascriptValue (selectorOptions.TextBox.AuthenticationFailedToolTip));  	result.WriteScriptBlock (blockBuilder.ToString ());  	result.WriteScriptTags (OpenId.RelyingParty.OpenIdSelector.EmbeddedScriptResourceName);  	Reporting.RecordFeatureUse ("MVC " + typeof(OpenIdSelector).Name);  	return result.ToString ();  }  
