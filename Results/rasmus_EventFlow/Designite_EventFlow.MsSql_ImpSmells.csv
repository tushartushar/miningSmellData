Implementation smell,Namespace,Class,File,Method,Description
Long Statement,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The length of the statement  "                            "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."' " is 127.
Long Statement,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The length of the statement  "                    // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer " is 136.
Long Statement,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The length of the statement  "                    // The client was unable to establish a connection because of an error during connection initialization process before login. " is 125.
Long Statement,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The length of the statement  "                    // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy " is 134.
Long Statement,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The length of the statement  "                    // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server. " is 132.
Long Statement,EventFlow.MsSql.SnapshotStores,MsSqlSnapshotPersistence,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\SnapshotStores\MsSqlSnapshotPersistence.cs,GetSnapshotAsync,The length of the statement  "                "SELECT TOP 1 * FROM [dbo].[EventFlowSnapshots] WHERE AggregateName = @AggregateName AND AggregateId = @AggregateId ORDER BY AggregateSequenceNumber DESC"' " is 155.
Empty Catch Block,EventFlow.MsSql.SnapshotStores,MsSqlSnapshotPersistence,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\SnapshotStores\MsSqlSnapshotPersistence.cs,SetSnapshotAsync,The method has an empty catch block.
Magic Number,EventFlow.MsSql.EventStores,MsSqlEventPersistence,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\EventStores\MsSqlEventPersistence.cs,CommitEventsAsync,The following statement contains a magic number: try              {                  ids = await _connection.InsertMultipleAsync<long' EventDataModel>(                      Label.Named("mssql-insert-events")'                       cancellationToken'                      sql'                      eventDataModels)                      .ConfigureAwait(false);              }              catch (SqlException exception)              {                  if (exception.Number == 2601)                  {                      _log.Verbose(                          "MSSQL event insert detected an optimistic concurrency exception for entity with ID '{0}'"'                          id);                      throw new OptimisticConcurrencyException(exception.Message' exception);                  }                    throw;              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following statement contains a magic number: foreach (SqlError sqlExceptionError in sqlException.Errors)              {                  // ReSharper disable once SwitchStatementMissingSomeCases                  switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }              }
Magic Number,EventFlow.MsSql.SnapshotStores,MsSqlSnapshotPersistence,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\SnapshotStores\MsSqlSnapshotPersistence.cs,SetSnapshotAsync,The following statement contains a magic number: try              {                  await _msSqlConnection.ExecuteAsync(                      Label.Named("set-snapshot")'                      cancellationToken'                      @"INSERT INTO [dbo].[EventFlowSnapshots]                          (AggregateId' AggregateName' AggregateSequenceNumber' Metadata' Data)                          VALUES                          (@AggregateId' @AggregateName' @AggregateSequenceNumber' @Metadata' @Data)"'                      msSqlSnapshotDataModel)                      .ConfigureAwait(false);              }              catch (SqlException sqlException) when (sqlException.Number == 2601)              {                  // If we have a dublicate key exception' then the snapshot has already been created              }
Missing Default,EventFlow.MsSql.RetryStrategies,MsSqlErrorRetryStrategy,C:\repos\rasmus_EventFlow\Source\EventFlow.MsSql\RetryStrategies\MsSqlErrorRetryStrategy.cs,CheckErrorCode,The following switch statement is missing a default case: switch (sqlExceptionError.Number)                  {                      // SQL Error Code: 40501                      // The service is currently busy. Retry the request after 10 seconds.                      case 40501:                      {                          var delay = _msSqlConfiguration.ServerBusyRetryDelay.PickDelay();                          _log.Warning(                              "MSSQL server returned error 40501 which means it too busy and asked us to wait 10 seconds! Trying to wait {0:0.###} seconds."'                              delay.TotalSeconds);                          yield return Retry.YesAfter(delay);                          yield break;                      }                        // SQL Error Code: 40613                      // Database XXXX on server YYYY is not currently available. Please retry the connection later. If the problem persists' contact customer                      // support' and provide them the session tracing ID of ZZZZZ.                      case 40613:                        // SQL Error Code: 40540                      // The service has encountered an error processing your request. Please try again.                      case 40540:                        // SQL Error Code: 40197                      // The service has encountered an error processing your request. Please try again.                      case 40197:                        // SQL Error Code: 40143                      // The service has encountered an error processing your request. Please try again.                      case 40143:                        // SQL Error Code: 18401                      // Login failed for user '%s'. Reason: Server is in script upgrade mode. Only administrator can connect at this time.                      // Devnote: this can happen when SQL is going through recovery (e.g. after failover)                      case 18401:                        // SQL Error Code: 10929                      // Resource ID: %d. The %s minimum guarantee is %d' maximum limit is %d and the current usage for the database is %d.                       // However' the server is currently too busy to support requests greater than %d for this database.                      case 10929:                        // SQL Error Code: 10928                      // Resource ID: %d. The %s limit for the database is %d and has been reached.                      case 10928:                        // SQL Error Code: 10060                      // A network-related or instance-specific error occurred while establishing a connection to SQL Server.                      // The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server                      // is configured to allow remote connections. (provider: TCP Provider' error: 0 - A connection attempt failed                      // because the connected party did not properly respond after a period of time' or established connection failed                      // because connected host has failed to respond.)"}                      case 10060:                        // SQL Error Code: 10054                      // A transport-level error has occurred when sending the request to the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 10054:                        // SQL Error Code: 10053                      // A transport-level error has occurred when receiving results from the server.                      // An established connection was aborted by the software in your host machine.                      case 10053:                        // SQL Error Code: 233                      // The client was unable to establish a connection because of an error during connection initialization process before login.                      // Possible causes include the following: the client tried to connect to an unsupported version of SQL Server; the server was too busy                      // to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server.                      // (provider: TCP Provider' error: 0 - An existing connection was forcibly closed by the remote host.)                      case 233:                        // SQL Error Code: 64                      // A connection was successfully established with the server' but then an error occurred during the login process.                      // (provider: TCP Provider' error: 0 - The specified network name is no longer available.)                      case 64:                          yield return Retry.YesAfter(_msSqlConfiguration.TransientRetryDelay.PickDelay());                          yield break;                  }
