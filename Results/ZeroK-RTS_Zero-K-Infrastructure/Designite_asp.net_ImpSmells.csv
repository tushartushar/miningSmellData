Implementation smell,Namespace,Class,File,Method,Description
Long Method,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The method has 116 lines of code.
Long Method,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The method has 145 lines of code.
Long Method,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The method has 170 lines of code.
Long Method,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The method has 153 lines of code.
Complex Method,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,CalculateAwards,Cyclomatic complexity of the method is 8
Complex Method,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,UpdateLinks,Cyclomatic complexity of the method is 11
Complex Method,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,Cyclomatic complexity of the method is 9
Complex Method,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,RegisterResource,Cyclomatic complexity of the method is 15
Complex Method,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,Cyclomatic complexity of the method is 10
Complex Method,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,Cyclomatic complexity of the method is 17
Complex Method,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,ModifyTreaty,Cyclomatic complexity of the method is 12
Complex Method,ZeroKWeb.Controllers,LobbyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyController.cs,ChatHistory,Cyclomatic complexity of the method is 8
Complex Method,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,Cyclomatic complexity of the method is 9
Complex Method,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,Cyclomatic complexity of the method is 14
Complex Method,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,Cyclomatic complexity of the method is 9
Complex Method,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,Cyclomatic complexity of the method is 8
Complex Method,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,VotePost,Cyclomatic complexity of the method is 10
Complex Method,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,Cyclomatic complexity of the method is 16
Complex Method,ZeroKWeb.Controllers,MissionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MissionsController.cs,FilterMissions,Cyclomatic complexity of the method is 9
Complex Method,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BombPlanet,Cyclomatic complexity of the method is 18
Complex Method,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Events,Cyclomatic complexity of the method is 10
Complex Method,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SendDropships,Cyclomatic complexity of the method is 12
Complex Method,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ActivateTargetedStructure,Cyclomatic complexity of the method is 11
Complex Method,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NominateRole,Cyclomatic complexity of the method is 11
Complex Method,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,Index,Cyclomatic complexity of the method is 11
Complex Method,ZeroKWeb.ForumParser,ForumWikiParser,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\ForumWikiParser.cs,SplitIntoTags,Cyclomatic complexity of the method is 8
Complex Method,ZeroKWeb.ForumParser,AtSignTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\AtSignTag.cs,Translate,Cyclomatic complexity of the method is 13
Complex Method,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,AcceptsLetter,Cyclomatic complexity of the method is 8
Complex Method,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,Init,Cyclomatic complexity of the method is 8
Complex Method,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Print,Cyclomatic complexity of the method is 8
Complex Method,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintRoleType,Cyclomatic complexity of the method is 13
Long Parameter List,ZeroKWeb,Col,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\Col.cs,Create,The method has 6 parameters. Parameters: index' description' orderbyexpression' filterbyexpression' all' type
Long Parameter List,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,RegisterResource,The method has 13 parameters. Parameters: apiVersion' springVersion' md5' length' resourceType' archiveName' internalName' serializedData' dependencies' minimap' metalMap' heightMap' torrentData
Long Parameter List,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,SubmitMissionScore,The method has 6 parameters. Parameters: login' passwordHash' missionName' score' gameSeconds' missionVars
Long Parameter List,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The method has 6 parameters. Parameters: internalName' links' torrent' dependencies' resourceType' torrentFileName
Long Parameter List,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The method has 5 parameters. Parameters: mission' slots' author' password' modInfo
Long Parameter List,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,RegisterResource,The method has 13 parameters. Parameters: apiVersion' springVersion' md5' length' resourceType' archiveName' internalName' serializedData' dependencies' minimap' metalMap' heightMap' torrentData
Long Parameter List,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The method has 7 parameters. Parameters: md5' resource' serializedData' torrentData' minimap' metalMap' heightMap
Long Parameter List,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,ModifyTreaty,The method has 11 parameters. Parameters: factionTreatyID' turns' acceptingFactionID' effectTypeID' effectValue' planetID' isReverse' note' add' delete' propose
Long Parameter List,ZeroKWeb.Controllers,ContributionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ContributionsController.cs,AddContribution,The method has 11 parameters. Parameters: accountID' kudos' item' currency' gross' grossEur' netEur' email' comment' isSpring' date
Long Parameter List,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The method has 12 parameters. Parameters: threadID' categoryID' resourceID' missionID' springBattleID' clanID' planetID' text' title' wikiKey' forumPostID' isMinorEdit
Long Parameter List,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitSearch,The method has 5 parameters. Parameters: keywords' username' categoryIDs' firstPostOnly' resultsAsPosts
Long Parameter List,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,Index,The method has 15 parameters. Parameters: search' offset' assymetrical' sea' hills' size' elongated' needsTagging' isTeams' is1v1' ffa' chicken' isDownloadable' special' mapSupportLevel
Long Parameter List,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,JsonSearch,The method has 15 parameters. Parameters: search' offset' assymetrical' sea' hills' size' elongated' needsTagging' isTeams' is1v1' ffa' chicken' isDownloadable' special' mapSupportLevel
Long Parameter List,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,Tag,The method has 13 parameters. Parameters: id' sea' hills' assymetrical' author' isTeams' is1v1' ffa' chickens' ffaTeams' special' springieCommands' mapSupportLevel
Long Parameter List,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The method has 16 parameters. Parameters: search' offset' assymetrical' sea' hills' size' elongated' needsTagging' isTeams' is1v1' ffa' chicken' isDownloadable' special' mapSupportLevel' ret
Long Parameter List,ZeroKWeb.Controllers,MissionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MissionsController.cs,Index,The method has 6 parameters. Parameters: search' offset' sp' coop' adversarial' featured
Long Parameter List,ZeroKWeb.Controllers,MissionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MissionsController.cs,FilterMissions,The method has 7 parameters. Parameters: ret' search' featured' offset' sp' coop' adversarial
Long Parameter List,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Events,The method has 9 parameters. Parameters: planetID' accountID' springBattleID' clanID' factionID' filter' pageSize' page' partial
Long Parameter List,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,Punish,The method has 15 parameters. Parameters: accountID' reason' deleteXP' deleteInfluence' banMute' banCommanders' banSite' banLobby' banUnlocks' banSpecChat' banForum' setRightsToZero' banIP' banUserID' banHours
Long Parameter List,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanSubmit,The method has 9 parameters. Parameters: name' startIndex' endIndex' reason' banHours' banSite' banLobby' banIP' banID
Long Parameter List,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanByUserIDSubmit,The method has 8 parameters. Parameters: userID' maxAge' reason' banHours' banSite' banLobby' banIP' banID
Long Parameter List,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Select,The method has 5 parameters. Parameters: helper' name' etype' selected' anyItem
Long Statement,ZeroKWeb,DosProtector,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\DosProtector.cs,CanQuery,The length of the statement  "                    .Select(x => x.RequestEnd < now ? x.RequestEnd.Subtract(x.RequestStart > limit ? x.RequestStart : limit).TotalSeconds : now.Subtract(x.RequestStart > limit ? x.RequestStart : limit).TotalSeconds) " is 195.
Long Statement,ZeroKWeb,ForumPostIndexer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ForumPostIndexer.cs,IndexAll,The length of the statement  "            using (var db = new ZkDataContext()) foreach (var post in db.ForumPosts.Where(x => x.Text != "" && !x.ForumPostWords.Any())) IndexPost(post); " is 141.
Long Statement,ZeroKWeb,ForumPostIndexer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ForumPostIndexer.cs,SplitTermToWordIDs,The length of the statement  "            return (term??"").Split(' '' '\t'' '\n').Select(SanitizeWord).Where(x => !string.IsNullOrEmpty(x)).Select(GetWordID).Distinct().ToList(); " is 137.
Long Statement,ZeroKWeb,ForumPostIndexer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ForumPostIndexer.cs,ZkDataContextOnAfterEntityChange,The length of the statement  "            if (post != null && (dbEntityEntry.State == EntityState.Added || dbEntityEntry.State == EntityState.Modified)) IndexPost(post); " is 127.
Long Statement,ZeroKWeb,ForumPostIndexer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ForumPostIndexer.cs,IndexPost,The length of the statement  "                foreach (var grp in words.GroupBy(x => x)) dbPost.ForumPostWords.Add(new ForumPostWord { Count = grp.Count()' WordID = GetWordID(grp.Key) }); " is 141.
Long Statement,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,CalculateAwards,The length of the statement  "                            (x.ResourceByMapResourceID.MapSupportLevel >= MapSupportLevel.Supported) && (x.ResourceByMapResourceID.MapIsSpecial == false)) " is 126.
Long Statement,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,CalculateAwards,The length of the statement  "                    awardsByType.GroupBy(x => x.Account).Select(x => new { Account = x.Key' Count = x.Count() }).OrderByDescending(x => x.Count); " is 125.
Long Statement,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The length of the statement  "                    db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 }); " is 198.
Long Statement,ZeroKWeb,MediaWikiRecentChanges,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\MediaWikiRecentChanges.cs,LoadRecentChanges,The length of the statement  "				string query = new WebClient().DownloadString("https://zero-k.info/mediawiki/api.php?action=query&format=json&list=recentchanges&rcprop=title%7Cflags%7Cuser%7Ctimestamp&rcshow=!bot&rclimit=5&rctoponly=1"); " is 205.
Long Statement,ZeroKWeb,MediaWikiRecentChanges,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\MediaWikiRecentChanges.cs,LoadRecentChanges,The length of the statement  "					DateTime timestamp = DateTime.Parse((string)editJson["timestamp"]' null' System.Globalization.DateTimeStyles.RoundtripKind); " is 124.
Long Statement,ZeroKWeb,UniGrid<T>,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\UniGrid.cs,GenerateCsv,The length of the statement  "            sb.AppendLine(string.Join(delimiter' Cols.Where(x => x.AllowCsv).Select(x => EscapeCsvField(x.Description)))); // header " is 120.
Long Statement,ZeroKWeb,UniGrid<T>,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\UniGrid.cs,RenderTableRows,The length of the statement  "                        sb.AppendFormat("<td><input type='checkbox' value='{2}' {1} class='js-grid-selector' onclick=\"gridSelect('{0}''$(this))\" />{3}</td>"' ID' isSelected ? "checked='checked'" : ""' selVal' columnDef.WebFormat(row)); " is 213.
Long Statement,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,GetEngineList,The length of the statement  "            var list = new DirectoryInfo(Path.Combine(Global.MapPath("~")' "engine"' platform ?? "win32")).GetFiles().Select(x => x.Name).Select(Path.GetFileNameWithoutExtension).OrderBy(x => x' comparer).ToList(); " is 202.
Long Statement,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,FindResourceData,The length of the statement  "            if (test.Any()) return test.OrderByDescending(x => x.MapSupportLevel).AsEnumerable().Select(PlasmaServer.ToResourceData).ToList(); " is 130.
Long Statement,ZeroKWeb,Global,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\Global.cs,StartApplication,The length of the statement  "            SteamDepotGenerator = new SteamDepotGenerator(sitePath' Path.Combine(sitePath' ".."' "steamworks"' "tools"' "ContentBuilder"' "content")); " is 138.
Long Statement,ZeroKWeb,Global,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\Global.cs,GetAjaxOptions,The length of the statement  "            var ret = new AjaxOptions { UpdateTargetId = targetID' OnComplete = string.Format("GlobalPageInit($('#{0}'))"' targetID)' }; " is 124.
Long Statement,ZeroKWeb,ResourceList,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ResourceList.aspx.cs,lqResources_Selecting,The length of the statement  "			e.Result = db.Resources.Where(x => x.InternalName.Contains(tbName.Text)).OrderByDescending(x=>x.DownloadCount).AsEnumerable().Select(x => new " is 141.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("WikiPage"' "Wiki/{node}"' new { controller = "Wiki"' action = "Index"' node = UrlParameter.Optional }); " is 120.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("WikiPage2"' "p/zero-k/wiki/{node}"' new { controller = "Wiki"' action = "Index"' node = UrlParameter.Optional }); " is 130.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("MissionImage"' "Missions/Img/{name}"' new { controller = "Missions"' action = "Img"' name = UrlParameter.Optional }); " is 134.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("MissionFile"' "Missions/File/{name}"' new { controller = "Missions"' action = "File"' name = UrlParameter.Optional }); " is 135.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("ReplayFile"' "Replays/{name}"' new { controller = "Replays"' action = "Download"' name = UrlParameter.Optional }); " is 131.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("StaticFile"' "Static/{name}"' new { controller = "Static"' action = "Index"' name = UrlParameter.Optional }); " is 126.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,RegisterRoutes,The length of the statement  "            routes.MapRoute("Default"' "{controller}/{action}/{id}"' new { controller = "Home"' action = "Index"' id = UrlParameter.Optional }); " is 132.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,Application_Start,The length of the statement  "            ViewEngines.Engines.Add(new RazorViewEngine() { FileExtensions = new[] { "cshtml" } }); // this should speed up rendering a bit " is 127.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,MvcApplication_PostAuthenticateRequest,The length of the statement  "            if (FormsAuthentication.IsEnabled && User.Identity.IsAuthenticated) acc = Account.AccountByName(new ZkDataContext()' User.Identity.Name); " is 137.
Long Statement,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,MvcApplication_PostAuthenticateRequest,The length of the statement  "            var removeCake = Regex.Replace(Request.Url.ToString()' $"([?|&])({GlobalConst.SessionTokenVariable}=[^&?]+[?|&]*)"' m => m.Groups[1].Value); " is 140.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetJobjolMirrorLinks,The length of the statement  "                foreach (var res in rpc.Search(new SearchParams() { FileName = fileName' SpringName = springName })) ret.AddRange(res.mirrors); " is 127.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "            var bestOld = resource.ResourceContentFiles.FirstOrDefault(x => x.LinkCount == resource.ResourceContentFiles.Max(y => y.LinkCount)); " is 132.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "                if (links.Count > 0) db.Database.ExecuteSqlCommand("UPDATE Resources SET DownloadCount = DownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID); " is 149.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "                else db.Database.ExecuteSqlCommand("UPDATE Resources SET NoLinkDownloadCount = NoLinkDownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID); " is 145.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "                if (links.Count > 0) db.Database.ExecuteSqlCommand("UPDATE Resources SET DownloadCount = DownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID); " is 149.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "                else db.Database.ExecuteSqlCommand("UPDATE Resources SET NoLinkDownloadCount = NoLinkDownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID); " is 145.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The length of the statement  "                    var best = resource.ResourceContentFiles.FirstOrDefault(x => x.LinkCount == resource.ResourceContentFiles.Max(y => y.LinkCount)); " is 129.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,UpdateLinks,The length of the statement  "            if (content.LinkCount > 0 || content.Links != null) valids = new List<string>(content.Links.Split('\n')); // get previous links " is 127.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,UpdateLinks,The length of the statement  "            foreach (var link in GetJobjolMirrorLinks(content.FileName' content.Resource.InternalName)) if (!valids.Contains(link)) valids.Add(link); " is 137.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,UpdateLinks,The length of the statement  "                var replaced = url.Replace("%t"' content.Resource.TypeID == ResourceType.Map ? "maps" : "games").Replace("%f"' content.FileName); " is 129.
Long Statement,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,UpdateLinks,The length of the statement  "            Task.WaitAll(new List<string>(valids).Select(link => Task.Factory.StartNew(() => ValidateLink(link' content.Length' valids))).ToArray()); " is 137.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,DeleteMission,The length of the statement  "				if (acc.AccountID != prev.AccountID && acc.AdminLevel < AdminLevel.Moderator) throw new ApplicationException("You cannot delete a mission from an other user"); " is 159.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,UndeleteMission,The length of the statement  "				if (acc.AccountID != prev.AccountID && acc.AdminLevel < AdminLevel.Moderator) throw new ApplicationException("You cannot undelete a mission from an other user"); " is 161.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "			Mission prev = db.Missions.SingleOrDefault(x => x.MissionID == mission.MissionID || (x.Name == mission.Name && x.AccountID == acc.AccountID)); // previous mission by id or name + account " is 186.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "			if (prev == null && db.Missions.Any(x =>x.Name == mission.Name)) throw new ApplicationException("Mission name must be unique"); " is 127.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "			//if (db.Resources.Any(x => x.InternalName == mission.Name && x.MissionID != null)) throw new ApplicationException("Name already taken by other mod/map"); " is 154.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "				if (prev.AccountID != acc.AccountID && acc.AdminLevel < AdminLevel.Moderator) throw new ApplicationException("Invalid author or password"); " is 139.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "				mission.ForumThread = new ForumThread() { Title = mission.Name' ForumCategory = db.ForumCategories.FirstOrDefault(x=>x.ForumMode==ForumMode.Missions)' CreatedAccountID = acc.AccountID' LastPostAccountID= acc.AccountID }; " is 220.
Long Statement,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The length of the statement  "			mission.Script = Regex.Replace(mission.Script' "GameType=([^;]+);"' (m) => { return string.Format("GameType={0};"' mission.NameWithVersion); }); " is 144.
Long Statement,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,GetResourceList,The length of the statement  "            return db.Resources.Where(x => lastChange == null || x.LastChange > lastChange).AsEnumerable().Select(ToResourceData).ToList(); " is 127.
Long Statement,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,RegisterResource,The length of the statement  "                    if (!resource.ResourceDependencies.Any(x => x.NeedsInternalName == s)) resource.ResourceDependencies.Add(new ResourceDependency { NeedsInternalName = depend }); " is 160.
Long Statement,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,RegisterResource,The length of the statement  "            var newContentFile = new ResourceContentFile { FileName = archiveName' Length = length' Md5 = md5' Resource = resource}; " is 120.
Long Statement,ZeroKWeb,ResourceDetail,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ResourceDetail.aspx.cs,lqContentFiles_Selecting,The length of the statement  "							LinkText = x.Links != null ? string.Join("<br/>"' x.Links.Split('\n').Select(y => string.Format("<a href='{0}'>{0}</a>"' y)).ToArray()): null " is 141.
Long Statement,ZeroKWeb,ResourceDetail,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ResourceDetail.aspx.cs,Page_Load,The length of the statement  "				lbDetails.Text = string.Format("Download count: {0}<br/>\nFailed downloads (no links): {1}<br/>\n"' res.DownloadCount' res.NoLinkDownloadCount); " is 144.
Long Statement,ZeroKWeb.Controllers,AutocompleteController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\AutocompleteController.cs,CompleteThreads,The length of the statement  "                db.ForumThreads.Where(x=> x.ForumCategoryID == categoryID || (categoryID==null && x.ForumCategory.ForumMode != ForumMode.Archive)).Where(x => (x.WikiKey != null && x.WikiKey.Contains(term)) || x.Title.Contains(term)) " is 216.
Long Statement,ZeroKWeb.Controllers,AutocompleteController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\AutocompleteController.cs,CompleteThreads,The length of the statement  "                                url = x.WikiKey != null? Url.Action("Index"'"Wiki"' new {node = x.WikiKey}): Url.Action("Thread"' "Forum"' new { id = x.ForumThreadID })' " is 137.
Long Statement,ZeroKWeb.Controllers,Retention,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The length of the statement  "                join sb in db.SpringBattles on sbp.SpringBattleID equals sb.SpringBattleID select new { sb'sbp}).GroupBy(x => x.sbp.AccountID).Select(x => new " is 142.
Long Statement,ZeroKWeb.Controllers,DailyUnique,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The length of the statement  "            var selected = db.SpringBattlePlayers.Where(x => !x.IsSpectator).Select(x => new { x.AccountID' x.SpringBattle.StartTime }).Where(x=>x.StartTime >= fromTime && x.StartTime <= toTime).ToList(); " is 192.
Long Statement,ZeroKWeb.Controllers,DailyAvgMinutes,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The length of the statement  "            var selected = db.SpringBattlePlayers.Where(x => !x.IsSpectator).Select(x => new { x.AccountID' x.SpringBattle.StartTime' x.SpringBattle.Duration }).Where(x => x.StartTime >= fromTime && x.StartTime <= toTime).ToList(); " is 219.
Long Statement,ZeroKWeb.Controllers,DailyAvgMinutes,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The length of the statement  "                    select new GraphPoint() { Day = grp.Key' Value = grp.Sum(y => y.Duration) / 60 / players' }).OrderBy(x => x.Day).ToList(); " is 122.
Long Statement,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,Index,The length of the statement  "            model.PossibleGraphs = GetPossibleProviders().Select(x => new ChartsModel.PossibleGraph() { Title = x.Title' Name = x.Name }).ToList(); " is 135.
Long Statement,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,Index,The length of the statement  "                var data = MemCache.GetCached($"chart_{prov.Title}_{from}_{to}"' () => GraphPoint.FillHoles(prov.GetDailyValues(from' to)' from' to).ToList()' 3600 * 24); " is 154.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,Index,The length of the statement  "            if (!string.IsNullOrEmpty(model.Search)) ret = ret.Where(x => x.ClanName.Contains(model.Search) || x.Shortcut.Contains(model.Search)); " is 134.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,Create,The length of the statement  "            if (Global.Account.Clan == null || Global.Account.HasClanRight(x => x.RightEditTexts)) return View(Global.Clan ?? new Clan() { FactionID = Global.FactionID }); " is 159.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,PerformLeaveClan,The length of the statement  "            //    var channelSub = db.LobbyChannelSubscriptions.FirstOrDefault(x => x.Account == acc && x.Channel == acc.Clan.GetClanChannel()); " is 132.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,PerformLeaveClan,The length of the statement  "                    db.AccountRoles.InsertOnSubmit(new AccountRole() { AccountID = otherClanMember.AccountID' Clan = clan' RoleType = leader' Inauguration = DateTime.UtcNow }); " is 156.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,KickPlayerFromClan,The length of the statement  "                if (!Global.Account.HasClanRight(x => x.RightKickPeople)) return Content("You have no kicking rights"); // unclanned people get handled here " is 140.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "            if (string.IsNullOrEmpty(clan.ClanName) || string.IsNullOrEmpty(clan.Shortcut)) return Content("Name and shortcut cannot be empty!"); " is 133.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "            if (!ZkData.Clan.IsShortcutValid(clan.Shortcut)) return Content("Shortcut must have at least 1 characters and contain only numbers and letters"); " is 145.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "                if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized"); " is 128.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "                var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID)); " is 181.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "                        db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction)); " is 120.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "                if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in"); " is 127.
Long Statement,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The length of the statement  "                var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID)); " is 180.
Long Statement,ZeroKWeb.Controllers,EnginesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\EnginesController.cs,Index,The length of the statement  "            foreach (var name in new DirectoryInfo(winBasePath).GetFiles().Select(x => x.Name).Select(Path.GetFileNameWithoutExtension)) " is 124.
Long Statement,ZeroKWeb.Controllers,EnginesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\EnginesController.cs,Index,The length of the statement  "                var item = new EngineItem() { Name = name' Platforms = new List<string>() { defaultPlatform }' IsDefault = name == MiscVar.DefaultEngine}; " is 138.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,JoinFaction,The length of the statement  "            if (Global.Account.Clan != null && Global.Account.Clan.FactionID != id) return Content("Must leave current clan first"); " is 120.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,JoinFaction,The length of the statement  "            if (faction.IsDeleted && !(Global.Account.Clan != null && Global.Account.Clan.FactionID == id)) throw new ApplicationException("Cannot join deleted faction"); " is 158.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,ModifyTreaty,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} proposes a new treaty between {1} and {2} - {3}"'treaty.AccountByProposingAccountID' treaty.FactionByProposingFactionID' treaty.FactionByAcceptingFactionID' treaty)); " is 231.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,CancelTreaty,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Treaty {0} between {1} and {2} cancelled by {3}"' treaty' treaty.FactionByProposingFactionID' treaty.FactionByAcceptingFactionID' acc)); " is 197.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,CounterProposal,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} modified treaty proposal {1} between {2} and {3}"' acc' treaty' treaty.FactionByProposingFactionID' treaty.FactionByAcceptingFactionID)); " is 202.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,TreatyDetail,The length of the statement  "            return View("~/Views/Shared/DisplayTemplates/FactionTreaty.cshtml"' db.FactionTreaties.Single(x => x.FactionTreatyID == id)); " is 125.
Long Statement,ZeroKWeb.Controllers,FactionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\FactionsController.cs,AcceptTreaty,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Treaty {0} between {1} and {2} accepted by {3}"' treaty' treaty.FactionByProposingFactionID' treaty.FactionByAcceptingFactionID' acc)); " is 196.
Long Statement,ZeroKWeb.Controllers,ContributionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ContributionsController.cs,Redeem,The length of the statement  "            if (contrib.AccountByAccountID != null) return Content(string.Format("This contribution has been assigned to {0}' thank you."' contrib.AccountByAccountID.Name)); " is 161.
Long Statement,ZeroKWeb.Controllers,ContributionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ContributionsController.cs,Redeem,The length of the statement  "            return Content(string.Format("Thank you!! {0} Kudos have been added to your account {1}"' contrib.KudosValue' contrib.AccountByAccountID.Name)); " is 144.
Long Statement,ZeroKWeb.Controllers,GithubController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\GithubController.cs,Hook,The length of the statement  "            if (!string.Equals(hash.ToHex()' signature' StringComparison.InvariantCultureIgnoreCase)) return Content("Signature does not match"); " is 133.
Long Statement,ZeroKWeb.Controllers,GithubController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\GithubController.cs,Hook,The length of the statement  "                    values = new [] {payload.repository.name 'payload.sender.login'  payload.action' payload.issue.title' payload.issue.html_url}; " is 126.
Long Statement,ZeroKWeb.Controllers,GithubController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\GithubController.cs,Hook,The length of the statement  "                    values = new [] {payload.repository.name 'payload.sender.login'  payload.action' payload.number' payload.pull_request.title ' payload.pull_request.html_url' payload.pull_request.body}; " is 184.
Long Statement,ZeroKWeb.Controllers,LobbyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyController.cs,SendCommand,The length of the statement  "            if (!Global.Server.IsLobbyConnected(Global.Account.Name)) return Content("To use this feature' you need to be running the game and be logged in there"); " is 152.
Long Statement,ZeroKWeb.Controllers,LobbyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyController.cs,ChatHistory,The length of the statement  "            if (model.Channel == "zkcore" && Global.Account.DevLevel < DevLevel.RetiredCoreDeveloper) return View("LobbyChatHistory"' model); " is 129.
Long Statement,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The length of the statement  "                var unitCostHealth = units.GroupBy(x => x.Unit1).ToDictionary(x => x.Key' x => x.Select(y => (double?)y.Cost/y.Health).FirstOrDefault()); " is 137.
Long Statement,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The length of the statement  "                foreach (var dd in damages.Where(x => x.AttackerUnit == unit).GroupBy(x=>x.VictimUnit).Select(x=>new {unit = x.Key' sum =x.Sum(y=>y.Damage1)})) costDamageDone +=dd.sum * (unitCostHealth[dd.unit]??0); " is 199.
Long Statement,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The length of the statement  "                results.Add(new MonthEntry() { Month = new DateTime(m.Key/13' m.Key%13' 1)' CostDamagedLost = (costDamageDone/costDamageRecieved)??0' CostDamagedInvest = (costDamageDone/totalSpending)??0 }); " is 191.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Detail,The length of the statement  "            if (Global.AccountID != 0 && !showWinners && bat.SpringBattlePlayers.Any(y => y.AccountID == Global.AccountID && !y.IsSpectator)) ViewBag.ShowWinners = true; // show winners if player played thatbattle " is 201.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The length of the statement  "            if (!string.IsNullOrEmpty(model.User1)) q = q.Where(b => b.SpringBattlePlayers.Any(p => !p.IsSpectator && p.Account.Name == model.User1)); " is 138.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The length of the statement  "            if (!string.IsNullOrEmpty(model.User2)) q = q.Where(b => b.SpringBattlePlayers.Any(p => !p.IsSpectator && p.Account.Name == model.User2)); " is 138.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The length of the statement  "            if (!string.IsNullOrEmpty(model.User3)) q = q.Where(b => b.SpringBattlePlayers.Any(p => !p.IsSpectator && p.Account.Name == model.User3)); " is 138.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The length of the statement  "            if (model.PlayersFrom.HasValue) q = q.Where(b => b.SpringBattlePlayers.Count(p => !p.IsSpectator) >= model.PlayersFrom); " is 120.
Long Statement,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Logs,The length of the statement  "                return Content(System.IO.File.ReadAllText(string.Format(GlobalConst.InfologPathFormat' bat.EngineGameID))' "text/plain"); " is 121.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,DeletePost,The length of the statement  "                db.ForumThreadLastReads.DeleteAllOnSubmit(db.ForumThreadLastReads.Where(x => x.ForumThreadID == thread.ForumThreadID).ToList()); " is 128.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "            model.Categories = db.ForumCategories.Where(x => x.ParentForumCategoryID == model.CategoryID).OrderBy(x => x.SortOrder); " is 120.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "                    (db.Accounts.FirstOrDefault(x => x.Name == model.User) ?? db.Accounts.FirstOrDefault(x => x.Name.ToLower().Contains(model.User)))?.AccountID; " is 141.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "            if (filterAccountID.HasValue) threads = threads.Where(x => x.CreatedAccountID == filterAccountID || x.ForumPosts.Any(y => y.AuthorAccountID == filterAccountID)); " is 161.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "                    Global.ForumPostIndexer.FilterPosts(db.ForumPosts' model.Search).Select(x => x.ForumThreadID).Distinct().Take(1000).ToList(); " is 125.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "                threads = threads.Where(x => x.Title.Contains(model.Search) || x.WikiKey.Contains(model.Search) || threadList.Contains(x.ForumThreadID)); " is 137.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The length of the statement  "            model.Threads = threads.OrderByDescending(x => x.ForumCategoryID == model.CategoryID && x.IsPinned).ThenByDescending(x => x.LastPost); " is 134.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,GetPostList,The length of the statement  "            var thread = db.ForumThreads.First(x => x.ForumThreadID == model.ThreadID && (x.RestrictedClanID == null || x.RestrictedClanID == Global.ClanID)); " is 146.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,GetPostList,The length of the statement  "                var filterAccountID = (db.Accounts.FirstOrDefault(x => x.Name == model.User) ?? db.Accounts.FirstOrDefault(x => x.Name.Contains(model.User)))?.AccountID; " is 153.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,The length of the statement  "                        string.Format("You cannot post while banned from forum!\nExpires: {0} UTC\nReason: {1}"' penalty.BanExpires' penalty.Reason)); " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,The length of the statement  "                if (clan != null && Global.ClanID != clan.ClanID) return Content(string.Format("You are not a member of {0}' you cannot post in their clan thread"' clan.ClanName)); " is 164.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,The length of the statement  "                    db.ForumCategories.Where(x => !x.IsLocked && x.ForumMode == ForumMode.General).OrderBy(x => x.SortOrder).First().ForumCategoryID; " is 129.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,The length of the statement  "                                   (category.ForumMode == ForumMode.General || category.ForumMode == ForumMode.Wiki || category.ForumMode == ForumMode.Archive)); " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "            if (threadID == null && missionID == null && resourceID == null && springBattleID == null && clanID == null && planetID == null && " is 130.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "                        string.Format("You cannot post while banned from forum!\nExpires: {0} UTC\nReason: {1}"' penalty.BanExpires' penalty.Reason)); " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "                if (category == null && categoryID != null) category = db.ForumCategories.FirstOrDefault(x => x.ForumCategoryID == categoryID); " is 127.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "                    thread = new ForumThread { Title = bat.FullTitle' CreatedAccountID = Global.AccountID' LastPostAccountID = Global.AccountID }; " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "                if (thread.RestrictedClanID != null && thread.RestrictedClanID != Global.Account.ClanID) return Content("Cannot post in this clan"); " is 132.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The length of the statement  "                if (forumPostID.HasValue) return RedirectToAction("Thread"'"Forum"' new { id = thread.ForumThreadID' postID = forumPostID }); " is 125.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,The length of the statement  "                if (cat.ForumMode == ForumMode.Missions && t.Missions.Any()) return RedirectToAction("Detail"' "Missions"' new { id = t.Missions.First().MissionID }); " is 150.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,The length of the statement  "                if (cat.ForumMode == ForumMode.Maps && t.Resources.Any()) return RedirectToAction("Detail"' "Maps"' new { id = t.Resources.First().ResourceID }); " is 145.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,The length of the statement  "                if (cat.ForumMode == ForumMode.SpringBattles && t.SpringBattles.Any()) return RedirectToAction("Detail"' "Battles"' new { id = t.SpringBattles.First().SpringBattleID }); " is 169.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,The length of the statement  "                if (cat.ForumMode == ForumMode.Clans && t.Clan!=null) return RedirectToAction("Detail"' "Clans"' new { id = t.RestrictedClanID }); " is 130.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Thread,The length of the statement  "                if (cat.ForumMode == ForumMode.Planets && t.Planets.Any()) return RedirectToAction("Planet"' "Planetwars"' new { id = t.Planets.First().PlanetID }); " is 148.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,VotePost,The length of the statement  "            if (myAcc.Level < GlobalConst.MinLevelForForumVote) return Content(string.Format("You cannot vote until you are level {0} or higher"' GlobalConst.MinLevelForForumVote)); " is 169.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,VotePost,The length of the statement  "            if ((Global.Account.ForumTotalUpvotes - Global.Account.ForumTotalDownvotes) < GlobalConst.MinNetKarmaToVote) return Content("Your net karma is too low to vote"); " is 161.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,VotePost,The length of the statement  "            var existingVote = db.AccountForumVotes.SingleOrDefault(x => x.ForumPostID == forumPostID && x.AccountID == Global.AccountID); " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,CancelVotePost,The length of the statement  "            var existingVote = db.AccountForumVotes.SingleOrDefault(x => x.ForumPostID == forumPostID && x.AccountID == Global.AccountID); " is 126.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitSearch,The length of the statement  "            if (string.IsNullOrEmpty(keywords) && string.IsNullOrEmpty(username)) return Content("You must enter keywords and/or username"); " is 128.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitSearch,The length of the statement  "            return View("SearchResults"' new SearchResult { Posts = posts.OrderByDescending(x=>x.Created).Take(100).ToList()' DisplayAsPosts = resultsAsPosts }); " is 149.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,MarkAllAsRead,The length of the statement  "                var lastRead = db.ForumLastReads.FirstOrDefault(x => x.AccountID == Global.AccountID && x.ForumCategoryID == categoryID); " is 121.
Long Statement,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,MarkAllAsRead,The length of the statement  "                    var lastRead = db.ForumLastReads.FirstOrDefault(x => x.AccountID == Global.AccountID && x.ForumCategoryID == categoryID2); " is 122.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,GetTooltip,The length of the statement  "					return PartialView("~/Views/Poll/PollVoteList.cshtml"' db.PollVotes.Where(x => x.OptionID == id).Select(x=>x.Account).OrderByDescending(x=>x.Level).ToList()); " is 158.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,GetTooltip,The length of the statement  "                    return PartialView("~/Views/Shared/DisplayTemplates/FactionTreaty.cshtml"' db.FactionTreaties.Single(x => x.FactionTreatyID == id)); " is 132.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The length of the statement  "			             	Top10Players = RatingSystems.DisableRatingSystems ? Global.LadderCalculator.GetLadder().TopAccounts.Take(10).ToList() : RatingSystems.GetRatingSystem(RatingCategory.MatchMaking).GetTopPlayers(10)' " is 196.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The length of the statement  "						x => x.Created < DateTime.UtcNow && x.HeadlineUntil != null && x.HeadlineUntil > DateTime.UtcNow && !x.ForumThread.ForumThreadLastReads.Any(y=>y.AccountID== Global.AccountID && y.LastRead != null)). " is 198.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The length of the statement  "			if (!Global.IsAccountAuthorized) result.NewThreads = accessibleThreads.OrderByDescending(x => x.LastPost).Take(10).Select(x => new NewThreadEntry() { ForumThread = x }); " is 169.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The length of the statement  "				                     select new NewThreadEntry { ForumThread = t' WasRead = read != null' WasWritten = read != null && read.LastPosted != null }). " is 125.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Logon,The length of the statement  "		    if (!Global.Server.LoginChecker.VerifyIp(Request.UserHostAddress)) return Content("Too many login failures' access blocked"); " is 125.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,GetThreadTooltip,The length of the statement  "                else if ((lastForum = thread.ForumCategory.ForumLastReads.SingleOrDefault(x => x.AccountID == Global.AccountID)) != null) " is 121.
Long Statement,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,GetThreadTooltip,The length of the statement  "				sb.AppendFormat("{0} {1}' {2}"' postTitle' HtmlHelperExtensions.PrintAccount(null' post.Account).ToHtmlString()' post.Created.ToAgoString()); " is 141.
Long Statement,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The length of the statement  "                        x.MapIsFfa == null || x.MapIsAssymetrical == null || x.MapIsSpecial == null || x.AuthorName == null || x.MapHills == null || " is 124.
Long Statement,ZeroKWeb.Controllers,MissionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MissionsController.cs,ChangeFeaturedOrder,The length of the statement  "            if (featuredOrder.HasValue) foreach (var m in db.Missions.Where(x => x.FeaturedOrder != null).OrderBy(x => x.FeaturedOrder)) m.FeaturedOrder = order++; " is 151.
Long Statement,ZeroKWeb.Controllers,MissionsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MissionsController.cs,Index,The length of the statement  "                var mis = FilterMissions(db.Missions' search' featured.Value' offset' sp' coop' adversarial).Take(Global.AjaxScrollCount); " is 122.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The length of the statement  "				Commander comm = db.Commanders.SingleOrDefault(x => x.ProfileNumber == profileNumber && x.AccountID == Global.AccountID); " is 121.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The length of the statement  "							if (slot.MorphLevel < unlock.MorphLevel || !IsUnlockValidForSlot(unlock' slot)) return Content(string.Format("WTF cannot use {0} in slot {1}"' unlock.Name' slot.CommanderSlotID)); " is 179.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The length of the statement  "								if (!validChassis.Contains(comm.Unlock.Code)) return Content(string.Format("{0} cannot be used in commander {1}"' unlock.Name' comm.Unlock.Name)); " is 146.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The length of the statement  "                            CommanderDecorationSlot decSlot = db.CommanderDecorationSlots.SingleOrDefault(x => x.CommanderDecorationSlotID == slotId); " is 122.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,CommanderProfile,The length of the statement  "                                if (!validChassis.Contains(comm.Unlock.Code)) return Content(string.Format("{0} cannot be used in commander {1}"' unlock.Name' comm.Unlock.Name)); " is 146.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,Unlock,The length of the statement  "                        acc.KudosPurchases.Add(new KudosPurchase() {Time = DateTime.UtcNow' Unlock = unlock' Account = acc' KudosValue = unlock.KudosCost??0}); " is 135.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,UnlockList,The length of the statement  "			return View("UnlockList"' new UnlockListResult() { Account = Global.Account' Unlocks = unlocks' FutureUnlocks = future' AlreadyUnlockedCounts = GetUserUnlockCountsListIncludingFree(db) }); " is 188.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetCommanderProfileView,The length of the statement  "                                   Slots = db.CommanderSlots.ToList().Where(x=> x.ChassisID == null || (com !=null && x.ChassisID == com.ChassisUnlockID)).ToList()' " is 129.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUserUnlockCountsDictIncludingFree,The length of the statement  "			Dictionary<ZkData.Unlock' int> unlocks = account.AccountUnlocks.Select(x => new {x.Unlock' x.Count}).ToDictionary(x=> x.Unlock' x=> x.Count); " is 141.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUserUnlockCountsDictIncludingFree,The length of the statement  "			foreach (Unlock unlock in db.Unlocks.Where(x=> x.XpCost <= 0 && x.NeededLevel <= account.Level && x.IsKudosOnly != true)) " is 121.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUserUnlockCountsListIncludingFree,The length of the statement  "			return GetUserUnlockCountsDictIncludingFree(db).Select(x => new UnlockCountEntry() {Unlock = x.Key' Count = x.Value}).ToList(); " is 127.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUnlockLists,The length of the statement  "				new HashSet<int>(db.AccountUnlocks.Where(x => x.AccountID == Global.AccountID && x.Count >= x.Unlock.MaxModuleCount).Select(x => x.UnlockID)); " is 142.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUnlockLists,The length of the statement  "			var anyUnlockSet = new HashSet<int>(db.AccountUnlocks.Where(x => x.AccountID == Global.AccountID && x.Count > 0).Select(x => x.UnlockID)); " is 138.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUnlockLists,The length of the statement  "			var freeUnlocks = db.Unlocks.Where(x => x.XpCost <= 0 && x.NeededLevel <= account.Level && x.IsKudosOnly != true).Select(x=> x.UnlockID); " is 137.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUnlockLists,The length of the statement  "					&& ((x.KudosCost != null && x.KudosCost <= account.Kudos) || ((x.IsKudosOnly != true) && x.XpCost <= account.AvailableXP)) " is 122.
Long Statement,ZeroKWeb.Controllers,MyController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MyController.cs,GetUnlockLists,The length of the statement  "				db.Unlocks.Where(x => !maxedUnlockSet.Contains(x.UnlockID) && !tempList.Contains(x.UnlockID)).OrderBy(x => x.NeededLevel). " is 122.
Long Statement,ZeroKWeb.Controllers,NewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\NewsController.cs,PostNews,The length of the statement  "                    thread.ForumPosts.Add(new ForumPost() { Created = news.Created' Text = postText' AuthorAccountID = news.AuthorAccountID }); " is 123.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BombPlanet,The length of the statement  "            if (Global.Server.GetPlanetBattles(planet).Any(x => x.IsInGame)) return Content("Battle in progress on the planet' cannot bomb planet"); " is 136.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BombPlanet,The length of the statement  "                if (selfbomb) str = "{0} of {1} bombed own planet {3} using {4} bombers against {5} defenses. {6}Ground armies lost {7} influence"; " is 131.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BombPlanet,The length of the statement  "                else str = "{0} of {1} bombed {2} planet {3} using {4} bombers against {5} defenses. {6}Ground armies lost {7} influence"; " is 122.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BuildStructure,The length of the statement  "                if (Global.Server.GetPlanetBattles(planet).Any(x => x.IsInGame)) return Content("Battle in progress on the planet' cannot build structures"); " is 141.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,DestroyStructure,The length of the statement  "                if (Global.Server.GetPlanetBattles(planet).Any(x => x.IsInGame)) return Content("Battle in progress on the planet' cannot destroy structures"); " is 143.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,DestroyStructure,The length of the statement  "                // assumes you can only build level 1 structures! if higher level structures can be built directly' we should check down the upgrade chain too " is 142.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,DestroyStructure,The length of the statement  "                if (!planet.PlanetStructures.Any(x => x.StructureTypeID == structureTypeID)) return Content("Structure or its upgrades not present"); " is 133.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,DestroyStructure,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} has demolished a {1} on {2}."' acc' toDestroy.StructureType' planet)); " is 135.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,GenerateGalaxyImage,The length of the statement  "                            return im.GetResized((int)(background.Width * zoom)' (int)(background.Height * zoom)' InterpolationMode.HighQualityBicubic); " is 124.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SendDropships,The length of the statement  "            if (Global.Server.GetPlanetBattles(planet).Any(x => x.IsInGame)) return Content("Battle in progress on the planet' cannot send ships"); " is 135.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SendDropships,The length of the statement  "                    if (cnt < GlobalConst.DropshipsForFullWarpIPGain) return Content($"You must send at least {GlobalConst.DropshipsForFullWarpIPGain} dropships when warping"); " is 156.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SubmitRenamePlanet,The length of the statement  "                if (planet.Name != newName) db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} renamed planet {1} to {2}"' acc' planet' newName)); " is 144.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,RecallRole,The length of the statement  "                Global.Server.GhostPm(targetAccount.Name' string.Format("You were recalled from the function of {0} by {1}"' role.Name' myAccount.Name)); " is 137.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,AppointRole,The length of the statement  "                        x => x.RoleTypeID == role.RoleTypeID && (role.IsClanOnly ? x.ClanID == myAccount.ClanID : x.FactionID == myAccount.FactionID)).ToList(); " is 136.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,AppointRole,The length of the statement  "                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} was appointed to the {1} role of {2} by {3} - replacing {4}"' " is 126.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,AppointRole,The length of the statement  "                Global.Server.GhostPm(targetAccount.Name' string.Format("You were appointed for the function of {0} by {1}"' role.Name' myAccount.Name)); " is 137.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ConfiscateStructure,The length of the statement  "                //if (Global.Nightwatch.GetPlanetBattles(planet).Any(x => x.IsInGame)) return Content("Battle in progress on the planet' cannot destroy structures"); " is 149.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ConfiscateStructure,The length of the statement  "                if (!planet.PlanetStructures.Any(x => x.StructureTypeID == structureTypeID)) return Content("Structure or its upgrades not present"); " is 133.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SetEnergyPriority,The length of the statement  "            db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} changed energy priority of {1} on {2} to {3}"' acc' structure.StructureType' planet' priority)); " is 161.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SetStructureTarget,The length of the statement  "            db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} of {1} aimed {2} located at {3} to {4} planet {5}"' acc' acc.Faction' structure.StructureType' planet' target.Faction' target)); " is 193.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,SetStructureTarget,The length of the statement  "            if (structure.IsActive && !structure.StructureType.IsSingleUse) return ActivateTargetedStructure(planetID' structureTypeID); " is 124.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ActivateTargetedStructure,The length of the statement  "            PlanetStructure structure = db.PlanetStructures.FirstOrDefault(x => x.PlanetID == planetID && x.StructureTypeID == structureTypeID); " is 132.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ActivateTargetedStructure,The length of the statement  "            PlanetWarsTurnHandler.SetPlanetOwners(new PlanetwarsEventCreator()' db);     //this is needed for the buster to update ownership after planet destruction " is 153.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,CreateLink,The length of the statement  "            PlanetStructure structure = db.PlanetStructures.FirstOrDefault(x => x.PlanetID == planetID && x.StructureTypeID == structureTypeID); " is 132.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,CreateLink,The length of the statement  "            db.Links.InsertOnSubmit(new Link { PlanetID1 = source.PlanetID' PlanetID2 = target.PlanetID' GalaxyID = source.GalaxyID }); " is 123.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,CreateLink,The length of the statement  "            db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("A new link was created between {0} planet {1} and {2} planet {3} by the {4}"' source.Faction' source' target.Faction' target' structure.StructureType)); " is 213.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,FirePlanetBuster,The length of the statement  "            PlanetStructure structure = db.PlanetStructures.FirstOrDefault(x => x.PlanetID == planetID && x.StructureTypeID == structureTypeID); " is 132.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,FirePlanetBuster,The length of the statement  "            var structures = target.PlanetStructures.Where(x => x.StructureType.EffectIsVictoryPlanet != true && x.StructureType.OwnerChangeWinsGame != true).ToList(); " is 155.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,FirePlanetBuster,The length of the statement  "            db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("A {4} fired from {0} {1} has destroyed {2} {3}!"' source.Faction' source' target.Faction' target' structure.StructureType)); " is 185.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ChangePlanetMap,The length of the statement  "            PlanetStructure structure = db.PlanetStructures.FirstOrDefault(x => x.PlanetID == planetID && x.StructureTypeID == structureTypeID); " is 132.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ChangePlanetMap,The length of the statement  "                            x.MapPlanetWarsIcon != null && x.Planets.Where(p => p.GalaxyID == gal.GalaxyID).Count() == 0 && x.MapSupportLevel >= MapSupportLevel.Featured && " is 144.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,ChangePlanetMap,The length of the statement  "                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} {1} has been {6} by {2} from {3} {4}. New team size is {5} vs {5}"' " is 132.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Ladder,The length of the statement  "                    List<PwLadder> items = db.Accounts.Where(x=>x.FactionID !=null && x.LastLogin > minDate && x.SpringBattlePlayers.Any(y=>y.SpringBattle.StartTime > minDate && !y.IsSpectator && y.SpringBattle.Mode == AutohostMode.Planetwars)).ToList().GroupBy(x => x.Faction) " is 257.
Long Statement,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,MatchMakerAttack,The length of the statement  "            if (Global.IsAccountAuthorized && Global.Account.CanPlayerPlanetWars() && planet.CanMatchMakerPlay(Global.Account.Faction)) " is 123.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NewPoll,The length of the statement  "            var p = new Poll() { CreatedAccountID = Global.AccountID' IsHeadline = true' QuestionText = question' IsAnonymous = isAnonymous == true' }; " is 139.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NewPoll,The length of the statement  "            foreach (var a in answers.Split(new char[] { '\n' }' StringSplitOptions.RemoveEmptyEntries)) p.PollOptions.Add(new PollOption() { OptionText = a }); " is 148.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "            foreach (var p in db.Polls.Where(x => x.IsHeadline && x.ExpireBy != null && x.ExpireBy < DateTime.UtcNow && x.RoleTypeID != null).ToList()) " is 139.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                        db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} was removed from the {1} role of {2} by a vote - {3} for' {4} against"' acc' (object)p.Clan ?? p.Faction' p.RoleType' yes' no)); " is 193.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                        Global.Server.GhostPm(acc.Name' string.Format("You were recalled from the function of {0} by a vote"' p.RoleType.Name)); " is 120.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                                var entries = db.AccountRoles.Where(x => x.RoleTypeID == p.RoleTypeID && (p.RoleType.IsClanOnly ? x.ClanID == p.RestrictClanID : x.FactionID == p.RestrictFactionID)).ToList(); " is 175.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                                db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} was elected for the {1} role of {2} by a vote - {3} for' {4} against"' " is 135.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                            else db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("{0} was elected for the {1} role of {2} by a vote' replacing {3} - {4} for' {5} against"' " is 155.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,AutoClosePolls,The length of the statement  "                            Global.Server.GhostPm(acc.Name' string.Format("Congratulations!! You were elected into a function of {0} by a vote"' p.RoleType.Name)); " is 135.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NominateRole,The length of the statement  "            if (Global.Account.Level < GlobalConst.MinLevelForForumVote) return Content($"You need to be level {GlobalConst.MinLevelForForumVote} to vote"); " is 144.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NominateRole,The length of the statement  "            if (!rt.IsClanOnly && GlobalConst.PlanetWarsMode == PlanetWarsModes.AllOffline) return Content("Round over' no nominations can be made"); " is 137.
Long Statement,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,NominateRole,The length of the statement  "            if (rt.RestrictFactionID != null && rt.RestrictFactionID != Global.FactionID) throw new ApplicationException("Invalid faction"); " is 128.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangeAccountDeleted,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("Account {0} {1} deletion status changed by {2}"' acc.Name' Url.Action("Detail"' "Users"' new { id = acc.AccountID }' "http")' Global.Account.Name)); " is 220.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangePermissions,The length of the statement  "            Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("Permissions changed for {0} {1} by {2}"' acc.Name' Url.Action("Detail"' "Users"' new { id = acc.AccountID }' "http")' adminAcc.Name)); " is 206.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangePermissions,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format(" - Moderator status: {0} -> {1}"' curAdmin' zkAdmin)); " is 126.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangePermissions,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format(" - VPN exception: {0} -> {1}"' acc.HasVpnException' vpnException)); " is 139.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangeElo,The length of the statement  "            Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("Fake elo malus changed for {0} {1} by {2}"' acc.Name' Url.Action("Detail"' "Users"' new { id = acc.AccountID }' "http")' adminAcc.Name)); " is 209.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangeElo,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format(" - Team Elo Weight: {0} -> {1}"' acc.EloWeight' eloweight)); " is 132.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,ChangeElo,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format(" - 1v1 Elo Weight: {0} -> {1}"' acc.EloMmWeight' eloweight1v1)); " is 136.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,Punish,The length of the statement  "                Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("New penalty for {0} {1}  "' acc.Name' Url.Action("Detail"' "Users"' new { id = acc.AccountID }' "http"))); " is 178.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,RemovePunishment,The length of the statement  "            Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("{0} removed a punishment given by {1} "' Global.Account.Name' punisherName)); " is 149.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanSubmit,The length of the statement  "            Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("Mass ban executed by {4} for user series {0} ({1} - {2}): {3}"' " is 135.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanByUserIDSubmit,The length of the statement  "            foreach (Account acc in db.Accounts.Where(x => x.AccountUserIDs.Any(y => y.UserID == userID) && (maxAge == null || x.FirstLogin > firstLoginAfter) )) " is 149.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanByUserIDSubmit,The length of the statement  "                long? punishmentUserID = banID ? (uint?)acc.AccountUserIDs.OrderByDescending(x => x.LastLogin).FirstOrDefault().UserID : null; " is 126.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,MassBanByUserIDSubmit,The length of the statement  "            Global.Server.GhostChanSay(GlobalConst.ModeratorChannel' string.Format("Mass ban executed by {2} for userID {0} (max age {1})"' " is 127.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,SetUsername,The length of the statement  "            if (Global.Server.Battles.Any(x => x.Value.GetAllUserNames().Contains(acc.Name))) return Content(acc.Name + " is currently fighting in a battle. Rename action not advised."); " is 174.
Long Statement,ZeroKWeb.Controllers,UsersController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UsersController.cs,SetUsername,The length of the statement  "            Global.Server.KickFromServer(Global.Account.Name' acc.Name' "Your username has been changed from " + acc.Name + " to " + newUsername + ". Please login using your new username."); " is 178.
Long Statement,ZeroKWeb.Controllers,WikiController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\WikiController.cs,Index,The length of the statement  "            var post = db.ForumThreads.FirstOrDefault(x => x.WikiKey == node)?.ForumPosts.OrderBy(x => x.ForumPostID).FirstOrDefault(); " is 123.
Long Statement,ZeroKWeb.Controllers,WikiController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\WikiController.cs,Index,The length of the statement  "                return RedirectToAction("NewPost"'"Forum"'new {categoryID=db.ForumCategories.Where(x=>x.ForumMode == ForumMode.Wiki && !x.IsLocked).OrderBy(x=>x.SortOrder).FirstOrDefault()?.ForumCategoryID' wikiKey = node}); " is 208.
Long Statement,ZeroKWeb.ForumParser,ForumWikiParser,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\ForumWikiParser.cs,EliminateUnclosedTags,The length of the statement  "                if (tag.Mode == OpeningClosingMode.Opening && (openedTagsStack.Count == 0 || !openedTagsStack.Peek().EscapesContent)) openedTagsStack.Push(tag); " is 144.
Long Statement,ZeroKWeb.ForumParser,ParseContext,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\ParseContext.cs,IsWikiKey,The length of the statement  "            if (wikiKeyCache == null) wikiKeyCache = new HashSet<string>(new ZkDataContext().ForumThreads.Where(x => x.WikiKey != null).Select(x => x.WikiKey)); " is 148.
Long Statement,ZeroKWeb.ForumParser,ParserExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\ParserExtensions.cs,IsValidLinkOrRelativeUrl,The length of the statement  "                if (!(parsed.AbsolutePath.EndsWith(".jpg") || parsed.AbsolutePath.EndsWith(".gif") || parsed.AbsolutePath.EndsWith(".png") || parsed.AbsolutePath.EndsWith(".jpeg"))) return false; " is 179.
Long Statement,ZeroKWeb.ForumParser,GifvOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\GifvTag.cs,Translate,The length of the statement  "                        "<div class=\"video-container\"><video preload=\"auto\" height=\"auto\" width=\"auto\" autoplay=\"autoplay\" muted=\"muted\" loop=\"loop\" ><source type=\"video/webm\" src=\"{0}webm\"><source type=\"video/mp4\" src=\"{0}mp4\">Your browser does not support the video tag. Find out if your Browser is supported at www.w3schools.com/tags/tag_video.asp</video></div>"' " is 364.
Long Statement,ZeroKWeb.ForumParser,HeaderTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HeaderTag.cs,AcceptsLetter,The length of the statement  "                    if ((context.PreviousTag == null || context.PreviousTag.Value is SpaceTag || context.PreviousTag.Value is NewLineTag) &&  " is 120.
Long Statement,ZeroKWeb.ForumParser,HeaderTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HeaderTag.cs,AcceptsLetter,The length of the statement  "                     (context.NextChar == null || context.NextChar == ' ' || context.NextChar == '\r' || context.NextChar == '\n')) return true; " is 123.
Long Statement,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,Init,The length of the statement  "                if ((name == "src" || name == "href") && !attr.Value.IsValidLinkOrRelativeUrl(name=="src")) parsed.SetAttributeValue(attr.Name' null); " is 134.
Long Statement,ZeroKWeb.ForumParser,ImgOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\ImgTag.cs,Translate,The length of the statement  "            var url = arguments.Length == 0 ? self.Next.GetOriginalContentUntilNode(closingTag) : arguments.Substring(1' arguments.Length - 1); " is 131.
Long Statement,ZeroKWeb.ForumParser,ImgOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\ImgTag.cs,Translate,The length of the statement  "            if (url.IsValidLinkOrRelativeUrl(true)) context.AppendFormat("<a href=\"{0}\" target=\"_blank\" ><img src=\"{0}\" max-width=\"100%\" height=\"auto\"/></a>"' url); " is 162.
Long Statement,ZeroKWeb.ForumParser,PollOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\PollTag.cs,Translate,The length of the statement  "                if (!string.IsNullOrEmpty(content) && int.TryParse(content' out pollID)) context.Append(context.Html.Action("Index"' "Poll"' new { pollID })); " is 142.
Long Statement,ZeroKWeb.ForumParser,QTagOpen,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\QuoteTag.cs,Translate,The length of the statement  "                "<table border=\"0\" cellpadding=\"6\" cellspacing=\"0\" width=\"100%\"><tbody><tr><td style=\"border: 1px inset;\"><em>quote:<br/>"); " is 134.
Long Statement,ZeroKWeb.ForumParser,SpoilerOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\SpoilerTag.cs,Translate,The length of the statement  "                "<small class=\"js_expand\"><a nicetitle-processed=\"Expand/Collapse\" style=\"display:block\" href=\"#\">[Spoiler]</a></small><div style=\"display: none;\" class=\"collapse\">"); " is 179.
Long Statement,ZeroKWeb.ForumParser,StarTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\StarTag.cs,Translate,The length of the statement  "            while (node != null && !(node.Value is NewLineTag) && !(node.Value is SpaceTag) && node.Value.Mode == OpeningClosingMode.SelfClosed && !(node.Value is TableCellTag)) " is 165.
Long Statement,ZeroKWeb.ForumParser,TableCellTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TableCellTag.cs,Translate,The length of the statement  "            var cellCount = self.AsEnumerable().Skip(1).TakeWhile(x => !(x.Value is NewLineTag)).Count(x => x.Value is TableCellTag); " is 121.
Long Statement,ZeroKWeb.ForumParser,TableCellTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TableCellTag.cs,Translate,The length of the statement  "                    if (cellCount != n.AsEnumerable().Skip(1).TakeWhile(x => !(x.Value is NewLineTag)).Count(x => x.Value is TableCellTag)) break; " is 126.
Long Statement,ZeroKWeb.ForumParser,LiteralTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TerminalTags.cs,Translate,The length of the statement  "                if ((Text.EndsWith(".png") || Text.EndsWith(".gif") || Text.EndsWith(".jpg") || Text.EndsWith(".jpeg")) && Text.IsValidLinkOrRelativeUrl(true)) context.AppendFormat("<a href=\"{0}\" target=\"_blank\" ><img src=\"{0}\" max-width=\"100%\" height=\"auto\"/></a>"' Text); " is 267.
Long Statement,ZeroKWeb.ForumParser,LiteralTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TerminalTags.cs,Translate,The length of the statement  "                        context.AppendFormat("<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/{0}\" frameborder=\"0\" hd=\"1\" allowfullscreen=\"1\"></iframe>"' m.Groups[1].Value); " is 181.
Long Statement,ZeroKWeb.ForumParser,LiteralTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TerminalTags.cs,Translate,The length of the statement  "                        context.AppendFormat("<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/{0}\" frameborder=\"0\" hd=\"1\" allowfullscreen=\"1\"></iframe>"' m.Groups[1].Value); " is 181.
Long Statement,ZeroKWeb.ForumParser,UnderscoreTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\UnderscoreTag.cs,Translate,The length of the statement  "            while (node != null && !(node.Value is NewLineTag) && node.Value.Mode == OpeningClosingMode.SelfClosed && !(node.Value is TableCellTag)) " is 136.
Long Statement,ZeroKWeb.ForumParser,YouTubeOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\YouTubeTag.cs,Translate,The length of the statement  "                    context.AppendFormat("<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/{0}\" frameborder=\"0\" hd=\"1\" allowfullscreen=\"1\"></iframe>"' match.Groups[1].Value); " is 185.
Long Statement,ZeroKWeb.ForumParser,YouTubeOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\YouTubeTag.cs,Translate,The length of the statement  "                    context.AppendFormat("<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/{0}\" frameborder=\"0\" hd=\"1\" allowfullscreen=\"1\"></iframe>"' match.Groups[1].Value); " is 185.
Long Statement,ZeroKWeb.ForumParser,VidOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\VidTag.cs,Translate,The length of the statement  "                var match = Regex.Match(content' @"(https?\:\/\/)((\w|-|_|\.|\/)+\.)(mp4|webm|ogg|ogv|3gp|gifv)"' RegexOptions.IgnoreCase); " is 123.
Long Statement,ZeroKWeb.ForumParser,VidOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\VidTag.cs,Translate,The length of the statement  "                        "<div class=\"video-container\"><video preload=\"auto\" height=\"auto\" width=\"auto\" controls=\"controls\"><source type=\"video/webm\" src=\"{0}webm\"><source type=\"video/mp4\" src=\"{0}mp4\"><source type=\"video/ogg\" src=\"{0}ogg\"><source type=\"video/ogv\" src=\"{0}ogv\"><source type=\"video/3gp\" src=\"{0}3gp\">Your browser does not support the video tag. Find out if your Browser is supported at www.w3schools.com/tags/tag_video.asp</video></div>"' " is 459.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,BoolSelect,The length of the statement  "            if (anyItem != null) sb.AppendFormat("<option {1}>{0}</option>"' helper.Encode(anyItem)' selected == null ? "selected" : ""); " is 125.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,GetFactionItems,The length of the statement  "            return ret.Select(x => new SelectListItem { Text = x.Name' Value = x.FactionID.ToString()' Selected = x.FactionID == factionID }); " is 130.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,IncludeWiki,The length of the statement  "            var post = new ZkDataContext().ForumThreads.FirstOrDefault(x => x.WikiKey == node)?.ForumPosts.OrderBy(x => x.ForumPostID).FirstOrDefault(); " is 140.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Print,The length of the statement  "            int page = post != null ? ZeroKWeb.Controllers.ForumController.GetPostPage(post) : (thread.PostCount-1)/GlobalConst.ForumPostsPerPage; " is 134.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Print,The length of the statement  "                    if (lastRead != null && lastRead.LastPosted != null) format = "<span>{0}<img src='/img/mail/mail-new.png' height='15' /><b>{1}</b></a></span>"; " is 143.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintAccount,The length of the statement  "                else if (account.Faction != null) clanStr = string.Format("<img src='{0}' width='16'/>"' account.Faction.GetImageUrl()); " is 120.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintAccount,The length of the statement  "                            "<img src='/img/flags/{0}.png' class='flag' height='11' width='16' alt='{0}'/><img src='/img/ranks/{1}.png'  class='icon16' alt='rank' />{5}{6}<a href='/Users/Detail/{2}' style='color:{3}' nicetitle='$user${2}'>{4}</a>"' " is 220.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintSeconds,The length of the statement  "            if (seconds != null) return new MvcHtmlString($"<span nicetitle=\"{seconds}\">{TimeSpan.FromSeconds(seconds.Value).ToNiceString()}</span>"); " is 140.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBattle,The length of the statement  "            return PrintBattle(helper' battlePlayer.SpringBattle' battlePlayer.IsSpectator ? null : (bool?)battlePlayer.IsInVictoryTeam); " is 125.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBattle,The length of the statement  "            if (battle.BattleType == "Multiplayer") icon += " <img src='/img/battles/multiplayer.png' alt='Multiplayer' class='vcenter' />"; " is 128.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBattle,The length of the statement  "            else if (battle.BattleType == "Singleplayer") icon += " <img src='/img/battles/singleplayer.png' alt='Singleplayer' class='vcenter' />"; " is 136.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBombers,The length of the statement  "            return new MvcHtmlString(string.Format("<span>{0}<img src='{1}' class='icon20'/></span>"' count ?? 0' GlobalConst.BomberIcon)); " is 127.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBombers,The length of the statement  "                        string.Format("<span nicetitle='Bombers available to you/owned by faction'><img src='{0}' class='icon20'/>{1} / {2}</span>"' " is 124.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintBadges,The length of the statement  "            return new MvcHtmlString(string.Join("\n"' badges.Select(x=>$"<img src='/img/badges/{x}.png' nicetitle='{x.Description()}' {(maxWidth != null ? $"style='width:{maxWidth}px;'":"")}/><br/>"))); " is 191.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintDropships,The length of the statement  "                new MvcHtmlString(string.Format("<span>{0}<img src='{1}' class='icon20'/></span>"' Math.Floor(count ?? 0)' faction.GetShipImageUrl())); " is 135.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintEnergy,The length of the statement  "            return new MvcHtmlString(string.Format("<span>{0}<img src='{1}' class='icon20'/></span>"' Math.Floor(count ?? 0)' GlobalConst.EnergyIcon)); " is 139.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintFaction,The length of the statement  "                                "<a href='{3}' nicetitle='$faction${4}'><span style='color:{0}'><img src='{1}'  style='width:16px;height:16px'/>{2}</span></a>"' " is 128.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintInfluence,The length of the statement  "            var formattedString = string.Format("<span style='color:{0}'>{1:0.#}%</span>"' Faction.FactionColor(fac' Global.FactionID)' influence); " is 135.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintInfluence,The length of the statement  "            var formattedString = string.Format(formatString' faction.Color' influence + shadowInfluence' influence' shadowInfluence); " is 122.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintMap,The length of the statement  "            return new MvcHtmlString(string.Format("<a href='{0}' title='$map${1}'>{1}</a>"' url.Action("DetailName"' "Maps"' new { name })' name)); " is 136.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintMetal,The length of the statement  "                            "<span style='color:#00FFFF' nicetitle='Metal available to you/owned by faction'><img src='{0}' width='20' height='20'/>{1} / {2}</span>"' " is 138.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPlanet,The length of the statement  "                new MvcHtmlString(string.Format("<a href='{0}' title='$planet${4}' style='{5}'><img src='/img/planets/{1}' width='{2}'>{3}</a>"' " is 128.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintStructureType,The length of the statement  "            if (stype != null) return new MvcHtmlString(string.Format("<span nicetitle='$structuretype${0}'>{1}</span>"' stype.StructureTypeID' stype.Name)); " is 145.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintWarps,The length of the statement  "            return new MvcHtmlString(string.Format("<span>{0}<img src='{1}' class='icon20'/></span>"' count ?? 0' GlobalConst.WarpIcon)); " is 125.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPostRating,The length of the statement  "            bool noLink = (Global.Account == null || Global.AccountID == post.AuthorAccountID || Global.Account.Level < GlobalConst.MinLevelForForumVote || Global.Account.VotesAvailable <= 0 || blockPost); " is 193.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPostRating,The length of the statement  "            return new MvcHtmlString(string.Format("<input type='' name='upvote' value='{3}{0}{4}' title='Upvote'> / <input type='submit' name='downvote' value='{5}{1}{6}'> {2}"' " is 166.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPostRating,The length of the statement  "                !noLink? string.Format("a href='{0}'"' url.Action("VotePost"' "Forum"' new { forumPostID = post.ForumPostID' delta = 1 })) : "span"' " is 132.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPostRating,The length of the statement  "                !noLink? string.Format("a href='{0}'"' url.Action("VotePost"' "Forum"' new { forumPostID = post.ForumPostID' delta = -1 })) : "span"' " is 133.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPostRating,The length of the statement  "                    previousVote != null ? string.Format("(<a href='{0}'>cancel</a>)"' url.Action("CancelVotePost"' "Forum"' new {forumPostID = post.ForumPostID})) : "" " is 148.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintMediaWikiEdit,The length of the statement  "            return new MvcHtmlString(string.Format("<a href=\"//zero-k.info/mediawiki/index.php?title={0}\">{0}</a> by {1} <small>{2}</small>"' " is 131.
Long Statement,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Select,The length of the statement  "            if (anyItem != null) sb.AppendFormat("<option {1}>{0}</option>"' helper.Encode(anyItem)' selected == null ? "selected" : ""); " is 125.
Complex Conditional,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The conditional expression  "bestOld != null && bestOld.LinkCount > 0 && (resource.MissionID != null ||                  (resource.LastLinkCheck != null && DateTime.UtcNow.Subtract(resource.LastLinkCheck.Value).TotalHours < 2))"  is complex.
Complex Conditional,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Detail,The conditional expression  "Global.AccountID != 0 && !showWinners && bat.SpringBattlePlayers.Any(y => y.AccountID == Global.AccountID && !y.IsSpectator)"  is complex.
Complex Conditional,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The conditional expression  "threadID == null && missionID == null && resourceID == null && springBattleID == null && clanID == null && planetID == null &&                  forumPostID == null && string.IsNullOrWhiteSpace(title)"  is complex.
Complex Conditional,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitPost,The conditional expression  "lastPost == null || lastPost.AuthorAccountID != Global.AccountID || lastPost.Text != text ||                      (!string.IsNullOrEmpty(title) && title != currentTitle)"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,ParserExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\ParserExtensions.cs,IsValidLinkOrRelativeUrl,The conditional expression  "!(parsed.AbsolutePath.EndsWith(".jpg") || parsed.AbsolutePath.EndsWith(".gif") || parsed.AbsolutePath.EndsWith(".png") || parsed.AbsolutePath.EndsWith(".jpeg"))"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,HeaderTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HeaderTag.cs,AcceptsLetter,The conditional expression  "(context.PreviousTag == null || context.PreviousTag.Value is SpaceTag || context.PreviousTag.Value is NewLineTag) &&                        (context.NextChar == null || context.NextChar == ' ' || context.NextChar == '\r' || context.NextChar == '\n')"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,HrLineTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HrLineTag.cs,AcceptsLetter,The conditional expression  "ret == true && !(context.NextChar ==null|| context.NextChar =='\r' || context.NextChar=='\n')"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,StarTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\StarTag.cs,ListPrefixLevel,The conditional expression  "(el == null || el is NewLineTag) && prefix != null && star.Next?.Value is SpaceTag"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,StarTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\StarTag.cs,Translate,The conditional expression  "node != null && !(node.Value is NewLineTag) && !(node.Value is SpaceTag) && node.Value.Mode == OpeningClosingMode.SelfClosed && !(node.Value is TableCellTag)"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,LiteralTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TerminalTags.cs,AcceptsLetter,The conditional expression  "letter == ' ' || letter == '\t' || letter == '\r' || letter == '\n'"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,LiteralTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\TerminalTags.cs,Translate,The conditional expression  "(Text.EndsWith(".png") || Text.EndsWith(".gif") || Text.EndsWith(".jpg") || Text.EndsWith(".jpeg")) && Text.IsValidLinkOrRelativeUrl(true)"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,UnderscoreTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\UnderscoreTag.cs,Translate,The conditional expression  "node != null && !(node.Value is NewLineTag) && node.Value.Mode == OpeningClosingMode.SelfClosed && !(node.Value is TableCellTag)"  is complex.
Complex Conditional,ZeroKWeb.ForumParser,UnderscoreTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\UnderscoreTag.cs,AcceptsLetter,The conditional expression  "context.PreviousTag?.Value is SpaceTag || context.PreviousTag?.Value is NewLineTag || context.NextChar == ' ' ||                      context.NextChar == '\r' || context.NextChar == '\n'"  is complex.
Empty Catch Block,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,ClearRequestDbContexts,The method has an empty catch block.
Empty Catch Block,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The method has an empty catch block.
Magic Number,ZeroKWeb,DosProtector,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\DosProtector.cs,CanQuery,The following statement contains a magic number: var limit = now.AddSeconds(-5);
Magic Number,ZeroKWeb,DosProtector,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\DosProtector.cs,CanQuery,The following statement contains a magic number: if (parallel > 15) return false;
Magic Number,ZeroKWeb,DosProtector,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\DosProtector.cs,CanQuery,The following statement contains a magic number: if (totalTime > 11) return false;
Magic Number,ZeroKWeb,DosProtector,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\DosProtector.cs,RequestEnd,The following statement contains a magic number: if (requestID.HasValue)              {                  DosEntry entry;                  if (requests.TryGetValue(requestID.Value' out entry)) entry.RequestEnd = DateTime.UtcNow;                  var limit = DateTime.UtcNow.AddSeconds(-5);                  var toDel = requests.Values.Where(x => (x != null) && (x.RequestEnd < limit)).ToList();                    DosEntry dummy;                  foreach (var td in toDel) requests.TryRemove(td.RequestID' out dummy);              }
Magic Number,ZeroKWeb,ForumPostIndexer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ForumPostIndexer.cs,IndexPost,The following statement contains a magic number: var words = parser.Parse(post.Text)                      .Where(x => x is LiteralTag && x.Text?.Length < 100)                      .Select(x => SanitizeWord(x.Text))                      .Where(x => !string.IsNullOrEmpty(x))                      .ToList();
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,LadderCalculator,The following statement contains a magic number: timer = new Timer((t) => { ladderModel = ComputeLadder(); }' this' LadderRefreshMinutes * 60 * 1000' LadderRefreshMinutes * 60 * 1000);
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,LadderCalculator,The following statement contains a magic number: timer = new Timer((t) => { ladderModel = ComputeLadder(); }' this' LadderRefreshMinutes * 60 * 1000' LadderRefreshMinutes * 60 * 1000);
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,LadderCalculator,The following statement contains a magic number: timer = new Timer((t) => { ladderModel = ComputeLadder(); }' this' LadderRefreshMinutes * 60 * 1000' LadderRefreshMinutes * 60 * 1000);
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,LadderCalculator,The following statement contains a magic number: timer = new Timer((t) => { ladderModel = ComputeLadder(); }' this' LadderRefreshMinutes * 60 * 1000' LadderRefreshMinutes * 60 * 1000);
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The following statement contains a magic number: lock (computeLadderLock)              {                  try                  {                      var db = new ZkDataContext();                      db.Database.CommandTimeout = 600;                        var awardItems = CalculateAwards(db);                        var ladderTimeout = DateTime.UtcNow.AddDays(-GlobalConst.LadderActivityDays);                        // set unused accounts weight to 1                      db.Accounts.Where(x => !x.SpringBattlePlayers.Any(                                      y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                          .Update(acc => new Account() { EloWeight = 1 });                        db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 });                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && !x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x =>x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days-7)/(GlobalConst.LadderActivityDays-7)).Clamp(0'1);                          entry.Account.EloWeight = Math.Min(entry.Account.EloWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1)*decayRatio));                      }                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloMmWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x => x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days - 7) / (GlobalConst.LadderActivityDays - 7)).Clamp(0' 1);                          entry.Account.EloMmWeight = Math.Min(entry.Account.EloMmWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1) * decayRatio));                      }                      db.SaveChanges();                          // recalc competitive ranking                      var cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations())                      {                          cnt++;                          a.CompetitiveRank = cnt;                      }                      db.SaveChanges();                        cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations())                      {                          cnt++;                          a.CasualRank = cnt;                      }                      db.SaveChanges();                        var topAccounts =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        var topCasual =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        return new LadderModel { AwardItems = awardItems' TopAccounts = topAccounts' TopCasual = topCasual };                  }                  catch (Exception ex)                  {                      Trace.TraceError("Error computing ladder: {0}"' ex);                      return new LadderModel();                  }              }
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The following statement contains a magic number: lock (computeLadderLock)              {                  try                  {                      var db = new ZkDataContext();                      db.Database.CommandTimeout = 600;                        var awardItems = CalculateAwards(db);                        var ladderTimeout = DateTime.UtcNow.AddDays(-GlobalConst.LadderActivityDays);                        // set unused accounts weight to 1                      db.Accounts.Where(x => !x.SpringBattlePlayers.Any(                                      y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                          .Update(acc => new Account() { EloWeight = 1 });                        db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 });                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && !x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x =>x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days-7)/(GlobalConst.LadderActivityDays-7)).Clamp(0'1);                          entry.Account.EloWeight = Math.Min(entry.Account.EloWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1)*decayRatio));                      }                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloMmWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x => x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days - 7) / (GlobalConst.LadderActivityDays - 7)).Clamp(0' 1);                          entry.Account.EloMmWeight = Math.Min(entry.Account.EloMmWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1) * decayRatio));                      }                      db.SaveChanges();                          // recalc competitive ranking                      var cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations())                      {                          cnt++;                          a.CompetitiveRank = cnt;                      }                      db.SaveChanges();                        cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations())                      {                          cnt++;                          a.CasualRank = cnt;                      }                      db.SaveChanges();                        var topAccounts =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        var topCasual =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        return new LadderModel { AwardItems = awardItems' TopAccounts = topAccounts' TopCasual = topCasual };                  }                  catch (Exception ex)                  {                      Trace.TraceError("Error computing ladder: {0}"' ex);                      return new LadderModel();                  }              }
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The following statement contains a magic number: lock (computeLadderLock)              {                  try                  {                      var db = new ZkDataContext();                      db.Database.CommandTimeout = 600;                        var awardItems = CalculateAwards(db);                        var ladderTimeout = DateTime.UtcNow.AddDays(-GlobalConst.LadderActivityDays);                        // set unused accounts weight to 1                      db.Accounts.Where(x => !x.SpringBattlePlayers.Any(                                      y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                          .Update(acc => new Account() { EloWeight = 1 });                        db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 });                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && !x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x =>x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days-7)/(GlobalConst.LadderActivityDays-7)).Clamp(0'1);                          entry.Account.EloWeight = Math.Min(entry.Account.EloWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1)*decayRatio));                      }                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloMmWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x => x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days - 7) / (GlobalConst.LadderActivityDays - 7)).Clamp(0' 1);                          entry.Account.EloMmWeight = Math.Min(entry.Account.EloMmWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1) * decayRatio));                      }                      db.SaveChanges();                          // recalc competitive ranking                      var cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations())                      {                          cnt++;                          a.CompetitiveRank = cnt;                      }                      db.SaveChanges();                        cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations())                      {                          cnt++;                          a.CasualRank = cnt;                      }                      db.SaveChanges();                        var topAccounts =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        var topCasual =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        return new LadderModel { AwardItems = awardItems' TopAccounts = topAccounts' TopCasual = topCasual };                  }                  catch (Exception ex)                  {                      Trace.TraceError("Error computing ladder: {0}"' ex);                      return new LadderModel();                  }              }
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The following statement contains a magic number: lock (computeLadderLock)              {                  try                  {                      var db = new ZkDataContext();                      db.Database.CommandTimeout = 600;                        var awardItems = CalculateAwards(db);                        var ladderTimeout = DateTime.UtcNow.AddDays(-GlobalConst.LadderActivityDays);                        // set unused accounts weight to 1                      db.Accounts.Where(x => !x.SpringBattlePlayers.Any(                                      y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                          .Update(acc => new Account() { EloWeight = 1 });                        db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 });                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && !x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x =>x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days-7)/(GlobalConst.LadderActivityDays-7)).Clamp(0'1);                          entry.Account.EloWeight = Math.Min(entry.Account.EloWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1)*decayRatio));                      }                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloMmWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x => x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days - 7) / (GlobalConst.LadderActivityDays - 7)).Clamp(0' 1);                          entry.Account.EloMmWeight = Math.Min(entry.Account.EloMmWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1) * decayRatio));                      }                      db.SaveChanges();                          // recalc competitive ranking                      var cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations())                      {                          cnt++;                          a.CompetitiveRank = cnt;                      }                      db.SaveChanges();                        cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations())                      {                          cnt++;                          a.CasualRank = cnt;                      }                      db.SaveChanges();                        var topAccounts =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        var topCasual =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        return new LadderModel { AwardItems = awardItems' TopAccounts = topAccounts' TopCasual = topCasual };                  }                  catch (Exception ex)                  {                      Trace.TraceError("Error computing ladder: {0}"' ex);                      return new LadderModel();                  }              }
Magic Number,ZeroKWeb,LadderCalculator,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\LadderCalculator.cs,ComputeLadder,The following statement contains a magic number: lock (computeLadderLock)              {                  try                  {                      var db = new ZkDataContext();                      db.Database.CommandTimeout = 600;                        var awardItems = CalculateAwards(db);                        var ladderTimeout = DateTime.UtcNow.AddDays(-GlobalConst.LadderActivityDays);                        // set unused accounts weight to 1                      db.Accounts.Where(x => !x.SpringBattlePlayers.Any(                                      y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                          .Update(acc => new Account() { EloWeight = 1 });                        db.Accounts.Where(x => !x.SpringBattlePlayers.Any(y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator)).Update(acc => new Account() { EloMmWeight = 1 });                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && !x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x =>x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days-7)/(GlobalConst.LadderActivityDays-7)).Clamp(0'1);                          entry.Account.EloWeight = Math.Min(entry.Account.EloWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1)*decayRatio));                      }                        db.SaveChanges();                          foreach (                          var entry in                          db.Accounts.Where(x => x.EloMmWeight > 1)                              .Select(                                  acc =>                                      new                                      {                                          Account = acc'                                          LastGame =                                          acc.SpringBattlePlayers.Where(x => !x.IsSpectator && x.SpringBattle.IsMatchMaker)                                              .OrderByDescending(x => x.SpringBattleID)                                              .Select(x => x.SpringBattle.StartTime).FirstOrDefault()                                      }))                      {                          var days = DateTime.UtcNow.Subtract(entry.LastGame).TotalDays;                          var decayRatio = ((days - 7) / (GlobalConst.LadderActivityDays - 7)).Clamp(0' 1);                          entry.Account.EloMmWeight = Math.Min(entry.Account.EloMmWeight'                              Math.Max(1' GlobalConst.EloWeightMax - (GlobalConst.EloWeightMax - 1) * decayRatio));                      }                      db.SaveChanges();                          // recalc competitive ranking                      var cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations())                      {                          cnt++;                          a.CompetitiveRank = cnt;                      }                      db.SaveChanges();                        cnt = 0;                      foreach (var a in                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations())                      {                          cnt++;                          a.CasualRank = cnt;                      }                      db.SaveChanges();                        var topAccounts =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveMmElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        var topCasual =                          db.Accounts.Where(                                  x =>                                      x.SpringBattlePlayers.Any(                                          y => (y.SpringBattle.StartTime > ladderTimeout) && !y.SpringBattle.IsMatchMaker && !y.IsSpectator))                              .Include(x => x.Clan)                              .Include(x => x.Faction)                              .OrderByDescending(x => x.EffectiveElo)                              .WithTranslations()                              .Take(GlobalConst.LadderSize)                              .ToList();                        return new LadderModel { AwardItems = awardItems' TopAccounts = topAccounts' TopCasual = topCasual };                  }                  catch (Exception ex)                  {                      Trace.TraceError("Error computing ladder: {0}"' ex);                      return new LadderModel();                  }              }
Magic Number,ZeroKWeb,UniGrid<T>,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\UniGrid.cs,UniGrid,The following statement contains a magic number: PageSize = 30;
Magic Number,ZeroKWeb,UniGrid<T>,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\UniGrid.cs,PrepareRenderData,The following statement contains a magic number: foreach (var c in Cols.Where(x => x.Description != null))              {                  c.ID = new string(c.Description.Where(x => (x >= 'a' && x <= 'z') || (x >= 'A' && x <= 'Z')).Take(3).ToArray());              }
Magic Number,ZeroKWeb,UniGrid<T>,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\UniGrid\UniGrid.cs,RenderTableRows,The following statement contains a magic number: foreach (T row in GetCurrentPageData())              {                  cnt++;                  sb.AppendFormat("<tr class=\"{0}\">"' cnt % 2 == 0 ? "even" : "odd");                  foreach (var columnDef in Cols.Where(x => x.AllowWeb))                  {                      if (columnDef.KeySelector != null)                      {                          var selVal = columnDef.KeySelector(row).ToString();                          bool isSelected = SelectedKeys.Contains(selVal);                          sb.AppendFormat("<td><input type='checkbox' value='{2}' {1} class='js-grid-selector' onclick=\"gridSelect('{0}''$(this))\" />{3}</td>"' ID' isSelected ? "checked='checked'" : ""' selVal' columnDef.WebFormat(row));                      }                      else                      {                          sb.AppendFormat("<td>{0}</td>"' columnDef.WebFormat(row));                      }                  }                  sb.AppendLine("</tr>");              }
Magic Number,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,FindResourceData,The following statement contains a magic number: return ret.OrderByDescending(x => x.MapSupportLevel).Take(400).ToList().Select(PlasmaServer.ToResourceData).ToList();
Magic Number,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,SubmitMissionScore,The following statement contains a magic number: using (var db = new ZkDataContext())              {                  var acc = AuthServiceClient.VerifyAccountHashed(login' passwordHash);                  if (acc == null)                  {                      Trace.TraceWarning("Invalid login attempt for {0}" ' login);                      System.Threading.Thread.Sleep(new Random().Next(2000));                  }                    acc.Xp += GlobalConst.XpForMissionOrBots;                    var mission = db.Missions.Single(x => x.Name == missionName);                    if (score != 0 || mission.RequiredForMultiplayer)                  {                      var scoreEntry = mission.MissionScores.FirstOrDefault(x => x.AccountID == acc.AccountID);                      if (scoreEntry == null)                      {                          scoreEntry = new MissionScore() { MissionID = mission.MissionID' AccountID = acc.AccountID' Score = int.MinValue };                          mission.MissionScores.Add(scoreEntry);                      }                        if (score > scoreEntry.Score)                      {                          var max = mission.MissionScores.Max(x => (int?)x.Score);                          if (max == null || max <= score)                          {                              mission.TopScoreLine = login;                              acc.Xp += 150; // 150 for getting top score                          }                          scoreEntry.Score = score;                          scoreEntry.Time = DateTime.UtcNow;                          scoreEntry.MissionRevision = mission.Revision;                          scoreEntry.GameSeconds = gameSeconds;                      }                  }                    acc.CheckLevelUp();                  db.SaveChanges();                    if (!acc.CanPlayMultiplayer)                  {                      if (                          db.Missions.Where(x => x.RequiredForMultiplayer)                              .All(y => y.MissionScores.Any(z => z.AccountID == acc.AccountID)))                      {                          acc.CanPlayMultiplayer = true;                          db.SaveChanges();                          Global.Server.PublishAccountUpdate(acc);                          Global.Server.GhostPm(acc.Name' "Congratulations! You are now authorized to play MultiPlayer games!");                      }                  }              }
Magic Number,ZeroKWeb,ContentService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ContentService.svc.cs,SubmitMissionScore,The following statement contains a magic number: using (var db = new ZkDataContext())              {                  var acc = AuthServiceClient.VerifyAccountHashed(login' passwordHash);                  if (acc == null)                  {                      Trace.TraceWarning("Invalid login attempt for {0}" ' login);                      System.Threading.Thread.Sleep(new Random().Next(2000));                  }                    acc.Xp += GlobalConst.XpForMissionOrBots;                    var mission = db.Missions.Single(x => x.Name == missionName);                    if (score != 0 || mission.RequiredForMultiplayer)                  {                      var scoreEntry = mission.MissionScores.FirstOrDefault(x => x.AccountID == acc.AccountID);                      if (scoreEntry == null)                      {                          scoreEntry = new MissionScore() { MissionID = mission.MissionID' AccountID = acc.AccountID' Score = int.MinValue };                          mission.MissionScores.Add(scoreEntry);                      }                        if (score > scoreEntry.Score)                      {                          var max = mission.MissionScores.Max(x => (int?)x.Score);                          if (max == null || max <= score)                          {                              mission.TopScoreLine = login;                              acc.Xp += 150; // 150 for getting top score                          }                          scoreEntry.Score = score;                          scoreEntry.Time = DateTime.UtcNow;                          scoreEntry.MissionRevision = mission.Revision;                          scoreEntry.GameSeconds = gameSeconds;                      }                  }                    acc.CheckLevelUp();                  db.SaveChanges();                    if (!acc.CanPlayMultiplayer)                  {                      if (                          db.Missions.Where(x => x.RequiredForMultiplayer)                              .All(y => y.MissionScores.Any(z => z.AccountID == acc.AccountID)))                      {                          acc.CanPlayMultiplayer = true;                          db.SaveChanges();                          Global.Server.PublishAccountUpdate(acc);                          Global.Server.GhostPm(acc.Name' "Congratulations! You are now authorized to play MultiPlayer games!");                      }                  }              }
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,GetRandom,The following statement contains a magic number: var spotlights = MemCache.GetCached("spotlight"' LoadSpotlights' 60*60*24);
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,GetRandom,The following statement contains a magic number: var spotlights = MemCache.GetCached("spotlight"' LoadSpotlights' 60*60*24);
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,GetRandom,The following statement contains a magic number: var spotlights = MemCache.GetCached("spotlight"' LoadSpotlights' 60*60*24);
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,LoadSpotlights,The following statement contains a magic number: try  	        {  	            var unitData = new WebClient().DownloadString("http://manual.zero-k.info/featured.txt");  	            s.AddRange(from line in unitData.Lines()  	                select line.Split('\t')  	                into parts  	                where parts.Length >= 4  	                select new UnitSpotlight() { Unitname = parts[0]' Name = parts[1]' Title = parts[2]' Description = parts[3] });  	        }  	        catch (Exception ex)  	        {  	            Trace.TraceError("Error generating unit spotlight: {0}"' ex);  	        }
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,LoadSpotlights,The following statement contains a magic number: try  	        {  	            var unitData = new WebClient().DownloadString("http://manual.zero-k.info/featured.txt");  	            s.AddRange(from line in unitData.Lines()  	                select line.Split('\t')  	                into parts  	                where parts.Length >= 4  	                select new UnitSpotlight() { Unitname = parts[0]' Name = parts[1]' Title = parts[2]' Description = parts[3] });  	        }  	        catch (Exception ex)  	        {  	            Trace.TraceError("Error generating unit spotlight: {0}"' ex);  	        }
Magic Number,ZeroKWeb,SpotlightHandler,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\SpotlightHandler.cs,LoadSpotlights,The following statement contains a magic number: try  	        {  	            var unitData = new WebClient().DownloadString("http://manual.zero-k.info/featured.txt");  	            s.AddRange(from line in unitData.Lines()  	                select line.Split('\t')  	                into parts  	                where parts.Length >= 4  	                select new UnitSpotlight() { Unitname = parts[0]' Name = parts[1]' Title = parts[2]' Description = parts[3] });  	        }  	        catch (Exception ex)  	        {  	            Trace.TraceError("Error generating unit spotlight: {0}"' ex);  	        }
Magic Number,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,MvcApplication,The following statement contains a magic number: PostMapRequestHandler += (sender' args) =>              {                  if (protector.CanQuery(Request))                  {                      protector.RequestStart(Request);                  }                  else                  {                      //Response.StatusCode = 403;                      //Response.SubStatusCode = 502;                      Response.StatusCode = 429;                      Response.StatusDescription = "Too many requests from your IP address' please try again later";                      Response.End();                  }              };
Magic Number,ZeroKWeb,MvcApplication,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Global.asax.cs,MvcApplication_PostAuthenticateRequest,The following statement contains a magic number: if (DateTime.UtcNow.Subtract(lastPollCheck).TotalMinutes > 60)              {                  PollController.AutoClosePolls(); // this is silly here' should be a seaprate timer/thread                  lastPollCheck = DateTime.UtcNow;              }
Magic Number,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinksAndTorrent,The following statement contains a magic number: if (bestOld != null && bestOld.LinkCount > 0 && (resource.MissionID != null ||                  (resource.LastLinkCheck != null && DateTime.UtcNow.Subtract(resource.LastLinkCheck.Value).TotalHours < 2)))              {                  // use cached values for missions or resources checked less than 1 day ago                  links = PlasmaServer.GetLinkArray(bestOld);                  torrent = PlasmaServer.GetTorrentData(bestOld);                  torrentFileName = PlasmaServer.GetTorrentFileName(bestOld);                  if (links.Count > 0) db.Database.ExecuteSqlCommand("UPDATE Resources SET DownloadCount = DownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID);                  else db.Database.ExecuteSqlCommand("UPDATE Resources SET NoLinkDownloadCount = NoLinkDownloadCount+1 WHERE ResourceID={0}"' resource.ResourceID);                    return true;              }
Magic Number,ZeroKWeb,ResourceLinkProvider,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\ResourceLinkProvider.cs,GetLinkLength,The following statement contains a magic number: try              {                  var wr = (HttpWebRequest)WebRequest.Create(url);                  wr.Timeout = 2000;                  wr.Method = "HEAD";                  var res = wr.GetResponse();                  redirectUrl = res.ResponseUri.ToString();                  var cl = res.ContentLength;                  wr.Abort();                  return cl;              }              catch              {                  return 0;              }
Magic Number,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,DeleteMission,The following statement contains a magic number: if (prev != null)  			{  				var acc = AuthServiceClient.VerifyAccountPlain(author' password);  				if (acc == null)  				{  					Trace.TraceWarning("Invalid login attempt for {0}"' author);  					System.Threading.Thread.Sleep(new Random().Next(2000));  					throw new ApplicationException("Cannot verify user account");  				}  				if (acc.AccountID != prev.AccountID && acc.AdminLevel < AdminLevel.Moderator) throw new ApplicationException("You cannot delete a mission from an other user");  				prev.IsDeleted = true;  				db.SaveChanges();  			}  			else throw new ApplicationException("No such mission found");
Magic Number,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,UndeleteMission,The following statement contains a magic number: if (prev != null)  			{  				var acc = AuthServiceClient.VerifyAccountPlain(author' password);  				if (acc == null)  				{  					Trace.TraceWarning("Invalid login attempt for {0}"' author);  					System.Threading.Thread.Sleep(new Random().Next(2000));  					throw new ApplicationException("Cannot verify user account");  				}    				if (acc.AccountID != prev.AccountID && acc.AdminLevel < AdminLevel.Moderator) throw new ApplicationException("You cannot undelete a mission from an other user");  				prev.IsDeleted = false;  				db.SaveChanges();  			}  			else throw new ApplicationException("No such mission found");
Magic Number,ZeroKWeb,MissionService,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\MissionService.svc.cs,SendMission,The following statement contains a magic number: if (acc == null)  			{  				Trace.TraceWarning("Invalid login attempt for {0}"' author);  				System.Threading.Thread.Sleep(new Random().Next(2000));  				throw new ApplicationException("Cannot verify user account");  			}
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb,PlasmaServer,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\PlasmaServer.cs,StoreMetadata,The following statement contains a magic number: if (serializedData != null)              {                  File.WriteAllBytes(String.Format("{0}.metadata.xml.gz"' file)' serializedData);                  if (minimap != null)                  {                      var map = (Map)new XmlSerializer(typeof(Map)).Deserialize(new MemoryStream(serializedData.Decompress()));                        if (string.IsNullOrEmpty(resource.AuthorName))                      {                          if (!string.IsNullOrEmpty(map.Author)) resource.AuthorName = map.Author;                          else                          {                              if (!string.IsNullOrEmpty(map.Description))                              {                                  var m = Regex.Match(map.Description' "by ([\\w]+)"' RegexOptions.IgnoreCase);                                  if (m.Success) resource.AuthorName = m.Groups[1].Value;                              }                          }                      }                        if (resource.MapIsSpecial == null) resource.MapIsSpecial = map.ExtractorRadius > 120 || map.MaxWind > 40;                      resource.MapSizeSquared = (map.Size.Width/512)*(map.Size.Height/512);                      resource.MapSizeRatio = (float)map.Size.Width/map.Size.Height;                      resource.MapWidth = map.Size.Width/512;                      resource.MapHeight = map.Size.Height/512;                        using (var im = Image.FromStream(new MemoryStream(minimap)))                      {                          int w' h;                          if (resource.MapSizeRatio > 1)                          {                              w = ThumbnailSize;                              h = (int)(w/resource.MapSizeRatio);                          }                          else                          {                              h = ThumbnailSize;                              w = (int)(h*resource.MapSizeRatio);                          }                            using (var correctMinimap = new Bitmap(w' h' PixelFormat.Format24bppRgb))                          {                              using (var graphics = Graphics.FromImage(correctMinimap))                              {                                  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;                                  graphics.DrawImage(im' 0' 0' w' h);                              }                                var jgpEncoder = ImageCodecInfo.GetImageEncoders().First(x => x.FormatID == ImageFormat.Jpeg.Guid);                              var encoderParams = new EncoderParameters(1);                              encoderParams.Param[0] = new EncoderParameter(Encoder.Quality' 100L);                                var target = String.Format("{0}/{1}.thumbnail.jpg"'                                                         Global.MapPath("~/Resources")'                                                         resource.InternalName.EscapePath());                              correctMinimap.Save(target' jgpEncoder' encoderParams);                          }                      }                  }              }
Magic Number,ZeroKWeb.Controllers,Retention,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,Retention,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from acc in selected                      group acc by acc.FirstLogin.Date                  into grp                      orderby grp.Key                      select                      new GraphPoint()                      {                          Day = grp.Key'                          Value = grp.Select(y => y.LastLogin.Subtract(y.FirstLogin).TotalDays).Select(y => y > 30 ? 30 : y).Average()                      }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,Retention,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from acc in selected                      group acc by acc.FirstLogin.Date                  into grp                      orderby grp.Key                      select                      new GraphPoint()                      {                          Day = grp.Key'                          Value = grp.Select(y => y.LastLogin.Subtract(y.FirstLogin).TotalDays).Select(y => y > 30 ? 30 : y).Average()                      }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,Leaving,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,Leaving,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from acc in selected                      group acc by acc.LastLogin.Date                  into grp                      orderby grp.Key                      select                      new GraphPoint()                      {                          Day = grp.Key'                          Value = grp.Select(y => y.LastLogin.Subtract(y.FirstLogin).TotalDays).Select(y => y > 30 ? 30 : y).Average()                      }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,Leaving,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from acc in selected                      group acc by acc.LastLogin.Date                  into grp                      orderby grp.Key                      select                      new GraphPoint()                      {                          Day = grp.Key'                          Value = grp.Select(y => y.LastLogin.Subtract(y.FirstLogin).TotalDays).Select(y => y > 30 ? 30 : y).Average()                      }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,RetentionLimit,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,RetentionLimit,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from acc in selected                      group acc by acc.FirstLogin.Date                  into grp                      orderby grp.Key                      select                      new GraphPoint()                      {                          Day = grp.Key'                          Value = 100.0 * grp.Count(x => x.LastLogin.Subtract(x.FirstLogin).TotalDays >= limitDays) / grp.Count()                      }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,DailyUnique,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,DailyAvgMinutes,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,DailyAvgMinutes,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: return (from sb in selected                      group sb by sb.StartTime.Date                  into grp                      orderby grp.Key                      let players = grp.Select(y => y.AccountID).Distinct().Count()                      select new GraphPoint() { Day = grp.Key' Value = grp.Sum(y => y.Duration) / 60 / players' }).OrderBy(x => x.Day).ToList();
Magic Number,ZeroKWeb.Controllers,DailyNew,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetDailyValues,The following statement contains a magic number: db.Database.CommandTimeout = 600;
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,Index,The following statement contains a magic number: foreach (var prov in providers)              {                  var data = MemCache.GetCached($"chart_{prov.Title}_{from}_{to}"' () => GraphPoint.FillHoles(prov.GetDailyValues(from' to)' from' to).ToList()' 3600 * 24);                      if (grouping > 1)                      data =                          data.GroupBy(x => (int)x.Day.Subtract(from).TotalDays / grouping)                              .Select(x => new GraphPoint() { Day = x.First().Day' Value = x.Average(y => y.Value) })                              .ToList();                    series.Add(new GraphSeries() { Title = prov.Title' Data = data });              }
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,Index,The following statement contains a magic number: foreach (var prov in providers)              {                  var data = MemCache.GetCached($"chart_{prov.Title}_{from}_{to}"' () => GraphPoint.FillHoles(prov.GetDailyValues(from' to)' from' to).ToList()' 3600 * 24);                      if (grouping > 1)                      data =                          data.GroupBy(x => (int)x.Day.Subtract(from).TotalDays / grouping)                              .Select(x => new GraphPoint() { Day = x.First().Day' Value = x.Average(y => y.Value) })                              .ToList();                    series.Add(new GraphSeries() { Title = prov.Title' Data = data });              }
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,Index,The following statement contains a magic number: if (model.Normalize)                  foreach (var s in series)                  {                      var min = s.Data.Min(x => x.Value);                      var max = s.Data.Max(x => x.Value);                        foreach (var d in s.Data) d.Value = 100.0 * (d.Value - min) / (max - min);                  }
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetPossibleProviders,The following statement contains a magic number: return new List<IGraphDataProvider>()              {                  new Retention()'                  new DailyUnique()'                  new DailyNew()'                  new RetentionLimit(1)'                  new RetentionLimit(3)'                  new RetentionLimit(7)'                  new RetentionLimit(30)'                  new DailyAvgMinutes()'                  new Leaving()              };
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetPossibleProviders,The following statement contains a magic number: return new List<IGraphDataProvider>()              {                  new Retention()'                  new DailyUnique()'                  new DailyNew()'                  new RetentionLimit(1)'                  new RetentionLimit(3)'                  new RetentionLimit(7)'                  new RetentionLimit(30)'                  new DailyAvgMinutes()'                  new Leaving()              };
Magic Number,ZeroKWeb.Controllers,ChartsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ChartsController.cs,GetPossibleProviders,The following statement contains a magic number: return new List<IGraphDataProvider>()              {                  new Retention()'                  new DailyUnique()'                  new DailyNew()'                  new RetentionLimit(1)'                  new RetentionLimit(3)'                  new RetentionLimit(7)'                  new RetentionLimit(30)'                  new DailyAvgMinutes()'                  new Leaving()              };
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,ClansController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ClansController.cs,SubmitCreate,The following statement contains a magic number: if (!created)              {                  if (!Global.Account.HasClanRight(x => x.RightEditTexts) || clan.ClanID != Global.Account.ClanID) return Content("Unauthorized");                    // check if our name or shortcut conflicts with existing clans                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut' x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted))                           return Content("Clan with this shortcut or name already exists");                  }                    orgClan = db.Clans.Single(x => x.ClanID == clan.ClanID);                  string orgImageUrl = Server.MapPath(orgClan.GetImageUrl());                  string orgBGImageUrl = Server.MapPath(orgClan.GetBGImageUrl());                  string orgShortcut = orgClan.Shortcut;                  string newImageUrl = Server.MapPath(clan.GetImageUrl());                  string newBGImageUrl = Server.MapPath(clan.GetBGImageUrl());                  orgClan.ClanName = clan.ClanName;                  orgClan.Shortcut = clan.Shortcut;                  orgClan.Description = clan.Description;                  orgClan.SecretTopic = clan.SecretTopic;                  orgClan.Password = clan.Password;                  bool shortcutChanged = orgShortcut != clan.Shortcut;                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(newImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newImageUrl)) System.IO.File.Delete(newImageUrl);                      //System.IO.File.Move(orgImageUrl' newImageUrl);                      try {                          //var im = Image.FromFile(orgImageUrl);                          //im.Save(newImageUrl);                          System.IO.File.Copy(orgImageUrl' newImageUrl' true);                      } catch (System.IO.FileNotFoundException fnfex) // shouldn't happen but hey                      {                          return Content("A clan image is required");                      }                  }                    if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(newBGImageUrl);                  }                  else if (shortcutChanged)                  {                      //if (System.IO.File.Exists(newBGImageUrl)) System.IO.File.Delete(newBGImageUrl);                      //System.IO.File.Move(orgBGImageUrl' newBGImageUrl);                      try                      {                          //var im = Image.FromFile(orgBGImageUrl);                          //im.Save(newBGImageUrl);                          System.IO.File.Copy(orgBGImageUrl' newBGImageUrl' true);                      }                      catch (System.IO.FileNotFoundException fnfex)                      {                          // there wasn't an original background image' do nothing                      }                  }                    if (clan.FactionID != orgClan.FactionID)                     {                      // set factions of members                      Faction oldFaction = orgClan.Faction;                      orgClan.FactionID = clan.FactionID;                       foreach (Account member in orgClan.Accounts)                      {                          if (member.FactionID != clan.FactionID && member.FactionID != null)                          {                              FactionsController.PerformLeaveFaction(member.AccountID' true' db);                          }                          member.FactionID = clan.FactionID;                      }                      db.SaveChanges();                      if (clan.FactionID != null)                           db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} moved to faction {1}"' orgClan' orgClan.Faction));                      else                          db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("Clan {0} left faction {1}"' orgClan' oldFaction));                  }                  db.SaveChanges();              }              else              {                  if (Global.Clan != null) return Content("You already have a clan");                  // should just change their faction for them?                  if (Global.FactionID != 0 && Global.FactionID != clan.FactionID) return Content("Clan must belong to same faction you are in");                    // check if our name or shortcut conflicts with existing clans                  // if so' allow us to create a new clan over it if it's a deleted clan' else block action                  var existingClans = db.Clans.Where(x => ((SqlFunctions.PatIndex(clan.Shortcut'x.Shortcut) > 0 || SqlFunctions.PatIndex(clan.ClanName' x.ClanName) > 0) && x.ClanID != clan.ClanID));                  if (existingClans.Count() > 0)                  {                      if (existingClans.Any(x => !x.IsDeleted)) return Content("Clan with this shortcut or name already exists");                      Clan deadClan = existingClans.First();                      Clan inputClan = clan;                      clan = deadClan;                      if (noFaction) clan.FactionID = null;                      clan.IsDeleted = false;                      clan.ClanName = inputClan.ClanName;                      clan.Password = inputClan.Password;                      clan.Description = inputClan.Description;                      clan.SecretTopic = inputClan.SecretTopic;                  }                  else                       db.Clans.InsertOnSubmit(clan);                    db.SaveChanges();                    acc.ClanID = clan.ClanID;                    // we created a new clan' set self as founder and rights                  AddClanLeader(acc.AccountID' clan.ClanID' db);                    db.SaveChanges();                    if (image != null && image.ContentLength > 0)                  {                      var im = Image.FromStream(image.InputStream);                      if (im.Width != 64 || im.Height != 64) im = im.GetResized(64' 64' InterpolationMode.HighQualityBicubic);                      im.Save(Server.MapPath(clan.GetImageUrl()));                  }                  if (bgimage != null && bgimage.ContentLength > 0)                  {                      var im = Image.FromStream(bgimage.InputStream);                      im.Save(Server.MapPath(clan.GetBGImageUrl()));                  }                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent("New clan {0} formed by {1}"' clan' acc));                  db.SaveChanges();              }
Magic Number,ZeroKWeb.Controllers,GithubController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\GithubController.cs,Hook,The following statement contains a magic number: var signature = Request.Headers["X-Hub-Signature"].Substring(5);
Magic Number,ZeroKWeb.Controllers,LobbyNewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyNewsController.cs,Index,The following statement contains a magic number: var items = db.LobbyNews.OrderByDescending(x => x.Created).Take(10);
Magic Number,ZeroKWeb.Controllers,LobbyNewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyNewsController.cs,PostNews,The following statement contains a magic number: using (var scope = new TransactionScope())              {                  LobbyNews news;                  if (nn.LobbyNewsID == 0)                  {                      news = new LobbyNews();                      db.LobbyNews.Add(news);                  }                  else                  {                      news = db.LobbyNews.Single(x => x.LobbyNewsID == nn.LobbyNewsID);                  }                  news.AuthorAccountID = Global.AccountID;                  news.Title = nn.Title;                  news.Text = nn.Text;                  news.Url = nn.Url;                  news.EventTime = nn.EventTime;                                      Image im = null;                  if (image != null && image.ContentLength > 0)                  {                      im = Image.FromStream(image.InputStream);                      news.ImageExtension = Path.GetExtension(image.FileName);                  }                    db.SaveChanges();                    if (im != null)                  {                      Image thumb = im.GetResized(256' (int)Math.Round(256.0 / im.Width * im.Height)' InterpolationMode.HighQualityBicubic);                      var targetPath = Server.MapPath(news.ImageRelativeUrl);                      var folder = Path.GetDirectoryName(targetPath);                      if (!Directory.Exists(folder)) Directory.CreateDirectory(folder);                      thumb.Save(targetPath);                  }                  scope.Complete();              }
Magic Number,ZeroKWeb.Controllers,LobbyNewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\LobbyNewsController.cs,PostNews,The following statement contains a magic number: using (var scope = new TransactionScope())              {                  LobbyNews news;                  if (nn.LobbyNewsID == 0)                  {                      news = new LobbyNews();                      db.LobbyNews.Add(news);                  }                  else                  {                      news = db.LobbyNews.Single(x => x.LobbyNewsID == nn.LobbyNewsID);                  }                  news.AuthorAccountID = Global.AccountID;                  news.Title = nn.Title;                  news.Text = nn.Text;                  news.Url = nn.Url;                  news.EventTime = nn.EventTime;                                      Image im = null;                  if (image != null && image.ContentLength > 0)                  {                      im = Image.FromStream(image.InputStream);                      news.ImageExtension = Path.GetExtension(image.FileName);                  }                    db.SaveChanges();                    if (im != null)                  {                      Image thumb = im.GetResized(256' (int)Math.Round(256.0 / im.Width * im.Height)' InterpolationMode.HighQualityBicubic);                      var targetPath = Server.MapPath(news.ImageRelativeUrl);                      var folder = Path.GetDirectoryName(targetPath);                      if (!Directory.Exists(folder)) Directory.CreateDirectory(folder);                      thumb.Save(targetPath);                  }                  scope.Complete();              }
Magic Number,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The following statement contains a magic number: var gameFilter = db.Games.Where(x=>x.Teams == 2);
Magic Number,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The following statement contains a magic number: foreach (var m in gameFilter.GroupBy(x => x.Created.Year * 13 + x.Created.Month)) {                  var gameIds = m.Select(x => x.GameID).ToList();                  var units = db.Units.Where(x=>gameIds.Contains(x.GameID));                  var damages = db.Damages.Where(x => gameIds.Contains(x.GameID));                  var totalSpending = units.Where(x=>x.Unit1== unit).Sum(x => (double?)x.Cost*x.Created);                  if (totalSpending == 0) continue;                  if (m.Count() < 100) continue;                  ;                  var unitCostHealth = units.GroupBy(x => x.Unit1).ToDictionary(x => x.Key' x => x.Select(y => (double?)y.Cost/y.Health).FirstOrDefault());                    if (!unitCostHealth.ContainsKey(unit)) continue;                  var unitDamageRecieved = damages.Where(x => x.VictimUnit == unit).Sum(x => (double?)x.Damage1);                  if (unitDamageRecieved == null) continue;                    var costDamageRecieved = unitDamageRecieved*unitCostHealth[unit];                  double costDamageDone = 0;                  foreach (var dd in damages.Where(x => x.AttackerUnit == unit).GroupBy(x=>x.VictimUnit).Select(x=>new {unit = x.Key' sum =x.Sum(y=>y.Damage1)})) costDamageDone +=dd.sum * (unitCostHealth[dd.unit]??0);                                      results.Add(new MonthEntry() { Month = new DateTime(m.Key/13' m.Key%13' 1)' CostDamagedLost = (costDamageDone/costDamageRecieved)??0' CostDamagedInvest = (costDamageDone/totalSpending)??0 });              }
Magic Number,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The following statement contains a magic number: foreach (var m in gameFilter.GroupBy(x => x.Created.Year * 13 + x.Created.Month)) {                  var gameIds = m.Select(x => x.GameID).ToList();                  var units = db.Units.Where(x=>gameIds.Contains(x.GameID));                  var damages = db.Damages.Where(x => gameIds.Contains(x.GameID));                  var totalSpending = units.Where(x=>x.Unit1== unit).Sum(x => (double?)x.Cost*x.Created);                  if (totalSpending == 0) continue;                  if (m.Count() < 100) continue;                  ;                  var unitCostHealth = units.GroupBy(x => x.Unit1).ToDictionary(x => x.Key' x => x.Select(y => (double?)y.Cost/y.Health).FirstOrDefault());                    if (!unitCostHealth.ContainsKey(unit)) continue;                  var unitDamageRecieved = damages.Where(x => x.VictimUnit == unit).Sum(x => (double?)x.Damage1);                  if (unitDamageRecieved == null) continue;                    var costDamageRecieved = unitDamageRecieved*unitCostHealth[unit];                  double costDamageDone = 0;                  foreach (var dd in damages.Where(x => x.AttackerUnit == unit).GroupBy(x=>x.VictimUnit).Select(x=>new {unit = x.Key' sum =x.Sum(y=>y.Damage1)})) costDamageDone +=dd.sum * (unitCostHealth[dd.unit]??0);                                      results.Add(new MonthEntry() { Month = new DateTime(m.Key/13' m.Key%13' 1)' CostDamagedLost = (costDamageDone/costDamageRecieved)??0' CostDamagedInvest = (costDamageDone/totalSpending)??0 });              }
Magic Number,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The following statement contains a magic number: foreach (var m in gameFilter.GroupBy(x => x.Created.Year * 13 + x.Created.Month)) {                  var gameIds = m.Select(x => x.GameID).ToList();                  var units = db.Units.Where(x=>gameIds.Contains(x.GameID));                  var damages = db.Damages.Where(x => gameIds.Contains(x.GameID));                  var totalSpending = units.Where(x=>x.Unit1== unit).Sum(x => (double?)x.Cost*x.Created);                  if (totalSpending == 0) continue;                  if (m.Count() < 100) continue;                  ;                  var unitCostHealth = units.GroupBy(x => x.Unit1).ToDictionary(x => x.Key' x => x.Select(y => (double?)y.Cost/y.Health).FirstOrDefault());                    if (!unitCostHealth.ContainsKey(unit)) continue;                  var unitDamageRecieved = damages.Where(x => x.VictimUnit == unit).Sum(x => (double?)x.Damage1);                  if (unitDamageRecieved == null) continue;                    var costDamageRecieved = unitDamageRecieved*unitCostHealth[unit];                  double costDamageDone = 0;                  foreach (var dd in damages.Where(x => x.AttackerUnit == unit).GroupBy(x=>x.VictimUnit).Select(x=>new {unit = x.Key' sum =x.Sum(y=>y.Damage1)})) costDamageDone +=dd.sum * (unitCostHealth[dd.unit]??0);                                      results.Add(new MonthEntry() { Month = new DateTime(m.Key/13' m.Key%13' 1)' CostDamagedLost = (costDamageDone/costDamageRecieved)??0' CostDamagedInvest = (costDamageDone/totalSpending)??0 });              }
Magic Number,ZeroKWeb.Controllers,UnitStatsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\UnitStatsController.cs,Index,The following statement contains a magic number: foreach (var m in gameFilter.GroupBy(x => x.Created.Year * 13 + x.Created.Month)) {                  var gameIds = m.Select(x => x.GameID).ToList();                  var units = db.Units.Where(x=>gameIds.Contains(x.GameID));                  var damages = db.Damages.Where(x => gameIds.Contains(x.GameID));                  var totalSpending = units.Where(x=>x.Unit1== unit).Sum(x => (double?)x.Cost*x.Created);                  if (totalSpending == 0) continue;                  if (m.Count() < 100) continue;                  ;                  var unitCostHealth = units.GroupBy(x => x.Unit1).ToDictionary(x => x.Key' x => x.Select(y => (double?)y.Cost/y.Health).FirstOrDefault());                    if (!unitCostHealth.ContainsKey(unit)) continue;                  var unitDamageRecieved = damages.Where(x => x.VictimUnit == unit).Sum(x => (double?)x.Damage1);                  if (unitDamageRecieved == null) continue;                    var costDamageRecieved = unitDamageRecieved*unitCostHealth[unit];                  double costDamageDone = 0;                  foreach (var dd in damages.Where(x => x.AttackerUnit == unit).GroupBy(x=>x.VictimUnit).Select(x=>new {unit = x.Key' sum =x.Sum(y=>y.Damage1)})) costDamageDone +=dd.sum * (unitCostHealth[dd.unit]??0);                                      results.Add(new MonthEntry() { Month = new DateTime(m.Key/13' m.Key%13' 1)' CostDamagedLost = (costDamageDone/costDamageRecieved)??0' CostDamagedInvest = (costDamageDone/totalSpending)??0 });              }
Magic Number,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The following statement contains a magic number: if (model.Age != AgeOption.Any)              {                  var limit = DateTime.UtcNow;                  switch (model.Age)                  {                      case AgeOption.Today:                          limit = DateTime.Now.AddDays(-1);                          break;                      case AgeOption.ThisWeek:                          limit = DateTime.UtcNow.AddDays(-7);                          break;                      case AgeOption.ThisMonth:                          limit = DateTime.UtcNow.AddDays(-31);                          break;                  }                  q = q.Where(b => b.StartTime >= limit);              }
Magic Number,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The following statement contains a magic number: if (model.Age != AgeOption.Any)              {                  var limit = DateTime.UtcNow;                  switch (model.Age)                  {                      case AgeOption.Today:                          limit = DateTime.Now.AddDays(-1);                          break;                      case AgeOption.ThisWeek:                          limit = DateTime.UtcNow.AddDays(-7);                          break;                      case AgeOption.ThisMonth:                          limit = DateTime.UtcNow.AddDays(-31);                          break;                  }                  q = q.Where(b => b.StartTime >= limit);              }
Magic Number,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,Index,The following statement contains a magic number: if (!string.IsNullOrEmpty(model.Search))              {                  var threadList =                      Global.ForumPostIndexer.FilterPosts(db.ForumPosts' model.Search).Select(x => x.ForumThreadID).Distinct().Take(1000).ToList();                  threads = threads.Where(x => x.Title.Contains(model.Search) || x.WikiKey.Contains(model.Search) || threadList.Contains(x.ForumThreadID));              }
Magic Number,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,NewPost,The following statement contains a magic number: if (threadID.HasValue && threadID > 0)              {                  var clan = db.Clans.FirstOrDefault(x => x.ForumThreadID == threadID);                  if (clan != null && Global.ClanID != clan.ClanID) return Content(string.Format("You are not a member of {0}' you cannot post in their clan thread"' clan.ClanName));                    var t = db.ForumThreads.Single(x => x.ForumThreadID == threadID.Value);                  res.CurrentThread = t;                  res.LastPosts = res.CurrentThread.ForumPosts.OrderByDescending(x => x.ForumPostID).Take(20);                  if (!categoryID.HasValue) categoryID = t.ForumCategoryID;              }
Magic Number,ZeroKWeb.Controllers,ForumController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\ForumController.cs,SubmitSearch,The following statement contains a magic number: return View("SearchResults"' new SearchResult { Posts = posts.OrderByDescending(x=>x.Created).Take(100).ToList()' DisplayAsPosts = resultsAsPosts });
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: var result = new IndexResult()  			             {  			             	Spotlight = SpotlightHandler.GetRandom()'  			             	Top10Players = RatingSystems.DisableRatingSystems ? Global.LadderCalculator.GetLadder().TopAccounts.Take(10).ToList() : RatingSystems.GetRatingSystem(RatingCategory.MatchMaking).GetTopPlayers(10)'                              WikiRecentChanges = MediaWikiRecentChanges.LoadRecentChanges()                          };
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: var result = new IndexResult()  			             {  			             	Spotlight = SpotlightHandler.GetRandom()'  			             	Top10Players = RatingSystems.DisableRatingSystems ? Global.LadderCalculator.GetLadder().TopAccounts.Take(10).ToList() : RatingSystems.GetRatingSystem(RatingCategory.MatchMaking).GetTopPlayers(10)'                              WikiRecentChanges = MediaWikiRecentChanges.LoadRecentChanges()                          };
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: result.LobbyStats =  MemCache.GetCached("lobby_stats"' GetCurrentLobbyStats' 60*2);
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: result.LobbyStats =  MemCache.GetCached("lobby_stats"' GetCurrentLobbyStats' 60*2);
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: if (!Global.IsAccountAuthorized) result.NewThreads = accessibleThreads.OrderByDescending(x => x.LastPost).Take(10).Select(x => new NewThreadEntry() { ForumThread = x });  			else  			{  				result.NewThreads = (from t in accessibleThreads  				                     let read = t.ForumThreadLastReads.FirstOrDefault(x => x.AccountID == Global.AccountID)                                       let readForum = t.ForumCategory.ForumLastReads.FirstOrDefault(x=> x.AccountID == Global.AccountID)  				                     where (read == null || t.LastPost > read.LastRead) && (readForum == null || t.LastPost > readForum.LastRead)  				                     orderby t.LastPost descending  				                     select new NewThreadEntry { ForumThread = t' WasRead = read != null' WasWritten = read != null && read.LastPosted != null }).  					Take(10);  			}
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,Index,The following statement contains a magic number: if (!Global.IsAccountAuthorized) result.NewThreads = accessibleThreads.OrderByDescending(x => x.LastPost).Take(10).Select(x => new NewThreadEntry() { ForumThread = x });  			else  			{  				result.NewThreads = (from t in accessibleThreads  				                     let read = t.ForumThreadLastReads.FirstOrDefault(x => x.AccountID == Global.AccountID)                                       let readForum = t.ForumCategory.ForumLastReads.FirstOrDefault(x=> x.AccountID == Global.AccountID)  				                     where (read == null || t.LastPost > read.LastRead) && (readForum == null || t.LastPost > readForum.LastRead)  				                     orderby t.LastPost descending  				                     select new NewThreadEntry { ForumThread = t' WasRead = read != null' WasWritten = read != null && read.LastPosted != null }).  					Take(10);  			}
Magic Number,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,RedirectToSteamOpenID,The following statement contains a magic number: int tries = 3;
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (elongated == true) ret = ret.Where(x => x.MapSizeRatio <= 0.5 || x.MapSizeRatio >= 2);              else if (elongated == false) ret = ret.Where(x => x.MapSizeRatio > 0.5 && x.MapSizeRatio < 2);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (elongated == true) ret = ret.Where(x => x.MapSizeRatio <= 0.5 || x.MapSizeRatio >= 2);              else if (elongated == false) ret = ret.Where(x => x.MapSizeRatio > 0.5 && x.MapSizeRatio < 2);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (elongated == true) ret = ret.Where(x => x.MapSizeRatio <= 0.5 || x.MapSizeRatio >= 2);              else if (elongated == false) ret = ret.Where(x => x.MapSizeRatio > 0.5 && x.MapSizeRatio < 2);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (elongated == true) ret = ret.Where(x => x.MapSizeRatio <= 0.5 || x.MapSizeRatio >= 2);              else if (elongated == false) ret = ret.Where(x => x.MapSizeRatio > 0.5 && x.MapSizeRatio < 2);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,MapsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\MapsController.cs,FilterMaps,The following statement contains a magic number: if (size == 1) ret = ret.Where(x => (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 16*16);              else if (size == 2) {                  ret =                      ret.Where(                          x =>                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 16*16 &&                          (x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) <= 24*24);              }              else if (size == 3) ret = ret.Where(x =>(x.MapHeight*x.MapHeight + x.MapWidth*x.MapWidth) > 24*24);
Magic Number,ZeroKWeb.Controllers,NewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\NewsController.cs,PostNews,The following statement contains a magic number: using (var scope = new TransactionScope())  			{  			    News news;                  if (nn.NewsID == 0)                  {                      news = new News();                      news.Created = nn.Created;                  }                  else news = db.News.Single(x => x.NewsID == nn.NewsID);  		        news.AuthorAccountID = Global.AccountID;                  news.Title=  nn.Title;                  news.Text = nn.Text;    				Image im = null;  				if (image != null && image.ContentLength > 0)  				{  					im = Image.FromStream(image.InputStream);  					news.ImageExtension = Path.GetExtension(image.FileName);  					news.ImageContentType = image.ContentType;  					news.ImageLength = image.ContentLength;  				}                    news.HeadlineUntil = nn.HeadlineUntil;                  string postText = news.Text;                    if (nn.NewsID == 0)                  {                      var thread = new ForumThread()                                   {                                       Created = news.Created'                                       CreatedAccountID = news.AuthorAccountID'                                       Title = news.Title'                                       ForumCategoryID = db.ForumCategories.Single(x => x.ForumMode == ForumMode.News).ForumCategoryID                                   };                                              thread.ForumPosts.Add(new ForumPost() { Created = news.Created' Text = postText' AuthorAccountID = news.AuthorAccountID });                      db.ForumThreads.InsertOnSubmit(thread);                      db.SaveChanges();                      news.ForumThreadID = thread.ForumThreadID;                      db.News.InsertOnSubmit(news);                  }  			    db.SaveChanges();    			    // add image to the start of the forum post we made                  // do it down here so it gets the correct news ID                  if (!String.IsNullOrWhiteSpace(news.ImageRelativeUrl) && news.ForumThread != null)                  {                      postText = "[img]" + GlobalConst.BaseSiteUrl + news.ImageRelativeUrl + "[/img]" + Environment.NewLine + postText;                      news.ForumThread.ForumPosts.ElementAt(0).Text = postText;                      db.SaveChanges();                  }    				if (im != null)  				{  					im.Save(Server.MapPath(news.ImageRelativeUrl));                      Image thumb = im.GetResized(120' (int)Math.Round(120.0 / im.Width * im.Height)' InterpolationMode.HighQualityBicubic);                      thumb.Save(Server.MapPath(news.ThumbRelativeUrl));  				}  				scope.Complete();  			}
Magic Number,ZeroKWeb.Controllers,NewsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\NewsController.cs,PostNews,The following statement contains a magic number: using (var scope = new TransactionScope())  			{  			    News news;                  if (nn.NewsID == 0)                  {                      news = new News();                      news.Created = nn.Created;                  }                  else news = db.News.Single(x => x.NewsID == nn.NewsID);  		        news.AuthorAccountID = Global.AccountID;                  news.Title=  nn.Title;                  news.Text = nn.Text;    				Image im = null;  				if (image != null && image.ContentLength > 0)  				{  					im = Image.FromStream(image.InputStream);  					news.ImageExtension = Path.GetExtension(image.FileName);  					news.ImageContentType = image.ContentType;  					news.ImageLength = image.ContentLength;  				}                    news.HeadlineUntil = nn.HeadlineUntil;                  string postText = news.Text;                    if (nn.NewsID == 0)                  {                      var thread = new ForumThread()                                   {                                       Created = news.Created'                                       CreatedAccountID = news.AuthorAccountID'                                       Title = news.Title'                                       ForumCategoryID = db.ForumCategories.Single(x => x.ForumMode == ForumMode.News).ForumCategoryID                                   };                                              thread.ForumPosts.Add(new ForumPost() { Created = news.Created' Text = postText' AuthorAccountID = news.AuthorAccountID });                      db.ForumThreads.InsertOnSubmit(thread);                      db.SaveChanges();                      news.ForumThreadID = thread.ForumThreadID;                      db.News.InsertOnSubmit(news);                  }  			    db.SaveChanges();    			    // add image to the start of the forum post we made                  // do it down here so it gets the correct news ID                  if (!String.IsNullOrWhiteSpace(news.ImageRelativeUrl) && news.ForumThread != null)                  {                      postText = "[img]" + GlobalConst.BaseSiteUrl + news.ImageRelativeUrl + "[/img]" + Environment.NewLine + postText;                      news.ForumThread.ForumPosts.ElementAt(0).Text = postText;                      db.SaveChanges();                  }    				if (im != null)  				{  					im.Save(Server.MapPath(news.ImageRelativeUrl));                      Image thumb = im.GetResized(120' (int)Math.Round(120.0 / im.Width * im.Height)' InterpolationMode.HighQualityBicubic);                      thumb.Save(Server.MapPath(news.ThumbRelativeUrl));  				}  				scope.Complete();  			}
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,BombPlanet,The following statement contains a magic number: if (avail > 0)              {                  double defense = planet.PlanetStructures.Where(x => x.IsActive).Sum(x => x.StructureType.EffectBomberDefense) ?? 0;                  double effective = avail;                  if (!selfbomb) effective = effective - defense;                    if (effective <= 0) return Content("Enemy defenses completely block your ships");                    acc.SpendBombers(avail);                  if (useWarp == true) acc.SpendWarps(avail);                    var r = new Random();                    double strucKillChance = !selfbomb ? effective * GlobalConst.BomberKillStructureChance : 0;                  int strucKillCount = (int)Math.Floor(strucKillChance + r.NextDouble());                    double ipKillChance = effective * GlobalConst.BomberKillIpChance;                  int ipKillCount = (int)Math.Floor(ipKillChance + r.NextDouble());                    List<PlanetStructure> structs = planet.PlanetStructures.Where(x => x.StructureType.IsBomberDestructible).ToList();                  var bombed = new List<StructureType>();                  while (structs.Count > 0 && strucKillCount > 0)                  {                      strucKillCount--;                      PlanetStructure s = structs[r.Next(structs.Count)];                      bombed.Add(s.StructureType);                      structs.Remove(s);                      db.PlanetStructures.DeleteOnSubmit(s);                  }                    double ipKillAmmount = ipKillCount * GlobalConst.BomberKillIpAmount;                  if (ipKillAmmount > 0)                  {                      foreach (PlanetFaction pf in planet.PlanetFactions.Where(x => x.FactionID != acc.FactionID))                      {                          pf.Influence -= ipKillAmmount;                          if (pf.Influence < 0) pf.Influence = 0;                      }                  }                    var args = new List<object>                             {                                 acc'                                 acc.Faction'                                 !selfbomb ? planet.Faction : null'                                 planet'                                 avail'                                 defense'                                 useWarp == true ? "They attacked by warp. " : ""'                                 ipKillAmmount                             };                  args.AddRange(bombed);                    string str;                  if (selfbomb) str = "{0} of {1} bombed own planet {3} using {4} bombers against {5} defenses. {6}Ground armies lost {7} influence";                  else str = "{0} of {1} bombed {2} planet {3} using {4} bombers against {5} defenses. {6}Ground armies lost {7} influence";                  if (bombed.Count > 1)                  {                      str += " and ";                      int counter = 8;                      foreach (var b in bombed)                      {                          str += "{" + counter + "}" + "' ";                          counter++;                      }                      str += " were destroyed.";                  }                  else if (bombed.Count == 1)                  {                      str += " and {8} was destroyed.";                  }                  else str += ".";                    db.Events.InsertOnSubmit(PlanetwarsEventCreator.CreateEvent(str' args.ToArray()));              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Events,The following statement contains a magic number: if (pageSize == 0)              {                  if (!partial) pageSize = 40;                  else pageSize = 10;              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Events,The following statement contains a magic number: if (pageSize == 0)              {                  if (!partial) pageSize = 40;                  else pageSize = 10;              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,GenerateGalaxyImage,The following statement contains a magic number: using (var db = new ZkDataContext())              {                  Galaxy gal = db.Galaxies.Single(x => x.GalaxyID == galaxyID);                    using (Image background = Image.FromFile(Server.MapPath("/img/galaxies/" + gal.ImageName)))                  {                      //var im = new Bitmap((int)(background.Width*zoom)' (int)(background.Height*zoom));                      var im = new Bitmap(background.Width' background.Height);                      using (Graphics gr = Graphics.FromImage(im))                      {                          gr.DrawImage(background' 0' 0' im.Width' im.Height);                            /*  						using (var pen = new Pen(Color.FromArgb(255' 180' 180' 180)' (int)(1*zoom)))  						{  							foreach (var l in gal.Links)  							{  								gr.DrawLine(pen'  								            (int)(l.PlanetByPlanetID1.X*im.Width)'  								            (int)(l.PlanetByPlanetID1.Y*im.Height)'  								            (int)(l.PlanetByPlanetID2.X*im.Width)'  								            (int)(l.PlanetByPlanetID2.Y*im.Height));  							}  						}*/                            foreach (Planet p in gal.Planets)                          {                              string planetIconPath = null;                              try                              {                                  planetIconPath = "/img/planets/" + (p.Resource.MapPlanetWarsIcon ?? "1.png"); // backup image is 1.png                                  using (Image pi = Image.FromFile(Server.MapPath(planetIconPath)))                                  {                                      double aspect = pi.Height / (double)pi.Width;                                      var width = (int)(p.Resource.PlanetWarsIconSize * zoom);                                      var height = (int)(width * aspect);                                      gr.DrawImage(pi' (int)(p.X * im.Width) - width / 2' (int)(p.Y * im.Height) - height / 2' width' height);                                  }                              }                              catch (Exception ex)                              {                                  throw new ApplicationException(                                      string.Format("Cannot process planet image {0} for planet {1} map {2}"'                                                    planetIconPath'                                                    p.PlanetID'                                                    p.MapResourceID)'                                      ex);                              }                          }                          if (antiAliasingFactor == 1) return im;                          else                          {                              zoom /= antiAliasingFactor;                              return im.GetResized((int)(background.Width * zoom)' (int)(background.Height * zoom)' InterpolationMode.HighQualityBicubic);                          }                      }                  }              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,GenerateGalaxyImage,The following statement contains a magic number: using (var db = new ZkDataContext())              {                  Galaxy gal = db.Galaxies.Single(x => x.GalaxyID == galaxyID);                    using (Image background = Image.FromFile(Server.MapPath("/img/galaxies/" + gal.ImageName)))                  {                      //var im = new Bitmap((int)(background.Width*zoom)' (int)(background.Height*zoom));                      var im = new Bitmap(background.Width' background.Height);                      using (Graphics gr = Graphics.FromImage(im))                      {                          gr.DrawImage(background' 0' 0' im.Width' im.Height);                            /*  						using (var pen = new Pen(Color.FromArgb(255' 180' 180' 180)' (int)(1*zoom)))  						{  							foreach (var l in gal.Links)  							{  								gr.DrawLine(pen'  								            (int)(l.PlanetByPlanetID1.X*im.Width)'  								            (int)(l.PlanetByPlanetID1.Y*im.Height)'  								            (int)(l.PlanetByPlanetID2.X*im.Width)'  								            (int)(l.PlanetByPlanetID2.Y*im.Height));  							}  						}*/                            foreach (Planet p in gal.Planets)                          {                              string planetIconPath = null;                              try                              {                                  planetIconPath = "/img/planets/" + (p.Resource.MapPlanetWarsIcon ?? "1.png"); // backup image is 1.png                                  using (Image pi = Image.FromFile(Server.MapPath(planetIconPath)))                                  {                                      double aspect = pi.Height / (double)pi.Width;                                      var width = (int)(p.Resource.PlanetWarsIconSize * zoom);                                      var height = (int)(width * aspect);                                      gr.DrawImage(pi' (int)(p.X * im.Width) - width / 2' (int)(p.Y * im.Height) - height / 2' width' height);                                  }                              }                              catch (Exception ex)                              {                                  throw new ApplicationException(                                      string.Format("Cannot process planet image {0} for planet {1} map {2}"'                                                    planetIconPath'                                                    p.PlanetID'                                                    p.MapResourceID)'                                      ex);                              }                          }                          if (antiAliasingFactor == 1) return im;                          else                          {                              zoom /= antiAliasingFactor;                              return im.GetResized((int)(background.Width * zoom)' (int)(background.Height * zoom)' InterpolationMode.HighQualityBicubic);                          }                      }                  }              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Index,The following statement contains a magic number: if (gal.IsDirty || !System.IO.File.Exists(cachePath))              {                  using (Bitmap im = GenerateGalaxyImage(gal.GalaxyID))                  {                      im.SaveJpeg(cachePath' 85);                      gal.IsDirty = false;                      gal.Width = im.Width;                      gal.Height = im.Height;                      db.SaveChanges();                  }              }
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Ladder,The following statement contains a magic number: var ret = MemCache.GetCached("pwLadder"'                  () =>                  {                      ZkDataContext db = new ZkDataContext();                      var gal = db.Galaxies.First(x => x.IsDefault);                      DateTime minDate = gal.Started ?? DateTime.UtcNow;                      List<PwLadder> items = db.Accounts.Where(x=>x.FactionID !=null && x.LastLogin > minDate && x.SpringBattlePlayers.Any(y=>y.SpringBattle.StartTime > minDate && !y.IsSpectator && y.SpringBattle.Mode == AutohostMode.Planetwars)).ToList().GroupBy(x => x.Faction)                              .Select(                                  x =>                                      new PwLadder                                      {                                          Faction = x.Key'                                          Top10 =                                              x.OrderByDescending(y => y.PwAttackPoints)                                                  .ThenByDescending(y => y.EloPw)                                                  .Take(10)                                                  .ToList()                                      })                              .ToList();                      return items;                  }'                  60*2);
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Ladder,The following statement contains a magic number: var ret = MemCache.GetCached("pwLadder"'                  () =>                  {                      ZkDataContext db = new ZkDataContext();                      var gal = db.Galaxies.First(x => x.IsDefault);                      DateTime minDate = gal.Started ?? DateTime.UtcNow;                      List<PwLadder> items = db.Accounts.Where(x=>x.FactionID !=null && x.LastLogin > minDate && x.SpringBattlePlayers.Any(y=>y.SpringBattle.StartTime > minDate && !y.IsSpectator && y.SpringBattle.Mode == AutohostMode.Planetwars)).ToList().GroupBy(x => x.Faction)                              .Select(                                  x =>                                      new PwLadder                                      {                                          Faction = x.Key'                                          Top10 =                                              x.OrderByDescending(y => y.PwAttackPoints)                                                  .ThenByDescending(y => y.EloPw)                                                  .Take(10)                                                  .ToList()                                      })                              .ToList();                      return items;                  }'                  60*2);
Magic Number,ZeroKWeb.Controllers,PlanetwarsController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PlanetwarsController.cs,Ladder,The following statement contains a magic number: var ret = MemCache.GetCached("pwLadder"'                  () =>                  {                      ZkDataContext db = new ZkDataContext();                      var gal = db.Galaxies.First(x => x.IsDefault);                      DateTime minDate = gal.Started ?? DateTime.UtcNow;                      List<PwLadder> items = db.Accounts.Where(x=>x.FactionID !=null && x.LastLogin > minDate && x.SpringBattlePlayers.Any(y=>y.SpringBattle.StartTime > minDate && !y.IsSpectator && y.SpringBattle.Mode == AutohostMode.Planetwars)).ToList().GroupBy(x => x.Faction)                              .Select(                                  x =>                                      new PwLadder                                      {                                          Faction = x.Key'                                          Top10 =                                              x.OrderByDescending(y => y.PwAttackPoints)                                                  .ThenByDescending(y => y.EloPw)                                                  .Take(10)                                                  .ToList()                                      })                              .ToList();                      return items;                  }'                  60*2);
Magic Number,ZeroKWeb.Controllers,PollController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\PollController.cs,PollVote,The following statement contains a magic number: if (Global.Account.Level >= GlobalConst.MinLevelForForumVote)              {                  var key = Request.Form.AllKeys.Where(x => !string.IsNullOrEmpty(x)).First(x => x.StartsWith("option"));                  var optionID = Convert.ToInt32(key.Substring(6));                    if (!poll.PollOptions.Any(x => x.OptionID == optionID)) return Content("Invalid option");                    var entry = poll.PollVotes.SingleOrDefault(x => x.AccountID == Global.AccountID);                  if (entry == null)                  {                      entry = new PollVote() { PollID = poll.PollID' AccountID = Global.AccountID };                      poll.PollVotes.Add(entry);                  }                  entry.OptionID = optionID;                    db.SaveChanges();                  foreach (var opt in poll.PollOptions) opt.Votes = opt.PollVotes.Count(x => x.PollID == poll.PollID);                  db.SaveChanges();              }
Magic Number,ZeroKWeb.ForumParser,GifvOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\GifvTag.cs,Translate,The following statement contains a magic number: if (!string.IsNullOrEmpty(content))              {                  var match = Regex.Match(content' @"(https?\:\/\/)((\w|-|_|\.|\/)+\.)(gifv|mp4|webm|gif)"' RegexOptions.IgnoreCase);                  if (match.Success)                  {                      var urlPart = match.Groups[1].Value + match.Groups[2].Value;                      context.AppendFormat(                          "<div class=\"video-container\"><video preload=\"auto\" height=\"auto\" width=\"auto\" autoplay=\"autoplay\" muted=\"muted\" loop=\"loop\" ><source type=\"video/webm\" src=\"{0}webm\"><source type=\"video/mp4\" src=\"{0}mp4\">Your browser does not support the video tag. Find out if your Browser is supported at www.w3schools.com/tags/tag_video.asp</video></div>"'                          urlPart); // this looks just wrong                  }              }
Magic Number,ZeroKWeb.ForumParser,HeaderTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HeaderTag.cs,AcceptsLetter,The following statement contains a magic number: if (letter == '=')              {                  if (context.MatchedString.Length > 6) return false; // max is h6                    if (context.NextChar != '=')                  {                      if ((context.PreviousTag == null || context.PreviousTag.Value is SpaceTag || context.PreviousTag.Value is NewLineTag) &&                        (context.NextChar == null || context.NextChar == ' ' || context.NextChar == '\r' || context.NextChar == '\n')) return true;                      return false;                  }                    return null;              } else return false;
Magic Number,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,AcceptsLetter,The following statement contains a magic number: if (context.MatchedString.Length == 2 && context.MatchedString[1] == ' ') return false;
Magic Number,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,AcceptsLetter,The following statement contains a magic number: if (context.MatchedString.Length > 2 && letter == '>')              {                  var tag = Regex.Match(context.MatchedString' "</?([a-z0-9]+)[ />]"'RegexOptions.IgnoreCase).Groups[1].Value;                    // invalid opening tag                  if (!validTags.ContainsKey(tag)) return false;                    if (context.MatchedString.StartsWith("</")) return true; // for closing elements' end here                    var csr = context.MatchedString;                  if (!csr.EndsWith("/>")) csr = $"{csr}</{tag}>"; // close tag for xelement parsing                  try                  {                      XElement.Parse(csr);                      return true;                  }                  catch                  {                      return false;                  }              }
Magic Number,ZeroKWeb.ForumParser,HtmlTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\HtmlTag.cs,Init,The following statement contains a magic number: if (mode == OpeningClosingMode.Opening) text = text.Substring(0' text.Length - 3 - htmlTag.Length);
Magic Number,ZeroKWeb.ForumParser,VidOpenTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\VidTag.cs,Translate,The following statement contains a magic number: if (!string.IsNullOrEmpty(content))              {                  var match = Regex.Match(content' @"(https?\:\/\/)((\w|-|_|\.|\/)+\.)(mp4|webm|ogg|ogv|3gp|gifv)"' RegexOptions.IgnoreCase);                  if (match.Success)                  {                      var urlPart = match.Groups[1].Value + match.Groups[2].Value;                      context.AppendFormat(                          "<div class=\"video-container\"><video preload=\"auto\" height=\"auto\" width=\"auto\" controls=\"controls\"><source type=\"video/webm\" src=\"{0}webm\"><source type=\"video/mp4\" src=\"{0}mp4\"><source type=\"video/ogg\" src=\"{0}ogg\"><source type=\"video/ogv\" src=\"{0}ogv\"><source type=\"video/3gp\" src=\"{0}3gp\">Your browser does not support the video tag. Find out if your Browser is supported at www.w3schools.com/tags/tag_video.asp</video></div>"'                          urlPart);                  }              }
Magic Number,ZeroKWeb.ForumParser,WikiLinkTag,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\ForumParser\Tags\WikiLinkTag.cs,Translate,The following statement contains a magic number: var parts = arguments.Split(new[] { ' ' }' 2);
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintPlanet,The following statement contains a magic number: return                  new MvcHtmlString(string.Format("<a href='{0}' title='$planet${4}' style='{5}'><img src='/img/planets/{1}' width='{2}'>{3}</a>"'                                                  url.Action("Planet"' "Planetwars"' new { id = planet.PlanetID })'                                                  planet.Resource.MapPlanetWarsIcon'                                                  planet.Resource.PlanetWarsIconSize/3'                                                  planet.Name'                                                  planet.PlanetID'                                                  planet.Faction != null ? "color:" + planet.Faction.Color : ""));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintRoleType,The following statement contains a magic number: if (rt.RightBomberQuota != 0) factoids.Add(string.Format("bomber quota {0:F0}%"' rt.RightBomberQuota*100));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintRoleType,The following statement contains a magic number: if (rt.RightDropshipQuota != 0) factoids.Add(string.Format("dropship quota {0:F0}%"' rt.RightDropshipQuota*100));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintRoleType,The following statement contains a magic number: if (rt.RightWarpQuota != 0) factoids.Add(string.Format("warp quota {0:F0}%"' rt.RightWarpQuota*100));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,PrintRoleType,The following statement contains a magic number: if (rt.RightMetalQuota != 0) factoids.Add(string.Format("metal quota {0:F0}%"' rt.RightMetalQuota*100));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Stars,The following statement contains a magic number: if (rating.HasValue) {                  var totalWidth = 5*14;                  var starWidth = (int)(rating*14.0);                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:{1}px'></span><span style='width:{3}px'></span>"'                                                      type'                                                      starWidth'                                                      rating'                                                      totalWidth - starWidth));              }              else {                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:70px' title='No votes'></span>"'                                                      type == StarType.RedSkull ? StarType.WhiteSkull : StarType.WhiteStarSmall));              }
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Stars,The following statement contains a magic number: if (rating.HasValue) {                  var totalWidth = 5*14;                  var starWidth = (int)(rating*14.0);                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:{1}px'></span><span style='width:{3}px'></span>"'                                                      type'                                                      starWidth'                                                      rating'                                                      totalWidth - starWidth));              }              else {                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:70px' title='No votes'></span>"'                                                      type == StarType.RedSkull ? StarType.WhiteSkull : StarType.WhiteStarSmall));              }
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,Stars,The following statement contains a magic number: if (rating.HasValue) {                  var totalWidth = 5*14;                  var starWidth = (int)(rating*14.0);                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:{1}px'></span><span style='width:{3}px'></span>"'                                                      type'                                                      starWidth'                                                      rating'                                                      totalWidth - starWidth));              }              else {                  return                      new MvcHtmlString(string.Format("<span class='{0}' style='width:70px' title='No votes'></span>"'                                                      type == StarType.RedSkull ? StarType.WhiteSkull : StarType.WhiteStarSmall));              }
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalMinutes < 2) return string.Format("{0} seconds"' (int)timeSpan.TotalSeconds);
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalHours < 2) return string.Format("{0} minutes"' (int)timeSpan.TotalMinutes);
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalDays < 2) return string.Format("{0} hours"' (int)timeSpan.TotalHours);
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalDays < 60) return string.Format("{0} days"' (int)timeSpan.TotalDays);
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalDays < 365*2) return string.Format("{0} months"' (int)(timeSpan.TotalDays / 30));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalDays < 365*2) return string.Format("{0} months"' (int)(timeSpan.TotalDays / 30));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: if (timeSpan.TotalDays < 365*2) return string.Format("{0} months"' (int)(timeSpan.TotalDays / 30));
Magic Number,System.Web.Mvc,HtmlHelperExtensions,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\AppCode\HtmlHelperExtensions.cs,ToNiceString,The following statement contains a magic number: return string.Format("{0} years"' (int)(timeSpan.TotalDays/365));
Missing Default,ZeroKWeb.Controllers,GithubController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\GithubController.cs,Hook,The following switch statement is missing a default case: switch (eventType) {                  case "issues":                      if (payload.action == "labeled")                          break;                      values = new [] {payload.repository.name 'payload.sender.login'  payload.action' payload.issue.title' payload.issue.html_url};                      text = string.Format("[{0}] {1} has {2} issue {3} <{4}>"'values);                      break;                    case "pull_request":                      values = new [] {payload.repository.name 'payload.sender.login'  payload.action' payload.number' payload.pull_request.title ' payload.pull_request.html_url' payload.pull_request.body};                      text = string.Format("[{0}] {1} has {2} pull request #{3}: {4} <{5}>\n{6}"'values);                      break;                    case "push":                      var sb = new StringBuilder();                      int count = 0;                      dynamic commits = payload.commits;                      foreach (dynamic commit in commits)                      {                          sb.AppendFormat("\n {0} <{1}>"' commit.message' commit.url);                          count++;                      }                      if (count > 0) text = $"[{payload.repository.name}] {payload.sender.login} has pushed {count} commits: {sb}";                      break;              }
Missing Default,ZeroKWeb.Controllers,BattlesController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\BattlesController.cs,Index,The following switch statement is missing a default case: switch (model.Age)                  {                      case AgeOption.Today:                          limit = DateTime.Now.AddDays(-1);                          break;                      case AgeOption.ThisWeek:                          limit = DateTime.UtcNow.AddDays(-7);                          break;                      case AgeOption.ThisMonth:                          limit = DateTime.UtcNow.AddDays(-31);                          break;                  }
Missing Default,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,GetTooltip,The following switch statement is missing a default case: switch (args[0])  			{  				case "mission":    					ret = GetMissionTooltip(id);  					break;  				case "map":  					if (id > 0) ret = GetMapTooltip(id);  					else ret = GetMapTooltip(db.Resources.Single(x => x.InternalName == sid).ResourceID);  					break;  				case "thread":  					ret = GetThreadTooltip(id);  					break;  				case "unlock":  					return PartialView("UnlockTooltip"' db.Unlocks.Single(x => x.UnlockID == id));    				case "polloption":  					return PartialView("~/Views/Poll/PollVoteList.cshtml"' db.PollVotes.Where(x => x.OptionID == id).Select(x=>x.Account).OrderByDescending(x=>x.Level).ToList());  				case "commander":  					ret = GetCommanderTooltip(id);  					break;    				case "planet":  					return PartialView("PlanetTooltip"' db.Planets.Single(x => x.PlanetID == id));                  case "campaignPlanet":                      return PartialView("PlanetTooltipCampaign"' db.CampaignPlanets.Single(x => x.PlanetID == id));    				case "planetInfluence":  					return PartialView("InfluenceListShort"' db.Planets.Single(x => x.PlanetID == id).PlanetFactions);    				case "planetDropships":  					return PartialView("PlanetDropships"' db.Planets.Single(x => x.PlanetID == id));                    case "user":                      return PartialView("UserTooltip"' db.Accounts.Single(x => x.AccountID == id));                  case "clan":  			        return PartialView("~/Views/Clans/Tooltip.cshtml"' db.Clans.Single(x => x.ClanID == id));                  case "faction":  			        return PartialView("~/Views/Factions/FactionTooltip.cshtml"' db.Factions.Single(x => x.FactionID == id));                  case "treaty":                      return PartialView("~/Views/Shared/DisplayTemplates/FactionTreaty.cshtml"' db.FactionTreaties.Single(x => x.FactionTreatyID == id));                  case "structuretype":  			        return PartialView("~/Views/Shared/DisplayTemplates/StructureType.cshtml"'  			                           db.StructureTypes.Single(x => x.StructureTypeID == id));                  case "forumVotes":                      return PartialView("~/Views/Forum/ForumVotesForPost.cshtml"' db.ForumPosts.Single( x => x.ForumPostID == id));  			}
Missing Default,ZeroKWeb.Controllers,HomeController,C:\repos\ZeroK-RTS_Zero-K-Infrastructure\Zero-K.info\Controllers\HomeController.cs,ProcessSteamOpenIDResponse,The following switch statement is missing a default case: switch (response.Status)  	        {  	            case AuthenticationStatus.Authenticated:  	                var steamIDStr = response.FriendlyIdentifierForDisplay.Split('/').LastOrDefault();  	                ulong steamID;  	                if (ulong.TryParse(steamIDStr' out steamID))  	                {                          var referer = response.GetCallbackArgument("referer");  	                    using (var db = new ZkDataContext())  	                    {  	                        var acc = db.Accounts.FirstOrDefault(x => x.SteamID == steamID);  	                        if (acc != null)  	                        {  	                            FormsAuthentication.SetAuthCookie(acc.Name' true);  	                            if (string.IsNullOrEmpty(referer)) referer = Url.Action("Index");  	                            return Redirect(referer);  	                        }  	                        else return Content("Please download the game and create an account in-game first");  	                    }  	                }  	                break;  	            case AuthenticationStatus.Canceled:  	                return Content("Login was cancelled at the provider");  	            case AuthenticationStatus.Failed:  	                return Content("Login failed");  	        }
