Implementation smell,Namespace,Class,File,Method,Description
Long Parameter List,AviFile,NativeMethods,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,EditStreamPaste,The method has 6 parameters. Parameters: pStream' plPos' plLength' pstream' lStart' lLength
Long Parameter List,AviFile,NativeMethods,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,AVIStreamWrite,The method has 8 parameters. Parameters: aviStream' lStart' lSamples' lpBuffer' cbBuffer' dwFlags' dummy1' dummy2
Long Parameter List,AviFile,NativeMethods,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,AVISaveOptions,The method has 5 parameters. Parameters: hwnd' uiFlags' nStreams' ppavi' plpOptions
Long Parameter List,AviFile,NativeMethods,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,AVIStreamRead,The method has 7 parameters. Parameters: pavi' lStart' lSamples' lpBuffer' cbBuffer' plBytes' plSamples
Long Parameter List,AviFile,NativeMethods,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,AVISaveV,The method has 6 parameters. Parameters: szFile' empty' lpfnCallback' nStreams' ppavi' plpOptions
Long Parameter List,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,AddVideoStream,The method has 6 parameters. Parameters: isCompressed' frameRate' frameSize' width' height' format
Long Parameter List,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,VideoStream,The method has 7 parameters. Parameters: aviFile' writeCompressed' frameRate' frameSize' width' height' format
Long Parameter List,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,VideoStream,The method has 8 parameters. Parameters: frameSize' frameRate' width' height' countBitsPerPixel' countFrames' compressOptions' writeCompressed
Long Statement,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,AddAudioStream,The length of the statement  "            result = Avi.NativeMethods.AVIStreamWrite(aviStream' 0' streamLength' waveData' streamLength' Avi.AVIIF_KEYFRAME' 0' 0); " is 120.
Long Statement,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,AddAudioStream,The length of the statement  "            result = Avi.NativeMethods.AVIStreamWrite(aviStream' 0' streamLength' waveData' streamLength' Avi.AVIIF_KEYFRAME' 0' 0); " is 120.
Long Statement,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,CopyTo,The length of the statement  "				int startByteIndex = (int)( startAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8); " is 148.
Long Statement,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,CopyTo,The length of the statement  "				int stopByteIndex = (int)( stopAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8); " is 146.
Long Statement,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,MakeFileFromStream,The length of the statement  "            Avi.NativeMethods.AVISaveOptions(IntPtr.Zero' Avi.ICMF_CHOOSE_KEYFRAME | Avi.ICMF_CHOOSE_DATARATE' 1' ref streamPointer' ref opts); " is 131.
Long Statement,AviFile,EditableVideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\EditableVideoStream.cs,Paste,The length of the statement  "            int result = Avi.NativeMethods.EditStreamPaste(editableStream' ref pastePosition' ref pastedLength' sourceStream' copyPosition' length); " is 136.
Long Statement,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,CreateCompressedStream,The length of the statement  "            Avi.NativeMethods.AVISaveOptions(IntPtr.Zero' Avi.ICMF_CHOOSE_KEYFRAME | Avi.ICMF_CHOOSE_DATARATE' 1' ref aviStream' ref options); " is 130.
Long Statement,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ExportStream,The length of the statement  "            Avi.NativeMethods.AVISaveOptions(IntPtr.Zero' Avi.ICMF_CHOOSE_KEYFRAME | Avi.ICMF_CHOOSE_DATARATE' 1' ref streamPointer' ref opts); " is 131.
Magic Number,AviFile,Avi,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,mmioFOURCC,The following statement contains a magic number: return ((Int32)(byte)(ch0) | ((byte)(ch1) << 8) |                  ((byte)(ch2) << 16) | ((byte)(ch3) << 24));
Magic Number,AviFile,Avi,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,mmioFOURCC,The following statement contains a magic number: return ((Int32)(byte)(ch0) | ((byte)(ch1) << 8) |                  ((byte)(ch2) << 16) | ((byte)(ch3) << 24));
Magic Number,AviFile,Avi,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\Avi.cs,mmioFOURCC,The following statement contains a magic number: return ((Int32)(byte)(ch0) | ((byte)(ch1) << 8) |                  ((byte)(ch2) << 16) | ((byte)(ch3) << 24));
Magic Number,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,CopyTo,The following statement contains a magic number: try {                  //copy video stream                    VideoStream videoStream = GetVideoStream();                    int startFrameIndex = (int)(videoStream.FrameRate * startAtSecond);                  int stopFrameIndex = (int)(videoStream.FrameRate * stopAtSecond);                    videoStream.GetFrameOpen();                  Bitmap bmp = videoStream.GetBitmap(startFrameIndex);                  VideoStream newStream = newFile.AddVideoStream(false' videoStream.FrameRate' bmp);                  for (int n = startFrameIndex + 1; n <= stopFrameIndex; n++) {                      bmp = videoStream.GetBitmap(n);                      newStream.AddFrame(bmp);                  }                  videoStream.GetFrameClose();                    //copy audio stream                    AudioStream waveStream = GetWaveStream();                    Avi.AVISTREAMINFO streamInfo = new Avi.AVISTREAMINFO();                  Avi.PCMWAVEFORMAT streamFormat = new Avi.PCMWAVEFORMAT();                  int streamLength = 0;                  IntPtr ptrRawData = waveStream.GetStreamData(                      ref streamInfo'                      ref streamFormat'                      ref streamLength);    				int startByteIndex = (int)( startAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8);  				int stopByteIndex = (int)( stopAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8);                    IntPtr ptrWavePart = new IntPtr(ptrRawData.ToInt32() + startByteIndex);                    byte[] rawData = new byte[stopByteIndex - startByteIndex];  				Marshal.Copy(ptrWavePart' rawData' 0' rawData.Length);  				Marshal.FreeHGlobal(ptrRawData);                    streamInfo.dwLength = rawData.Length;                  streamInfo.dwStart = 0;                    IntPtr unmanagedRawData = Marshal.AllocHGlobal(rawData.Length);                  Marshal.Copy(rawData' 0' unmanagedRawData' rawData.Length);                  newFile.AddAudioStream(unmanagedRawData' streamInfo' streamFormat' rawData.Length);  				Marshal.FreeHGlobal(unmanagedRawData);              } catch (Exception ex) {                  newFile.Close();                  throw ex;              }
Magic Number,AviFile,AviManager,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\AviManager.cs,CopyTo,The following statement contains a magic number: try {                  //copy video stream                    VideoStream videoStream = GetVideoStream();                    int startFrameIndex = (int)(videoStream.FrameRate * startAtSecond);                  int stopFrameIndex = (int)(videoStream.FrameRate * stopAtSecond);                    videoStream.GetFrameOpen();                  Bitmap bmp = videoStream.GetBitmap(startFrameIndex);                  VideoStream newStream = newFile.AddVideoStream(false' videoStream.FrameRate' bmp);                  for (int n = startFrameIndex + 1; n <= stopFrameIndex; n++) {                      bmp = videoStream.GetBitmap(n);                      newStream.AddFrame(bmp);                  }                  videoStream.GetFrameClose();                    //copy audio stream                    AudioStream waveStream = GetWaveStream();                    Avi.AVISTREAMINFO streamInfo = new Avi.AVISTREAMINFO();                  Avi.PCMWAVEFORMAT streamFormat = new Avi.PCMWAVEFORMAT();                  int streamLength = 0;                  IntPtr ptrRawData = waveStream.GetStreamData(                      ref streamInfo'                      ref streamFormat'                      ref streamLength);    				int startByteIndex = (int)( startAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8);  				int stopByteIndex = (int)( stopAtSecond * (float)(waveStream.CountSamplesPerSecond * streamFormat.nChannels * waveStream.CountBitsPerSample) / 8);                    IntPtr ptrWavePart = new IntPtr(ptrRawData.ToInt32() + startByteIndex);                    byte[] rawData = new byte[stopByteIndex - startByteIndex];  				Marshal.Copy(ptrWavePart' rawData' 0' rawData.Length);  				Marshal.FreeHGlobal(ptrRawData);                    streamInfo.dwLength = rawData.Length;                  streamInfo.dwStart = 0;                    IntPtr unmanagedRawData = Marshal.AllocHGlobal(rawData.Length);                  Marshal.Copy(rawData' 0' unmanagedRawData' rawData.Length);                  newFile.AddAudioStream(unmanagedRawData' streamInfo' streamFormat' rawData.Length);  				Marshal.FreeHGlobal(unmanagedRawData);              } catch (Exception ex) {                  newFile.Close();                  throw ex;              }
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ConvertPixelFormatToBitCount,The following statement contains a magic number: if(formatName.Substring(0' 6) != "Format"){  				throw new Exception("Unknown pixel format: "+formatName);  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ConvertPixelFormatToBitCount,The following statement contains a magic number: formatName = formatName.Substring(6' 2);
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ConvertPixelFormatToBitCount,The following statement contains a magic number: formatName = formatName.Substring(6' 2);
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ConvertBitCountToPixelFormat,The following statement contains a magic number: if(bitCount > 16){  				formatName = String.Format("Format{0}bppRgb"' bitCount);  			}else if(bitCount == 16){  				formatName = "Format16bppRgb555";  			}else{ // < 16  				formatName = String.Format("Format{0}bppIndexed"' bitCount);  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,ConvertBitCountToPixelFormat,The following statement contains a magic number: if(bitCount > 16){  				formatName = String.Format("Format{0}bppRgb"' bitCount);  			}else if(bitCount == 16){  				formatName = "Format16bppRgb555";  			}else{ // < 16  				formatName = String.Format("Format{0}bppIndexed"' bitCount);  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetRateAndScale,The following statement contains a magic number: while (frameRate != (long)frameRate) {                  frameRate = frameRate * 10;                  scale *= 10;              }
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetRateAndScale,The following statement contains a magic number: while (frameRate != (long)frameRate) {                  frameRate = frameRate * 10;                  scale *= 10;              }
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,CreateStreamWithoutFormat,The following statement contains a magic number: strhdr.szName = new UInt16[64];
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetFrameOpen,The following statement contains a magic number: if (bih.biBitCount > 24)  			{  				bih.biBitCount = 32;  			}  			else if (bih.biBitCount > 16)  			{  				bih.biBitCount = 24;  			}  			else if (bih.biBitCount > 8)  			{  				bih.biBitCount = 16;  			}  			else if (bih.biBitCount > 4)  			{  				bih.biBitCount = 8;  			}  			else if (bih.biBitCount > 0)  			{  				bih.biBitCount = 4;  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetBitmap,The following statement contains a magic number: if(bih.biBitCount < 16){  				//copy palette and pixels  				bitmapData = new byte[bih.biSizeImage + Avi.PALETTE_SIZE];  			}else{  				//copy only pixels  				bitmapData = new byte[bih.biSizeImage];  			}
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetBitmap,The following statement contains a magic number: bfh.bfSize = (Int32)(55 + bih.biSizeImage);
Magic Number,AviFile,VideoStream,C:\repos\diydrones_MissionPlanner\ExtLibs\AviFile\VideoStream.cs,GetBitmap,The following statement contains a magic number: if(bih.biBitCount < 16){  				//There is a palette between header and pixel data  				bfh.bfOffBits += Avi.PALETTE_SIZE;  			}
