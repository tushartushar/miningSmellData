Implementation smell,Namespace,Class,File,Method,Description
Long Method,Spark.Formatters,HtmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\HtmlFhirFormatter.cs,WriteHTMLOutput,The method has 129 lines of code.
Complex Method,Spark.Engine.Auxiliary,ResourceVisitor,C:\repos\furore-fhir_spark\src\Spark.Engine\Auxiliary\ResourceVisitor.cs,scan,Cyclomatic complexity of the method is 8
Complex Method,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,BuildSegments,Cyclomatic complexity of the method is 10
Complex Method,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,IsFhirElement,Cyclomatic complexity of the method is 8
Complex Method,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,ImplementsGenericDefinition,Cyclomatic complexity of the method is 10
Long Parameter List,Spark.Engine.Core,Snapshot,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Snapshot.cs,Create,The method has 7 parameters. Parameters: type' selflink' keys' sortby' count' includes' reverseIncludes
Long Parameter List,Spark.Formatters,BinaryFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\BinaryFormatter.cs,WriteToStreamAsync,The method has 5 parameters. Parameters: type' value' writeStream' content' transportContext
Long Parameter List,Spark.Formatters,HtmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\HtmlFhirFormatter.cs,WriteToStreamAsync,The method has 5 parameters. Parameters: type' value' writeStream' content' transportContext
Long Parameter List,Spark.Formatters,JsonFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\JsonFhirFormatter.cs,WriteToStreamAsync,The method has 5 parameters. Parameters: type' value' writeStream' content' transportContext
Long Parameter List,Spark.Formatters,XmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\XmlFhirFormatter.cs,WriteToStreamAsync,The method has 5 parameters. Parameters: type' value' writeStream' content' transportContext
Long Parameter List,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,AddMultipleResourceComponents,The method has 5 parameters. Parameters: conformance' resourcetypes' readhistory' updatecreate' versioning
Long Parameter List,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,AddSingleResourceComponent,The method has 6 parameters. Parameters: conformance' resourcetype' readhistory' updatecreate' versioning' profile
Long Parameter List,Spark.Engine.Service.FhirServiceExtensions,IndexService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\IndexService.cs,IndexService,The method has 5 parameters. Parameters: fhirModel' propIndex' resourceVisitor' elementIndexer' indexStore
Long Identifier,Spark.Engine.ExceptionHandling,FhirGlobalExceptionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\ExceptionHandling\FhirGlobalExceptionHandler.cs,FhirGlobalExceptionHandler,The length of the parameter exceptionResponseMessageFactory is 31.
Long Identifier,Spark.Engine.ExceptionHandling,FhirGlobalExceptionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\ExceptionHandling\FhirGlobalExceptionHandler.cs,,The length of the parameter exceptionResponseMessageFactory is 31.
Long Identifier,Spark.Filters,CompressionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\CompressionHandler.cs,CompressionHandler,The length of the parameter maxDecompressedBodySizeInBytes is 30.
Long Identifier,Spark.Filters,CompressionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\CompressionHandler.cs,,The length of the parameter maxDecompressedBodySizeInBytes is 30.
Long Identifier,Spark.Filters,GZipCompressedContent,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\GzipCompressedContent.cs,GZipCompressedContent,The length of the parameter maxDecompressedBodySizeInBytes is 30.
Long Identifier,Spark.Filters,GZipCompressedContent,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\GzipCompressedContent.cs,,The length of the parameter maxDecompressedBodySizeInBytes is 30.
Long Identifier,Spark.Filters,FhirExceptionFilter,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\FhirExceptionFilter.cs,FhirExceptionFilter,The length of the parameter exceptionResponseMessageFactory is 31.
Long Identifier,Spark.Filters,FhirExceptionFilter,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\FhirExceptionFilter.cs,,The length of the parameter exceptionResponseMessageFactory is 31.
Long Statement,Spark.Engine.Auxiliary,DependencyCoupler,C:\repos\furore-fhir_spark\src\Spark.Engine\Auxiliary\DependencyCoupler.cs,Inject,The length of the statement  "                throw Error.Create(HttpStatusCode.InternalServerError' "Dependency injection error: The type ({0}) you try to instanciate is not registered"' key.Name); " is 152.
Long Statement,Spark.Engine.Auxiliary,LimitedStream,C:\repos\furore-fhir_spark\src\Spark.Engine\Auxiliary\LimitedStream.cs,Write,The length of the statement  "                throw new ArgumentOutOfRangeException("buffer"' String.Format("Adding {0} bytes to the stream would exceed the size limit of {1} bytes."' bytesToBeAdded' sizeLimitInBytes)); " is 173.
Long Statement,Spark.Engine.Auxiliary,XmlSignatureHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Auxiliary\XmlSignatureHelper.cs,VerifySignature,The length of the statement  "            //if (certificate == null) throw new InvalidOperationException("Signature does not contain a X509 certificate public key to verify the signature"); " is 147.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,BuildSegments,The length of the statement  "                    var matchingFhirElements = baseType.FindMembers(MemberTypes.Property' BindingFlags.Instance | BindingFlags.Public' new MemberFilter(IsFhirElement)' segment.Name); " is 162.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,BuildSegments,The length of the statement  "                                        //if (link.propertyName.Equals(feAtt.Name + ModelInfo.FhirCsTypeToString[allowedType]' StringComparison.InvariantCultureIgnoreCase)) " is 132.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,BuildSegments,The length of the statement  "                        //For instance AllergyIntolerance.Event' which is a List<Hl7.Fhir.Model.AllergyIntolerance.AllergyIntoleranceEventComponent> " is 124.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,IsFhirElement,The length of the statement  "                                    //                                        if (link.propertyName.Equals(feAtt.Name + ModelInfo.FhirCsTypeToString[allowedType]' StringComparison.InvariantCultureIgnoreCase)) " is 172.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,IsFhirElement,The length of the statement  "                                    //if (fhirElementName.Equals(feAtt.Name + ModelInfo.FhirCsTypeToString[allowedType]' StringComparison.InvariantCultureIgnoreCase)) " is 130.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,Visit,The length of the statement  "                            //    throw new ArgumentException(string.Format("'{0}' is not a valid property for '{1}'"' next.Name' field.GetType().Name)); " is 125.
Long Statement,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,Visit,The length of the statement  "                            if (subfield != null && next != null && next.Property != null && (next.AllowedType == null || next.AllowedType.IsAssignableFrom(subfield.GetType()))) " is 149.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "                new ModelInfo.SearchParamDefinition { Resource = "Resource"' Name = "_id"' Type = SearchParamType.String' Path = new string[] { "Resource.id" } } " is 145.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "                ' new ModelInfo.SearchParamDefinition { Resource = "Resource"' Name = "_lastUpdated"' Type = SearchParamType.Date' Path = new string[] { "Resource.meta.lastUpdated" } } " is 168.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "                ' new ModelInfo.SearchParamDefinition { Resource = "Resource"' Name = "_profile"' Type = SearchParamType.Token' Path = new string[] { "Resource.meta.profile" } } " is 161.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "                ' new ModelInfo.SearchParamDefinition { Resource = "Resource"' Name = "_security"' Type = SearchParamType.Token' Path = new string[] { "Resource.meta.security" } } " is 163.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "                ' new ModelInfo.SearchParamDefinition { Resource = "Resource"' Name = "_tag"' Type = SearchParamType.Token' Path = new string[] { "Resource.meta.tag" } } " is 153.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //    new SearchParameter { Base = "Resource"' Code = "_id"' Name = "_id"' Type = SearchParamType.String' Xpath = "//id"} " is 121.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //    ' new SearchParameter { Base = "Resource"' Code = "_lastUpdated"' Name = "_lastUpdated"' Type = SearchParamType.Date' Xpath = "//meta/lastUpdated"} " is 153.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //    ' new SearchParameter { Base = "Resource"' Code = "_profile"' Name = "_profile"' Type = SearchParamType.Token' Xpath = "//meta/profile"} " is 142.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //    ' new SearchParameter { Base = "Resource"' Code = "_security"' Name = "_security"' Type = SearchParamType.Token' Xpath = "//meta/security"} " is 145.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //    ' new SearchParameter { Base = "Resource"' Code = "_tag"' Name = "_tag"' Type = SearchParamType.Token' Xpath = "//meta/tag"} " is 130.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            var genericSearchParameters = genericSearchParamDefinitions.Select(spd => createSearchParameterFromSearchParamDefinition(spd)); " is 127.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadGenericSearchParameters,The length of the statement  "            //We have no control over the incoming list of searchParameters (in the constructor)' so these generic parameters may or may not be in there. " is 141.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,createSearchParameterFromSearchParamDefinition,The length of the statement  "            result.Code = def.Name; //CK: SearchParamDefinition has no Code' but in all current SearchParameter resources' name and code are equal. " is 135.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,FindSearchParameters,The length of the statement  "            return SearchParameters.Where(sp => sp.Base == GetResourceTypeForResourceName(resourceName) || sp.Base == ResourceType.Resource); " is 129.
Long Statement,Spark.Engine.Core,FhirModel,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirModel.cs,LoadCompartments,The length of the statement  "            //TODO' CK: You would want to read this with an ArtifactResolver' but since the Hl7.Fhir api doesn't know about CompartmentDefinition yet' that is not possible. " is 160.
Long Statement,Spark.Engine.Core,ResourceVisitor,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ResourceVisitor.cs,VisitByPath,The length of the statement  "                        //TODO: Throw exception (Spark.Exception.NotSupportedException for example)' to be catched higher up and then translated to the OperationOutcome. " is 145.
Long Statement,Spark.Engine.Core,Respond,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Respond.cs,WithMeta,The length of the statement  "                return Respond.WithError(HttpStatusCode.InternalServerError' "Could not retrieve meta. Meta was not present on the resource"); " is 126.
Long Statement,Spark.Engine.Core,Respond,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Respond.cs,NotFound,The length of the statement  "                return Respond.WithError(HttpStatusCode.NotFound' "No {0} resource with id {1} was found."' key.TypeName' key.ResourceId); " is 122.
Long Statement,Spark.Engine.Core,Respond,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Respond.cs,NotFound,The length of the statement  "                return Respond.WithError(HttpStatusCode.NotFound' "There is no {0} resource with id {1}' or there is no version {2}"' key.TypeName' key.ResourceId' key.VersionId); " is 163.
Long Statement,Spark.Engine.Core,FhirPropertyIndex,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirPropertyIndex.cs,LoadSupportedTypesFromAssembly,The length of the statement  "                if (typeof(Resource).IsAssignableFrom(fhirType) || typeof(Element).IsAssignableFrom(fhirType)) //It is derived of Resource or Element' so we should support it. " is 159.
Long Statement,Spark.Engine.Core,FhirPropertyIndex,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirPropertyIndex.cs,CreateFhirPropertyInfo,The length of the statement  "            result.TypedNames = result.AllowedTypes.Select(at => result.PropertyName + findFhirTypeInfo(fti => fti.FhirType == at)?.TypeName.FirstUpper() ?? at.Name).ToList(); " is 163.
Long Statement,Spark.Engine.Core,FhirPropertyIndex,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\FhirPropertyIndex.cs,ExtractReferenceTypes,The length of the statement  "                target.AllowedTypes.AddRange(attReferenceAttribute.Resources.Select(r => _fhirModel.GetTypeForResourceName(r)).Where(at => at != null)); " is 136.
Long Statement,Spark.Core,Error,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Error.cs,NotFound,The length of the statement  "                return NotFound("There is no {0} resource with id {1}' or there is no version {2}"' key.TypeName' key.ResourceId' key.VersionId); " is 129.
Long Statement,Spark.Engine.Extensions,HttpConfigurationFhirExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\HttpConfigurationFhirExtensions.cs,AddFhirExceptionHandling,The length of the statement  "            config.Services.Replace(typeof(IExceptionHandler)' new FhirGlobalExceptionHandler(new ExceptionResponseMessageFactory())); " is 122.
Long Statement,Spark.Engine.Extensions,HttpRequestFhirExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\HttpRequestFhirExtensions.cs,IfMatchVersionId,The length of the statement  "                //    throw Error.Create(HttpStatusCode.BadRequest' "The If-Match (version id) is not properly formatted: '{0}'. You might have forgot the quotes"' request.Headers.IfMatch.ToString()); " is 184.
Long Statement,Spark.Engine.Extensions,SearchParameterExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\SearchParameterExtensions.cs,SetPropertyPath,The length of the statement  "                //A searchparameter always has a Resource as focus' so we don't need the name of the resource to be at the start of the Path. " is 125.
Long Statement,Spark.Engine.Extensions,SearchParameterExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\SearchParameterExtensions.cs,SetPropertyPath,The length of the statement  "                workingPaths = paths.Select<string' string>(pp => StripResourceNameFromStart(pp' searchParameter.Base.GetLiteral())).ToArray(); " is 127.
Long Statement,Spark.Engine.Extensions,SearchParameterExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\SearchParameterExtensions.cs,GetPropertyPath,The length of the statement  "                return xpaths.Select(xp => xpathPattern.ReplaceGroups(xp' new Dictionary<string' string>{ { "separator"' pathSeparator}'{ "root"' String.Empty} })).ToArray(); " is 158.
Long Statement,Spark.Engine.FhirResponseFactory,ConditionalHeaderFhirResponseInterceptor,C:\repos\furore-fhir_spark\src\Spark.Engine\FhirResponseFactory\ConditionalHeaderFhirResponseInterceptor.cs,GetFhirResponse,The length of the statement  "            bool? matchTags = parameters.IfNoneMatchTags.Any() ? parameters.IfNoneMatchTags.Any(t => t == ETag.Create(entry.Key.VersionId).Tag) : (bool?)null; " is 146.
Long Statement,Spark.Filters,CompressionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\CompressionHandler.cs,SendAsync,The length of the statement  "                                Details = new CodeableConcept("http://hl7.org/fhir/ValueSet/operation-outcome"' "MSG_BAD_FORMAT"' string.Format("The Content-Encoding '{0}' is not supported."' encoding))' " is 171.
Long Statement,Spark.Engine.Search,ElementIndexer,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ElementIndexer.cs,ToExpressions,The length of the statement  "            values.Add(new IndexValue("code"' element.Value.Value ? new StringValue(Boolean.TrueString) : new StringValue(Boolean.FalseString))); " is 133.
Long Statement,Spark.Engine.Search,ElementIndexer,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ElementIndexer.cs,ToExpressions,The length of the statement  "                _log.InvalidElement("unknown"' String.Format("Quantity: {0} {1} {2}"' element.Code' element.Unit' element.Value)' ex.Message); " is 126.
Long Statement,Spark.Formatters,HtmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\HtmlFhirFormatter.cs,WriteHTMLOutput,The length of the statement  "                    writer.WriteLine(String.Format("<span style=\"word-wrap: break-word; display:block;\">Type: {0}' {1} of {2}</span>"' resource.Type.ToString()' resource.Entry.Count' resource.Total)); " is 182.
Long Statement,Spark.Formatters,HtmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\HtmlFhirFormatter.cs,WriteHTMLOutput,The length of the statement  "                            writer.WriteLine(String.Format("<a style=\"word-wrap: break-word; display:block;\" href=\"{0}\">{1}</a>"' realurl' visualurl)); " is 127.
Long Statement,Spark.Formatters,HtmlFhirFormatter,C:\repos\furore-fhir_spark\src\Spark.Engine\Formatters\HtmlFhirFormatter.cs,WriteHTMLOutput,The length of the statement  "                                if ((item.Resource as DomainResource).Text != null && !string.IsNullOrEmpty((item.Resource as DomainResource).Text.Div)) " is 120.
Long Statement,Spark.Engine.Search.Model,ActualModifier,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Model\Modifier.cs,TryParseMissing,The length of the statement  "                        throw Error.Argument("rawModifier"' "For the :missing modifier' only values '{0}' and '{1}' are allowed"' MISSINGTRUE' MISSINGFALSE); " is 133.
Long Statement,Spark.Engine.Search.Model,ReverseInclude,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Model\ReverseInclude.cs,Parse,The length of the statement  "                throw new ArgumentException(String.Format("reverseInclude '{0}' does not adhere to the format 'ResourceType.searchParameter[.searchParameter]*'"' reverseInclude)); " is 163.
Long Statement,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,FindPublicProperties,The length of the statement  "            // return t.GetTypeInfo().DeclaredProperties.Union(t.GetTypeInfo().BaseType.GetTypeInfo().DeclaredProperties); //(BindingFlags.Instance | BindingFlags.Public); " is 159.
Long Statement,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,GetDefaultPublicConstructor,The length of the statement  "            return t.GetTypeInfo().DeclaredConstructors.FirstOrDefault(s => s.GetParameters().Length == 0 && s.IsPublic && !s.IsStatic); " is 124.
Long Statement,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,ImplementsGenericDefinition,The length of the statement  "			if (!genericInterfaceDefinition.GetTypeInfo().IsInterface || !genericInterfaceDefinition.GetTypeInfo().IsGenericTypeDefinition) " is 127.
Long Statement,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,ImplementsGenericDefinition,The length of the statement  "				throw Error.Argument("genericInterfaceDefinition"' "'{0}' is not a generic interface definition."' genericInterfaceDefinition.Name); " is 132.
Long Statement,Spark.Search.Support,ReflectionHelper,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Support\ReflectionHelper.cs,ImplementsGenericDefinition,The length of the statement  "               throw Error.Argument("genericInterfaceDefinition"' "'{0}' is not a generic interface definition."'genericInterfaceDefinition.Name); " is 131.
Long Statement,Spark.Search,Criterium,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\Criterium.cs,ToString,The length of the statement  "                    return result + SearchParams.SEARCH_CHAINSEPARATOR + " ** INVALID CHAIN OPERATION ** Chain operation must have a Criterium as operand"; " is 135.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,GetSparkConformance,The length of the statement  "            conformance.AddAllCoreResources(readhistory: true' updatecreate: true' versioning: Conformance.ResourceVersionPolicy.VersionedUpdate); " is 134.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,GetSparkConformance,The length of the statement  "            conformance.AddOperation("Fetch Patient Record"' new ResourceReference() { Url = localhost.Absolute(new Uri("OperationDefinition/Patient-everything"' UriKind.Relative)) }); " is 172.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,GetSparkConformance,The length of the statement  "            conformance.AddOperation("Generate a Document"' new ResourceReference() { Url = localhost.Absolute(new Uri("OperationDefinition/Composition-document"' UriKind.Relative)) }); " is 173.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ConformanceBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\ConformanceBuilder.cs,GetSparkConformance,The length of the statement  "            conformance.Description = "This FHIR SERVER is a reference Implementation server built in C# on HL7.Fhir.Core (nuget) by Furore and others"; " is 140.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ResourceManipulationOperationFactory,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\DeleteManipulationOperation.cs,GetManipulationOperation,The length of the statement  "            Bundle.HTTPVerb method = localhost.ExtrapolateMethod(entryComponent' null); //CCR: is key needed? Isn't method required? " is 120.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,ResourceManipulationOperationFactory,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\DeleteManipulationOperation.cs,GetManipulationOperation,The length of the statement  "            return builders[method](entryComponent.Resource' key' service' searchUri != null? ParseQueryString(localhost' searchUri): null); " is 128.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,FhirExtensionsBuilder,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\FhirExtensionsBuilder.cs,GetPaging,The length of the statement  "                return new PagingService(snapshotStore' new SnapshotPaginationProvider(fhirStore' new Transfer(storeGenerator' new Localhost(baseUri))' new Localhost(baseUri)' new SnapshotPaginationCalculator())); " is 197.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,IndexService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\IndexService.cs,MakeContainedReferencesUnique,The length of the statement  "            //We may change id's of contained resources' and don't want that to influence other code. So we make a copy for our own needs. " is 126.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,IndexService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\IndexService.cs,MakeContainedReferencesUnique,The length of the statement  "            //Resource result = (dynamic)resource.DeepCopy(); //CK: This is how it should work' but unfortunately there is an error in the API (#146). So we invent a method of our own.  " is 172.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,IndexService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\IndexService.cs,AddMetaParts,The length of the statement  "            entry.Values.Add(new IndexValue(IndexFieldNames.SELFLINK' new StringValue(key.ToUriString()))); //CK TODO: This is actually Mongo-specific. Move it to Spark.Mongo' but then you will have to communicate the key to the MongoIndexMapper. " is 234.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,IndexService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\IndexService.cs,AddMetaParts,The length of the statement  "            //var fdt = resource.Meta?.LastUpdated != null ? new FhirDateTime(resource.Meta.LastUpdated.Value) : FhirDateTime.Now(); " is 120.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,PostManipulationOperation,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\PostManipulationOperation.cs,ComputeEntries,The length of the statement  "                           string.Format( "Multiple matches found when trying to resolve conditional create. Client's criteria were not selective enough.{0}"'  " is 131.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,PutManipulationOperation,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\PutManipulationOperation.cs,ComputeEntries,The length of the statement  "                        throw new SparkException(HttpStatusCode.PreconditionFailed' "Multiple matches found when trying to resolve conditional update. Client's criteria were not selective enough"); " is 173.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,SearchService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\SearchService.cs,CreateSnapshot,The length of the statement  "            return Snapshot.Create(Bundle.BundleType.Searchset' selflink' keys' sort' count' searchCommand.Include' searchCommand.RevInclude); " is 130.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,SnapshotPaginationCalculator,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\SnapshotPaginationCalculator.cs,GetKeysForPage,The length of the statement  "            return keysInBundle.Take(snapshot.CountParam ?? DEFAULT_PAGE_SIZE).Select(k => (IKey)Key.ParseOperationPath(k)).ToList(); " is 121.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,SnapshotPaginationProvider,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\SnapshotPaginationProvider.cs,GetIncludesFor,The length of the statement  "            IList<IKey> identifiers = entries.GetResources().GetReferences(paths).Distinct().Select(k => (IKey)Key.ParseOperationPath(k)).ToList(); " is 135.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,TransactionService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\TransactionService.cs,MergeFhirResponse,The length of the statement  "            //Currently we assume that all FhirResponses from one ResourceManipulationOperation should be equivalent - kind of hackish " is 122.
Long Statement,Spark.Engine.Service.FhirServiceExtensions,TransactionService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\TransactionService.cs,HandleTransaction,The length of the statement  "            foreach (var operation in bundle.Entry.Select(e => ResourceManipulationOperationFactory.GetManipulationOperation(e' localhost' searchService))) " is 143.
Long Statement,Spark.Engine.Service,FhirService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirService.cs,ConditionalDelete,The length of the statement  "            return transactionService.HandleTransaction(ResourceManipulationOperationFactory.CreateDelete(key' searchStore' _params)' " is 121.
Long Statement,Spark.Service,Export,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Export.cs,ExternalizeReferences,The length of the statement  "                    //((FhirUri)element).Value = LocalizeReference(new Uri(((FhirUri)element).Value' UriKind.RelativeOrAbsolute)).ToString(); " is 121.
Long Statement,Spark.Service,Import,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Import.cs,InternalizeReferences,The length of the statement  "                    //((FhirUri)element).Value = LocalizeReference(new Uri(((FhirUri)element).Value' UriKind.RelativeOrAbsolute)).ToString(); " is 121.
Long Statement,Spark.Service,Import,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Import.cs,GetReplacement,The length of the statement  "            //CCR: To check if this is still needed. Since we don't store the version in the mapper' do we ever need to replace the key multiple times?  " is 139.
Long Statement,Spark.Service,Import,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Import.cs,GetReplacement,The length of the statement  "                throw Error.Create(HttpStatusCode.Conflict' "This reference does not point to a resource in the server or the current transaction: {0}"' localkey); " is 147.
Long Statement,Spark.Service,ServiceListener,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\ServiceListener.cs,Inform,The length of the statement  "            // todo: what we want is not to send localhost to the listener' but to add the Resource.Base. But that is not an option in the current infrastructure. " is 150.
Long Statement,Spark.Service,Validate,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Validate.cs,IsResourceIdEqual,The length of the statement  "                throw Error.BadRequest("The Id in the request '{0}' is not the same is the Id in the resource '{1}'."' key.ResourceId' resource.Id); " is 132.
Long Statement,Spark.Service,Validate,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Validate.cs,IsSameVersion,The length of the statement  "                throw Error.Create(HttpStatusCode.Conflict' "The current resource on this server '{0}' doesn't match the required version '{1}'"' orignal' replacement); " is 152.
Long Statement,Spark.Service,Validate,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Validate.cs,ValidateAllKeysUnique,The length of the statement  "            //    throw new SparkException("There are entries with duplicate SelfLinks or SelfLinks that are the same as an entry.Id: " + s); " is 129.
Complex Conditional,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,Visit,The conditional expression  "subfield != null && next != null && next.Property != null && (next.AllowedType == null || next.AllowedType.IsAssignableFrom(subfield.GetType()))"  is complex.
Complex Conditional,Spark.Engine.Extensions,EntryExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\InteractionExtensions.cs,ExtractKey,The conditional expression  "key != null && string.IsNullOrEmpty(key.ResourceId)                  && entry.FullUrl != null && UriHelper.IsTemporaryUri(entry.FullUrl)"  is complex.
Complex Conditional,Spark.Filters,CompressionHandler,C:\repos\furore-fhir_spark\src\Spark.Engine\Filters\CompressionHandler.cs,SendAsync,The conditional expression  "response == null                  || response.Content == null                  || response.Content.Headers.ContentType == null                  || mediaTypeBlacklist.Any(s => response.Content.Headers.ContentType.MediaType.StartsWith(s))"  is complex.
Complex Conditional,Spark.Engine.Service.FhirServiceExtensions,TransactionService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirServiceExtensions\TransactionService.cs,MergeFhirResponse,The conditional expression  "(response.Key != null && previousResponse.Key== null) || (response.Key == null && previousResponse.Key != null)"  is complex.
Magic Number,Spark.Engine.Core,Chain,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\ElementQuery.cs,SplitPath,The following statement contains a magic number: while (path.Length > 0)                  {                      int firstBracket = path.IndexOf('[');                      int firstDot = path.IndexOf('.');                      if (firstDot == -1)                      {                          chain.Add((string)path);                          break;                      }                      if (firstBracket > -1 && firstBracket < firstDot)                      {                          int endBracket = path.IndexOf(']');                          chain.Add(path.Substring(0' endBracket + 1)); //+1 to include the bracket itself.                          path = path.Remove(0' Math.Min(path.Length' endBracket + 2)); //+2 for the bracket itself and the dot after the bracket                      }                      else                      {                          chain.Add(path.Substring(0' firstDot));                          path = path.Remove(0' firstDot + 1); //+1 to remove the dot itself.                      }                  }
Magic Number,Spark.Engine.Core,Key,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Key.cs,ParseOperationPath,The following statement contains a magic number: if (segments.Length >= 2) key.ResourceId = segments[1];
Magic Number,Spark.Engine.Core,Key,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Key.cs,ParseOperationPath,The following statement contains a magic number: if (segments.Length == 4 && segments[2] == "_history") key.VersionId = segments[3];
Magic Number,Spark.Engine.Core,Key,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Key.cs,ParseOperationPath,The following statement contains a magic number: if (segments.Length == 4 && segments[2] == "_history") key.VersionId = segments[3];
Magic Number,Spark.Engine.Core,Key,C:\repos\furore-fhir_spark\src\Spark.Engine\Core\Key.cs,ParseOperationPath,The following statement contains a magic number: if (segments.Length == 4 && segments[2] == "_history") key.VersionId = segments[3];
Magic Number,Spark.Engine.Core,KeyExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\KeyExtensions.cs,CreateFromLocalReference,The following statement contains a magic number: if (parts.Length == 2)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else if (parts.Length == 4)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else throw new ArgumentException("Could not create key from local-reference: " + reference);
Magic Number,Spark.Engine.Core,KeyExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\KeyExtensions.cs,CreateFromLocalReference,The following statement contains a magic number: if (parts.Length == 2)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else if (parts.Length == 4)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else throw new ArgumentException("Could not create key from local-reference: " + reference);
Magic Number,Spark.Engine.Core,KeyExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\KeyExtensions.cs,CreateFromLocalReference,The following statement contains a magic number: if (parts.Length == 2)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else if (parts.Length == 4)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else throw new ArgumentException("Could not create key from local-reference: " + reference);
Magic Number,Spark.Engine.Core,KeyExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\KeyExtensions.cs,CreateFromLocalReference,The following statement contains a magic number: if (parts.Length == 2)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else if (parts.Length == 4)              {                  return Key.Create(parts[0]' parts[1]' parts[3]);              }              else throw new ArgumentException("Could not create key from local-reference: " + reference);
Magic Number,Spark.Engine.Extensions,FhirDateTimeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\FhirDateTimeExtensions.cs,Precision,The following statement contains a magic number: return (FhirDateTimePrecision)Math.Min(fdt.Value.Length' 18);
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: int range = ((int)code % 100);
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: switch(range)              {                  case 100:                  case 200: return OperationOutcome.IssueSeverity.Information;                  case 300: return OperationOutcome.IssueSeverity.Warning;                  case 400: return OperationOutcome.IssueSeverity.Error;                  case 500: return OperationOutcome.IssueSeverity.Fatal;                  default: return OperationOutcome.IssueSeverity.Information;              }
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: switch(range)              {                  case 100:                  case 200: return OperationOutcome.IssueSeverity.Information;                  case 300: return OperationOutcome.IssueSeverity.Warning;                  case 400: return OperationOutcome.IssueSeverity.Error;                  case 500: return OperationOutcome.IssueSeverity.Fatal;                  default: return OperationOutcome.IssueSeverity.Information;              }
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: switch(range)              {                  case 100:                  case 200: return OperationOutcome.IssueSeverity.Information;                  case 300: return OperationOutcome.IssueSeverity.Warning;                  case 400: return OperationOutcome.IssueSeverity.Error;                  case 500: return OperationOutcome.IssueSeverity.Fatal;                  default: return OperationOutcome.IssueSeverity.Information;              }
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: switch(range)              {                  case 100:                  case 200: return OperationOutcome.IssueSeverity.Information;                  case 300: return OperationOutcome.IssueSeverity.Warning;                  case 400: return OperationOutcome.IssueSeverity.Error;                  case 500: return OperationOutcome.IssueSeverity.Fatal;                  default: return OperationOutcome.IssueSeverity.Information;              }
Magic Number,Spark.Engine.Extensions,OperationOutcomeExtensions,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\OperationOutcomeExtensions.cs,IssueSeverityOf,The following statement contains a magic number: switch(range)              {                  case 100:                  case 200: return OperationOutcome.IssueSeverity.Information;                  case 300: return OperationOutcome.IssueSeverity.Warning;                  case 400: return OperationOutcome.IssueSeverity.Error;                  case 500: return OperationOutcome.IssueSeverity.Fatal;                  default: return OperationOutcome.IssueSeverity.Information;              }
Magic Number,Spark.Engine.Extensions,UriUtils,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\UriParamExtensions.cs,SplitParam,The following statement contains a magic number: string[] a = s.Split(new char[] { '=' }' 2);
Magic Number,Spark.Engine.Extensions,UriUtils,C:\repos\furore-fhir_spark\src\Spark.Engine\Extensions\UriParamExtensions.cs,SplitParams,The following statement contains a magic number: return query.TrimStart('?').Split(new[] { '&' }' 2' StringSplitOptions.RemoveEmptyEntries).Select(SplitParam).ToList();
Magic Number,Spark.Engine.Logging,SparkEngineEventSource,C:\repos\furore-fhir_spark\src\Spark.Engine\Logging\SparkEngineEventSource.cs,UnsupportedFeature,The following statement contains a magic number: this.WriteEvent(2' feature' methodName);
Magic Number,Spark.Engine.Logging,SparkEngineEventSource,C:\repos\furore-fhir_spark\src\Spark.Engine\Logging\SparkEngineEventSource.cs,InvalidElement,The following statement contains a magic number: this.WriteEvent(4' message' resourceID' element);
Magic Number,Spark.Engine.Search.Model,ReverseInclude,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\Model\ReverseInclude.cs,Parse,The following statement contains a magic number: if (match.Groups.Count < 2)              {                  throw new ArgumentException(String.Format("reverseInclude '{0}' does not adhere to the format 'ResourceType.searchParameter[.searchParameter]*'"' reverseInclude));              }
Magic Number,Spark.Search,Criterium,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\Criterium.cs,pathToKeyModifTuple,The following statement contains a magic number: string modifier = pair.Length == 2 ? pair[1] : null;
Magic Number,Spark.Search,QuantityValue,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\QuantityValue.cs,Parse,The following statement contains a magic number: if (triple.Length != 3)                  throw Error.Argument("text"' "Quantity needs to have three parts separated by '|'");
Magic Number,Spark.Search,QuantityValue,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\QuantityValue.cs,Parse,The following statement contains a magic number: if (triple[2] == String.Empty)                  throw new FormatException("Quantity needs to specify a unit");
Magic Number,Spark.Search,QuantityValue,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\QuantityValue.cs,Parse,The following statement contains a magic number: var unit = StringValue.UnescapeString(triple[2]);
Magic Number,Spark.Search,TokenValue,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\TokenValue.cs,Parse,The following statement contains a magic number: if (pair.Length > 2)                  throw Error.Argument("text"' "Token cannot have more than two parts separated by '|'");
Magic Number,Spark.Search,TokenValue,C:\repos\furore-fhir_spark\src\Spark.Engine\Search\ValueExpressionTypes\TokenValue.cs,Parse,The following statement contains a magic number: bool hasNamespace = pair.Length == 2;
Magic Number,Spark.Engine.Service,FhirService,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\FhirService.cs,ValidateOperation,The following statement contains a magic number: if (outcome == null)                  return Respond.WithCode(HttpStatusCode.OK);              else                  return Respond.WithResource(422' outcome);
Magic Number,Spark.Service,Validate,C:\repos\furore-fhir_spark\src\Spark.Engine\Service\Validate.cs,ResourceId,The following statement contains a magic number: if (string.IsNullOrEmpty(resourceId))              {                  throw Error.BadRequest("Logical ID is empty");              }              else if (!Id.IsValidValue(resourceId))              {                  throw Error.BadRequest(String.Format("{0} is not a valid value for an id"' resourceId));              }              else if (resourceId.Length > 64)              {                      throw Error.BadRequest("Logical ID is too long.");                }
