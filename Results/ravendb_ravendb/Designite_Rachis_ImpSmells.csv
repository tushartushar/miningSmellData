Implementation smell,Namespace,Class,File,Method,Description
Long Method,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The method has 139 lines of code.
Long Method,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The method has 138 lines of code.
Complex Method,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,Cyclomatic complexity of the method is 10
Complex Method,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,Cyclomatic complexity of the method is 16
Complex Method,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,Cyclomatic complexity of the method is 10
Complex Method,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,Cyclomatic complexity of the method is 10
Complex Method,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,Cyclomatic complexity of the method is 18
Complex Method,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,EventLoop,Cyclomatic complexity of the method is 8
Long Parameter List,Rachis.Transport,HttpRaftRequest,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpRaftRequest.cs,HttpRaftRequest,The method has 5 parameters. Parameters: nodeConnection' url' httpMethod' getConnection' cancellationToken
Long Parameter List,Rachis.Transport,InMemoryTransportHub,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\InMemoryTransportHub.cs,AddToQueue,The method has 5 parameters. Parameters: src' dest' message' stream' evenIfDisconnected
Long Identifier,Rachis.Behaviors,FollowerStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\FollowerStateBehavior.cs,,The length of the parameter _currentTermWhenWeBecameFollowers is 33.
Long Identifier,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,,The length of the parameter _disposedCancellationTokenSource is 32.
Long Identifier,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,,The length of the parameter _stopHeartbeatCancellationTokenSource is 37.
Long Identifier,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,,The length of the parameter _eventLoopCancellationTokenSource is 33.
Long Identifier,Rachis,RaftEngineOptions,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngineOptions.cs,,The length of the parameter DefaultMaxLogLengthBeforeCompaction is 35.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got a disconnection notification message outside my cluster topology (id: {0})' ignoring"' req.ClusterTopologyId); " is 125.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                    Message = "Cannot accept message from outside my topology. My cluster topology id is: " + Engine.CurrentTopology.TopologyId' " is 124.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Received RequestVoteRequest from a node that isn't a voting member in the cluster: {0}' rejecting"' req.From); " is 121.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                    Message = String.Format("Term or Index do not match the ones on this node. Cannot install snapshot. (CurrentTerm = {0}' req.Term = {1}' LastLogEntry index = {2}' req.Index = {3}"' " is 179.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                    Message = "Cannot accept append entries from a node outside my cluster. My topology id is: " + Engine.CurrentTopology.TopologyId' " is 129.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                    "Rejecting append entries because msg previous term {0} is not the same as the persisted current term {1} at log index {2}"' " is 124.
Long Statement,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The length of the statement  "                        throw new InvalidOperationException(@"Log entry that is marked with IsTopologyChange should be of type TopologyChangeCommand. " is 125.
Long Statement,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,Handle,The length of the statement  "                    Message = "Cannot install snapshot because the cluster topology id doesn't match' mine is: " + Engine.CurrentTopology.TopologyId' " is 129.
Long Statement,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,Handle,The length of the statement  "            _log.Info("Received InstallSnapshotRequest from {0} until term {1} / {2}"' req.From' req.LastIncludedTerm' req.LastIncludedIndex); " is 130.
Long Statement,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,Handle,The length of the statement  "                    _log.Warn(string.Format("Failed to install snapshot term {0} index {1}"' req.LastIncludedIndex' req.LastIncludedIndex)' e); " is 123.
Long Statement,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,HandleTimeout,The length of the statement  "            _log.Info("Received timeout during installation of a snapshot. Doing nothing' since the node should finish receiving snapshot before it could change into candidate"); " is 166.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,StartElection,The length of the statement  "            if (_wonTrialElection || _termIncreaseMightGetMyVote) // only in the real election (or if we have to)' we increment the current term  " is 132.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got a request vote response message outside my cluster topology (id: {0})' ignoring"' resp.ClusterTopologyId); " is 121.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,The length of the statement  "            if (resp.TrialOnly && _wonTrialElection) // note that we can't get a vote for real election when we get a trail' because the terms would be different " is 149.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got a vote for trial only from {0} but we already won the trial election for this round' ignoring"' resp.From); " is 122.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Not enough votes for leadership' votes = {0}"' _votesForMyLeadership.Any() ? string.Join("' "' _votesForMyLeadership) : "empty"); " is 140.
Long Statement,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Won trial election with {0} votes from {1}' now running for real"' _votesForMyLeadership.Count' string.Join("' "' _votesForMyLeadership)); " is 149.
Long Statement,Rachis.Behaviors,FollowerStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\FollowerStateBehavior.cs,HandleTimeout,The length of the statement  "                _log.Info("Not a leader material' can't become a candidate. (This will change the first time we'll get a append entries request)."); " is 132.
Long Statement,Rachis.Behaviors,FollowerStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\FollowerStateBehavior.cs,HandleTimeout,The length of the statement  "                _log.Info("Got timeout in follower mode in term {0}' but we are in avoid leadership mode following a step down' so we'll let this one slide. Next time' I'm going to be the leader again!"'  " is 187.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,SendEntriesToPeer,The length of the statement  "                _log.Debug("Sending {0:#'#;;0} entries to {1} (PrevLogEntry: Term = {2} Index = {3})."' entries.Length' peer' prevLogEntry.Term' prevLogEntry.Index); " is 149.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,HandleTimeout,The length of the statement  "                    "Couldn't commit an entry on the cluster (current index: {1}' cluster quorum latency: {0}ms)' stepping down as the leader."' " is 124.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got an append entries response message outside my cluster topology (id: {0})' ignoring"' resp.ClusterTopologyId); " is 124.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got an append entries response message outside my cluster topology (id: {0})' ignoring"' resp.ClusterTopologyId); " is 124.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                    _log.Debug("Received CanInstallSnapshotResponse(Success=false) from {0}' Term = {1}' Index = {2}' updating and will try again"' " is 127.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                    _log.Debug("Received CanInstallSnapshotResponse(IsCurrentlyInstalling=false) from {0}' Term = {1}' Index = {2}' will retry when it is done"' " is 140.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                _log.Info("Got an append entries response message outside my cluster topology (id: {0})' ignoring"' resp.ClusterTopologyId); " is 124.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Handle,The length of the statement  "                    _log.Debug("maxIndexOnCurrentQuorum = {0} is from term {1} while this leader is on term {2}' cannot commit until the quorum index point to an entry in the leader term"'  " is 168.
Long Statement,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,PromoteNodeToVoter,The length of the statement  "                    "Node {0} is a promotable node' and it has caught up to the current cluster commit index' but we are currently updating the topology' will try again later"' " is 156.
Long Statement,Rachis.Behaviors,SteppingDownStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SteppingDownStateBehavior.cs,HandleTimeout,The length of the statement  "                _log.Info("Step down has aborted after {0} because this is greater than the max step down time"' _stepdownDuration.Elapsed); " is 124.
Long Statement,Rachis,RaftEngineStatistics,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngineStatistics.cs,ReportCommitIndex,The length of the statement  "                CommitTimes.LimitedSizeEnqueue(new CommitInformation() { AppendTime = time' CommitDurationInSeconds = duration' Index = index } " is 127.
Long Statement,Rachis,JsonCommandSerializer,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\JsonCommandSerializer.cs,Deserialize,The length of the statement  "                    throw new InvalidOperationException("Failed to deserialize command. This is not supposed to happen and it is probably a bug"'e); " is 128.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,RemoveFromClusterAsync,The length of the statement  "                throw new InvalidOperationException("You cannot remove the current node from the cluster' step down this node and then remove it from the new leader"); " is 151.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,RemoveFromClusterAsync,The length of the statement  "                _currentTopology.AllVotingNodes.Where(x => string.Equals(x.Name' node.Name' StringComparison.OrdinalIgnoreCase) == false)' " is 122.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,RemoveFromClusterAsync,The length of the statement  "                _currentTopology.NonVotingNodes.Where(x => string.Equals(x.Name' node.Name' StringComparison.OrdinalIgnoreCase) == false)' " is 122.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,RemoveFromClusterAsync,The length of the statement  "                _currentTopology.PromotableNodes.Where(x => string.Equals(x.Name' node.Name' StringComparison.OrdinalIgnoreCase) == false) " is 122.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,ModifyTopology,The length of the statement  "                throw new InvalidOperationException("No log entry for committed for index " + CommitIndex + "' this is probably a brand new cluster with no committed entries or a serious problem"); " is 181.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,ModifyTopology,The length of the statement  "                throw new InvalidOperationException("Cannot modify the cluster topology when the committed index " + CommitIndex + " is in term " + logEntry.Term + " but the current term is " + " is 177.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,ModifyTopology,The length of the statement  "                                                    PersistentState.CurrentTerm + ". Wait until the leader finishes committing entries from the current term and try again"); " is 121.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,CommitTopologyChange,The length of the statement  "                    _log.Debug("This node is being removed from topology' setting its state to follower' it will be idle until a leader will join it to the cluster again"); " is 152.
Long Statement,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,CommitTopologyChange,The length of the statement  "                        tcc.Previous == null ? "' Previous topology was null - perhaps it is setting topology for the first time?" : String.Empty); " is 123.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Stream,The length of the statement  "                    string.Format("raft/installSnapshot?term={0}&lastIncludedIndex={1}&lastIncludedTerm={2}&from={3}&topology={4}&clusterTopologyId={5}"' " is 133.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Stream,The length of the statement  "                        req.Term' req.LastIncludedIndex' req.LastIncludedTerm' req.From' Uri.EscapeDataString(JsonConvert.SerializeObject(req.Topology))' req.ClusterTopologyId); " is 153.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,HandleUnauthorizedResponseAsync,The length of the statement  "            return await GetAuthenticator(nodeConnectionInfo).DoOAuthRequestAsync(nodeConnectionInfo.Uri.AbsoluteUri' oauthSource' nodeConnectionInfo.ApiKey).ConfigureAwait(false); " is 168.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,AssertUnauthorizedCredentialSupportWindowsAuth,The length of the statement  "            if (authHeaders == null || (authHeaders.ToString().Contains("NTLM") == false && authHeaders.ToString().Contains("Negotiate") == false)) " is 135.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,AssertUnauthorizedCredentialSupportWindowsAuth,The length of the statement  "                    "Attempted to connect to a RavenDB Server that requires authentication using Windows credentials'" + Environment.NewLine " is 120.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,AssertForbiddenCredentialSupportWindowsAuth,The length of the statement  "                    "Attempted to connect to a RavenDB Server that requires authentication using Windows credentials' but the specified server does not support Windows authentication." + " is 166.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                var requestUri = string.Format("raft/appendEntries?term={0}&leaderCommit={1}&prevLogTerm={2}&prevLogIndex={3}&entriesCount={4}&from={5}&clusterTopologyId={6}"' " is 159.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                var requestUri = string.Format("raft/canInstallSnapshot?term={0}&index={1}&from={2}&clusterTopologyId={3}"' req.Term' req.Index' " is 128.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                        _log.Warn("Error checking if can install snapshot to {0}. Status: {1}\r\n{2}"' dest.Name' httpResponseMessage.StatusCode' reply); " is 129.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                var requestUri = string.Format("raft/requestVote?term={0}&lastLogIndex={1}&lastLogTerm={2}&trialOnly={3}&forcedElection={4}&from={5}&clusterTopologyId={6}"' " is 156.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                var requestUri = string.Format("raft/timeoutNow?term={0}&from={1}&clusterTopologyId={2}"' req.Term' req.From' req.ClusterTopologyId); " is 133.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                        _log.Warn("Error appending entries to {0}. Status: {1}\r\n{2}"' dest.Name' httpResponseMessage.StatusCode' httpResponseMessage' reply); " is 135.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                var requestUri = string.Format("raft/disconnectFromCluster?term={0}&from={1}&clusterTopologyId={2}"' req.Term' req.From' req.ClusterTopologyId); " is 144.
Long Statement,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Send,The length of the statement  "                        _log.Warn("Error sending disconnecton notification to {0}. Status: {1}\r\n{2}"' dest.Name' httpResponseMessage.StatusCode' httpResponseMessage' reply); " is 151.
Long Statement,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,Equals,The length of the statement  "            return Equals(Uri' other.Uri) && string.Equals(Name' other.Name) && string.Equals(Username' other.Username) && string.Equals(Password' other.Password) && string.Equals(Domain' other.Domain) && string.Equals(ApiKey' other.ApiKey); " is 229.
Long Statement,Rachis.Storage,PersistentState,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Storage\PersistentState.cs,ClusterBootstrap,The length of the statement  "                new Topology(Guid.NewGuid()' new[] { options.SelfConnection }' Enumerable.Empty<NodeConnectionInfo>()' Enumerable.Empty<NodeConnectionInfo>())' " is 143.
Complex Conditional,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,Handle,The conditional expression  "State == RaftEngineState.Follower && req.ForcedElection == false &&                  (timeSinceLastHeartbeat < Timeout) && Engine.CurrentLeader != null"  is complex.
Virtual Method Call from Constructor,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,AbstractRaftStateBehavior,The constructor "AbstractRaftStateBehavior" calls a virtual method "Reply".
Virtual Method Call from Constructor,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,AbstractRaftStateBehavior,The constructor "AbstractRaftStateBehavior" calls a virtual method "Reply".
Virtual Method Call from Constructor,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,AbstractRaftStateBehavior,The constructor "AbstractRaftStateBehavior" calls a virtual method "Reply".
Virtual Method Call from Constructor,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,AbstractRaftStateBehavior,The constructor "AbstractRaftStateBehavior" calls a virtual method "Handle".
Virtual Method Call from Constructor,Rachis.Behaviors,AbstractRaftStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\AbstractRaftStateBehavior.cs,AbstractRaftStateBehavior,The constructor "AbstractRaftStateBehavior" calls a virtual method "Reply".
Empty Catch Block,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Dispose,The method has an empty catch block.
Empty Catch Block,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Dispose,The method has an empty catch block.
Magic Number,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,SnapshotInstallationStateBehavior,The following statement contains a magic number: Timeout = _random.Next(engine.Options.ElectionTimeout / 2' engine.Options.ElectionTimeout);
Magic Number,Rachis.Behaviors,SnapshotInstallationStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\SnapshotInstallationStateBehavior.cs,HandleTimeout,The following statement contains a magic number: Timeout = _random.Next(Engine.Options.ElectionTimeout / 2' Engine.Options.ElectionTimeout);
Magic Number,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,CandidateStateBehavior,The following statement contains a magic number: Timeout = _random.Next(engine.Options.ElectionTimeout / 2' engine.Options.ElectionTimeout);
Magic Number,Rachis.Behaviors,CandidateStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\CandidateStateBehavior.cs,HandleTimeout,The following statement contains a magic number: Timeout = _random.Next(Engine.Options.ElectionTimeout / 2' Engine.Options.ElectionTimeout);
Magic Number,Rachis.Behaviors,FollowerStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\FollowerStateBehavior.cs,FollowerStateBehavior,The following statement contains a magic number: Timeout = random.Next(engine.Options.ElectionTimeout / 2' engine.Options.ElectionTimeout);
Magic Number,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,LeaderStateBehavior,The following statement contains a magic number: Timeout = engine.Options.ElectionTimeout / 2;
Magic Number,Rachis.Behaviors,LeaderStateBehavior,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Behaviors\LeaderStateBehavior.cs,Dispose,The following statement contains a magic number: try              {                  _heartbeatTask.Wait(Timeout * 2);              }              catch (OperationCanceledException)              {                  //expected              }              catch (AggregateException e)              {                  if (e.InnerException is OperationCanceledException == false)                      throw;              }              finally              {                  _log.Info("Disposing leader behavior took {0:#'#;;0} ms"' sp.ElapsedMilliseconds);                  Command result;                  TimeoutException timeoutException = null;                  while (_pendingCommands.TryDequeue(out result))                  {                      if (result.Completion != null)                      {                          timeoutException = timeoutException ??                                             new TimeoutException(                                                 "Couldn't commit this command after the timeout has expired' aborting (note that this still might get commited)");                          result.Completion.TrySetException(timeoutException);                      }                  }              }
Magic Number,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,SnapshotAndTruncateLog,The following statement contains a magic number: var task = new Task(() =>              {                  OnSnapshotCreationStarted();                  try                  {                      var currentTerm = PersistentState.CurrentTerm;                      _log.Info("Starting to create snapshot up to {0} in term {1}"' to' currentTerm);                      StateMachine.CreateSnapshot(to' currentTerm' allowFurtherModifications);                      PersistentState.MarkSnapshotFor(to' currentTerm'                          Options.MaxLogLengthBeforeCompaction - (Options.MaxLogLengthBeforeCompaction/8));                        _log.Info("Finished creating snapshot for {0} in term {1}"' to' currentTerm);                        OnSnapshotCreationEnded();                  }                  catch (Exception e)                  {                      _log.Error("Failed to create snapshot"' e);                      OnSnapshotCreationError(e);                  }                  finally                  {                      Interlocked.Exchange(ref _snapshottingTask' null);                  }              });
Magic Number,Rachis,RaftEngine,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\RaftEngine.cs,Dispose,The following statement contains a magic number: try              {                  _eventLoopTask.Wait(1000);              }              catch (Exception e)              {                  exceptions.Add(e);              }
Magic Number,Rachis.Transport,HttpRaftRequest,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpRaftRequest.cs,RunWithAuthRetry,The following statement contains a magic number: while (true)              {                  if (await requestOperation().ConfigureAwait(false))                      return;                    if (++retries >= 3)                      return;                    if (Response.StatusCode == HttpStatusCode.Forbidden)                  {                      await HandleForbiddenResponseAsync(Response).ConfigureAwait(false);                      return;                  }                    if (await HandleUnauthorizedResponseAsync(Response).ConfigureAwait(false) == false)                      return;              }
Magic Number,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,MaybeIgnoreFrequentRequestsIfServerDown,The following statement contains a magic number: _connectionFailureCounts.AddOrUpdate(node' 0' (_' connectionFailureCount) =>              {                  if (connectionFailureCount <= 20)                      return connectionFailureCount;                    if (connectionFailureCount % 20 == 0)                      return connectionFailureCount;                    ignore = true;                  return connectionFailureCount + 1;              });
Magic Number,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,MaybeIgnoreFrequentRequestsIfServerDown,The following statement contains a magic number: _connectionFailureCounts.AddOrUpdate(node' 0' (_' connectionFailureCount) =>              {                  if (connectionFailureCount <= 20)                      return connectionFailureCount;                    if (connectionFailureCount % 20 == 0)                      return connectionFailureCount;                    ignore = true;                  return connectionFailureCount + 1;              });
Magic Number,Rachis.Transport,EntriesContent,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Write7BitEncodedInt64,The following statement contains a magic number: while (v >= 128)                  {                      stream.WriteByte((byte)(v | 128));                      v >>= 7;                  }
Magic Number,Rachis.Transport,EntriesContent,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Write7BitEncodedInt64,The following statement contains a magic number: while (v >= 128)                  {                      stream.WriteByte((byte)(v | 128));                      v >>= 7;                  }
Magic Number,Rachis.Transport,EntriesContent,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,Write7BitEncodedInt64,The following statement contains a magic number: while (v >= 128)                  {                      stream.WriteByte((byte)(v | 128));                      v >>= 7;                  }
Magic Number,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,GetHashCode,The following statement contains a magic number: unchecked              {                  var hashCode = (Uri != null ? Uri.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Name != null ? Name.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Username != null ? Username.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Password != null ? Password.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Domain != null ? Domain.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (ApiKey != null ? ApiKey.GetHashCode() : 0);                  return hashCode;              }
Magic Number,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,GetHashCode,The following statement contains a magic number: unchecked              {                  var hashCode = (Uri != null ? Uri.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Name != null ? Name.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Username != null ? Username.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Password != null ? Password.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Domain != null ? Domain.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (ApiKey != null ? ApiKey.GetHashCode() : 0);                  return hashCode;              }
Magic Number,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,GetHashCode,The following statement contains a magic number: unchecked              {                  var hashCode = (Uri != null ? Uri.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Name != null ? Name.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Username != null ? Username.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Password != null ? Password.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Domain != null ? Domain.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (ApiKey != null ? ApiKey.GetHashCode() : 0);                  return hashCode;              }
Magic Number,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,GetHashCode,The following statement contains a magic number: unchecked              {                  var hashCode = (Uri != null ? Uri.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Name != null ? Name.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Username != null ? Username.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Password != null ? Password.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Domain != null ? Domain.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (ApiKey != null ? ApiKey.GetHashCode() : 0);                  return hashCode;              }
Magic Number,Rachis.Transport,NodeConnectionInfo,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\NodeConnectionInfo.cs,GetHashCode,The following statement contains a magic number: unchecked              {                  var hashCode = (Uri != null ? Uri.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Name != null ? Name.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Username != null ? Username.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Password != null ? Password.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (Domain != null ? Domain.GetHashCode() : 0);                  hashCode = (hashCode*397) ^ (ApiKey != null ? ApiKey.GetHashCode() : 0);                  return hashCode;              }
Magic Number,Rachis.Storage,PersistentState,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Storage\PersistentState.cs,InitializeDatabase,The following statement contains a magic number: using (var tx = _env.NewTransaction(TransactionFlags.ReadWrite))              {                  _env.CreateTree(tx' LogsTreeName);                  _env.CreateTree(tx' EntryTermsTreeName);                    var metadata = _env.CreateTree(tx' MetadataTreeName);                  var versionReadResult = metadata.Read("version");                  if (versionReadResult == null) // new db                  {                      metadata.Add("version"' Encoding.UTF8.GetBytes(CurrentVersion));                      DbId = Guid.NewGuid();                      metadata.Add("db-id"' DbId.ToByteArray());                      metadata.Add("current-term"' EndianBitConverter.Little.GetBytes(0L));                      metadata.Add("voted-for"' Encoding.UTF8.GetBytes(string.Empty));                      metadata.Add("voted-for-term"' EndianBitConverter.Little.GetBytes(-1L));                      metadata.Add("is-leader-potential"' EndianBitConverter.Little.GetBytes(0));                  }                  else                  {                      var dbVersion = versionReadResult.Reader.ToStringValue();                      if (dbVersion != CurrentVersion)                          throw new InvalidOperationException("Cannot open db because its version is " + dbVersion +                                                              " but the library expects version " + CurrentVersion);                        int used;                      var bytes = metadata.Read("db-id").Reader.ReadBytes(16' out used).Take(16).ToArray();                      DbId = new Guid(bytes);                        CurrentTerm = metadata.Read("current-term").Reader.ReadLittleEndianInt64();                      var votedFor = metadata.Read("voted-for");                      VotedFor = votedFor.Reader.Length == 0 ? null : votedFor.Reader.ToStringValue();                        var votedForTerm = metadata.Read("voted-for-term");                      VotedForTerm = votedForTerm.Reader.ReadLittleEndianInt64();                  }                    tx.Commit();              }
Magic Number,Rachis.Storage,PersistentState,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Storage\PersistentState.cs,InitializeDatabase,The following statement contains a magic number: using (var tx = _env.NewTransaction(TransactionFlags.ReadWrite))              {                  _env.CreateTree(tx' LogsTreeName);                  _env.CreateTree(tx' EntryTermsTreeName);                    var metadata = _env.CreateTree(tx' MetadataTreeName);                  var versionReadResult = metadata.Read("version");                  if (versionReadResult == null) // new db                  {                      metadata.Add("version"' Encoding.UTF8.GetBytes(CurrentVersion));                      DbId = Guid.NewGuid();                      metadata.Add("db-id"' DbId.ToByteArray());                      metadata.Add("current-term"' EndianBitConverter.Little.GetBytes(0L));                      metadata.Add("voted-for"' Encoding.UTF8.GetBytes(string.Empty));                      metadata.Add("voted-for-term"' EndianBitConverter.Little.GetBytes(-1L));                      metadata.Add("is-leader-potential"' EndianBitConverter.Little.GetBytes(0));                  }                  else                  {                      var dbVersion = versionReadResult.Reader.ToStringValue();                      if (dbVersion != CurrentVersion)                          throw new InvalidOperationException("Cannot open db because its version is " + dbVersion +                                                              " but the library expects version " + CurrentVersion);                        int used;                      var bytes = metadata.Read("db-id").Reader.ReadBytes(16' out used).Take(16).ToArray();                      DbId = new Guid(bytes);                        CurrentTerm = metadata.Read("current-term").Reader.ReadLittleEndianInt64();                      var votedFor = metadata.Read("voted-for");                      VotedFor = votedFor.Reader.Length == 0 ? null : votedFor.Reader.ToStringValue();                        var votedForTerm = metadata.Read("voted-for-term");                      VotedForTerm = votedForTerm.Reader.ReadLittleEndianInt64();                  }                    tx.Commit();              }
Missing Default,Rachis.Transport,HttpTransportSender,C:\repos\ravendb_ravendb\ToMigrate\Rachis\Rachis\Transport\HttpTransportSender.cs,IsServerDown,The following switch statement is missing a default case: switch (httpStatusCode)              {                  case HttpStatusCode.RequestTimeout:                  case HttpStatusCode.GatewayTimeout:                      timeout = true;                      return true;                  case HttpStatusCode.BadGateway:                  case HttpStatusCode.ServiceUnavailable:                      return true;              }
