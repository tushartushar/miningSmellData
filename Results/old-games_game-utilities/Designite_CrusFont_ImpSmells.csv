Implementation smell,Namespace,Class,File,Method,Description
Complex Method,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,Cyclomatic complexity of the method is 10
Complex Method,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,Cyclomatic complexity of the method is 11
Complex Method,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,Cyclomatic complexity of the method is 9
Complex Method,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,makeLine,Cyclomatic complexity of the method is 9
Complex Method,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,Cyclomatic complexity of the method is 9
Long Parameter List,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,makeLetter,The method has 5 parameters.
Complex Conditional,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,getCol,The conditional expression  "x < 0 || x >= w || y < 0 || y >= h"  is complex.
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: for (int i = 1; i < 16; i++) {  	g.DrawLine (p' (cWidth + 1) * i - 1' 0' (cWidth + 1) * i - 1' bmp.Height);  	g.DrawLine (p' 0' (cHeight + 1) * i - 1' bmp.Width' (cHeight + 1) * i - 1);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: for (int i = 0; i < 256; i++) {  	if (i % 16 == 0) {  		xofs = 0;  		yofs += cHeight + 1;  	}  	if (i < cnt) {  		Frame f = new Frame (getFile (i));  		if (i == 0) {  			ho = f.ho;  			minh = f.h;  			minw = f.w;  		}  		else {  			if (ho != f.ho)  				throw new Exception ("Bad Font offset");  			if (f.h != cHeight && f.h != 1)  				throw new Exception (String.Format ("Another height {0:d} vs {1:d}"' f.h' cHeight));  			if (f.h < minh)  				minh = f.h;  			if (f.w < minw)  				minw = f.w;  		}  		Bitmap b = f.image ();  		g.DrawImage (b' xofs' yofs);  	}  	xofs += cWidth + 1;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: for (int i = 0; i < 256; i++) {  	if (i % 16 == 0) {  		xofs = 0;  		yofs += cHeight + 1;  	}  	if (i < cnt) {  		Frame f = new Frame (getFile (i));  		if (i == 0) {  			ho = f.ho;  			minh = f.h;  			minw = f.w;  		}  		else {  			if (ho != f.ho)  				throw new Exception ("Bad Font offset");  			if (f.h != cHeight && f.h != 1)  				throw new Exception (String.Format ("Another height {0:d} vs {1:d}"' f.h' cHeight));  			if (f.h < minh)  				minh = f.h;  			if (f.w < minw)  				minw = f.w;  		}  		Bitmap b = f.image ();  		g.DrawImage (b' xofs' yofs);  	}  	xofs += cWidth + 1;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: if (i % 16 == 0) {  	xofs = 0;  	yofs += cHeight + 1;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: for (int i = 0; i < 256; i++) {  	if (i % 16 == 0) {  		hofs += cHeight + 1;  		wofs = 0;  	}  	bool nwsp = false;  	int w = getW (img' wofs' hofs' ref nwsp);  	byte[] ldt = null;  	if (w > 0)  		last = i;  	if (w > 1 || nwsp)  		ldt = importLetter (img' wofs' hofs' w);  	else {  		if (empty == null)  			empty = importEmpty ();  		ldt = empty;  	}  	nfls.Add (new int[] {  		xdata.Count'  		ldt.Length  	});  	foreach (byte b in ldt)  		xdata.Add (b);  	wofs += cWidth + 1;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: for (int i = 0; i < 256; i++) {  	if (i % 16 == 0) {  		hofs += cHeight + 1;  		wofs = 0;  	}  	bool nwsp = false;  	int w = getW (img' wofs' hofs' ref nwsp);  	byte[] ldt = null;  	if (w > 0)  		last = i;  	if (w > 1 || nwsp)  		ldt = importLetter (img' wofs' hofs' w);  	else {  		if (empty == null)  			empty = importEmpty ();  		ldt = empty;  	}  	nfls.Add (new int[] {  		xdata.Count'  		ldt.Length  	});  	foreach (byte b in ldt)  		xdata.Add (b);  	wofs += cWidth + 1;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: if (i % 16 == 0) {  	hofs += cHeight + 1;  	wofs = 0;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: if (last < 255) {  	nfls.RemoveRange (last + 1' nfls.Count - last - 1);  	int lofs = nfls [last] [0] + nfls [last] [1];  	xdata.RemoveRange (lofs' xdata.Count - lofs);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: for (int i = 0; i < nfls.Count; i++) {  	nfls [i] [0] += 6 + 8 * cnt;  	wr.Write (nfls [i] [0]);  	wr.Write (nfls [i] [1]);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: for (int i = 0; i < nfls.Count; i++) {  	nfls [i] [0] += 6 + 8 * cnt;  	wr.Write (nfls [i] [0]);  	wr.Write (nfls [i] [1]);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: nfls [i] [0] += 6 + 8 * cnt;  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,import,The following statement contains a magic number: nfls [i] [0] += 6 + 8 * cnt;  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: while (pos < dt.Length) {  	int cnt = 1;  	int xpos = pos + 1;  	int last = 2;  	while (xpos < dt.Length && dt [pos] == dt [xpos++])  		cnt++;  	if (xpos == dt.Length)  		if (dt [xpos - 1] == dt [pos])  			last = 0;  	if (cnt > 1 + ncomp + last) {  		if (ncomp != 0) {  			res.Add (0);  			res.Add ((byte)((cnt << 1) | 1));  			ncomp = 0;  		}  		else  			res [szofs] = ((byte)((cnt << 1) | 1));  		res.Add (dt [pos]);  		pos += cnt;  		if (last != 0) {  			res.Add (0);  			res.Add (0);  			szofs = res.Count - 1;  		}  	}  	else {  		ncomp = 2;  		res [szofs] += 2;  		res.Add (dt [pos]);  		pos++;  	}  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: while (pos < dt.Length) {  	int cnt = 1;  	int xpos = pos + 1;  	int last = 2;  	while (xpos < dt.Length && dt [pos] == dt [xpos++])  		cnt++;  	if (xpos == dt.Length)  		if (dt [xpos - 1] == dt [pos])  			last = 0;  	if (cnt > 1 + ncomp + last) {  		if (ncomp != 0) {  			res.Add (0);  			res.Add ((byte)((cnt << 1) | 1));  			ncomp = 0;  		}  		else  			res [szofs] = ((byte)((cnt << 1) | 1));  		res.Add (dt [pos]);  		pos += cnt;  		if (last != 0) {  			res.Add (0);  			res.Add (0);  			szofs = res.Count - 1;  		}  	}  	else {  		ncomp = 2;  		res [szofs] += 2;  		res.Add (dt [pos]);  		pos++;  	}  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: while (pos < dt.Length) {  	int cnt = 1;  	int xpos = pos + 1;  	int last = 2;  	while (xpos < dt.Length && dt [pos] == dt [xpos++])  		cnt++;  	if (xpos == dt.Length)  		if (dt [xpos - 1] == dt [pos])  			last = 0;  	if (cnt > 1 + ncomp + last) {  		if (ncomp != 0) {  			res.Add (0);  			res.Add ((byte)((cnt << 1) | 1));  			ncomp = 0;  		}  		else  			res [szofs] = ((byte)((cnt << 1) | 1));  		res.Add (dt [pos]);  		pos += cnt;  		if (last != 0) {  			res.Add (0);  			res.Add (0);  			szofs = res.Count - 1;  		}  	}  	else {  		ncomp = 2;  		res [szofs] += 2;  		res.Add (dt [pos]);  		pos++;  	}  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: if (cnt > 1 + ncomp + last) {  	if (ncomp != 0) {  		res.Add (0);  		res.Add ((byte)((cnt << 1) | 1));  		ncomp = 0;  	}  	else  		res [szofs] = ((byte)((cnt << 1) | 1));  	res.Add (dt [pos]);  	pos += cnt;  	if (last != 0) {  		res.Add (0);  		res.Add (0);  		szofs = res.Count - 1;  	}  }  else {  	ncomp = 2;  	res [szofs] += 2;  	res.Add (dt [pos]);  	pos++;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: if (cnt > 1 + ncomp + last) {  	if (ncomp != 0) {  		res.Add (0);  		res.Add ((byte)((cnt << 1) | 1));  		ncomp = 0;  	}  	else  		res [szofs] = ((byte)((cnt << 1) | 1));  	res.Add (dt [pos]);  	pos += cnt;  	if (last != 0) {  		res.Add (0);  		res.Add (0);  		szofs = res.Count - 1;  	}  }  else {  	ncomp = 2;  	res [szofs] += 2;  	res.Add (dt [pos]);  	pos++;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: ncomp = 2;  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,compress,The following statement contains a magic number: res [szofs] += 2;  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importEmpty,The following statement contains a magic number: for (int i = 0; i < minh; i++)  	hofs.Add ((minh - i) * 4);  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importEmpty,The following statement contains a magic number: hofs.Add ((minh - i) * 4);  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: for (int i = 0; i < cHeight; i++) {  	for (int j = 0; j < w; j++) {  		Color col = img.GetPixel (wofs + j' hofs + i);  		byte b = 0;  		if (col.ToArgb () == Color.White.ToArgb () || col.R != 0)  			b = 0xFF;  		else {  			b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  			if (b == 0xFF)  				b = 0xFE;  		}  		data [j] = b;  	}  	int lid = -1;  	for (int j = 0; j < lines.Count && lid == -1; j++)  		if (match (lines [j]' data' w))  			lid = j;  	if (lid == -1) {  		byte[] line = new byte[w];  		Array.Copy (data' line' w);  		lines.Add (line);  		lines_ofsc.Add (cmp.Count);  		lines_ofsuc.Add (ucmp.Count);  		lid = lines.Count - 1;  		makeLine (data' w' ucmp' cmp);  	}  	hofsc.Add (lines_ofsc [lid] + (cHeight - i) * 4);  	hofsuc.Add (lines_ofsuc [lid] + (cHeight - i) * 4);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: for (int i = 0; i < cHeight; i++) {  	for (int j = 0; j < w; j++) {  		Color col = img.GetPixel (wofs + j' hofs + i);  		byte b = 0;  		if (col.ToArgb () == Color.White.ToArgb () || col.R != 0)  			b = 0xFF;  		else {  			b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  			if (b == 0xFF)  				b = 0xFE;  		}  		data [j] = b;  	}  	int lid = -1;  	for (int j = 0; j < lines.Count && lid == -1; j++)  		if (match (lines [j]' data' w))  			lid = j;  	if (lid == -1) {  		byte[] line = new byte[w];  		Array.Copy (data' line' w);  		lines.Add (line);  		lines_ofsc.Add (cmp.Count);  		lines_ofsuc.Add (ucmp.Count);  		lid = lines.Count - 1;  		makeLine (data' w' ucmp' cmp);  	}  	hofsc.Add (lines_ofsc [lid] + (cHeight - i) * 4);  	hofsuc.Add (lines_ofsuc [lid] + (cHeight - i) * 4);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: for (int i = 0; i < cHeight; i++) {  	for (int j = 0; j < w; j++) {  		Color col = img.GetPixel (wofs + j' hofs + i);  		byte b = 0;  		if (col.ToArgb () == Color.White.ToArgb () || col.R != 0)  			b = 0xFF;  		else {  			b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  			if (b == 0xFF)  				b = 0xFE;  		}  		data [j] = b;  	}  	int lid = -1;  	for (int j = 0; j < lines.Count && lid == -1; j++)  		if (match (lines [j]' data' w))  			lid = j;  	if (lid == -1) {  		byte[] line = new byte[w];  		Array.Copy (data' line' w);  		lines.Add (line);  		lines_ofsc.Add (cmp.Count);  		lines_ofsuc.Add (ucmp.Count);  		lid = lines.Count - 1;  		makeLine (data' w' ucmp' cmp);  	}  	hofsc.Add (lines_ofsc [lid] + (cHeight - i) * 4);  	hofsuc.Add (lines_ofsuc [lid] + (cHeight - i) * 4);  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: for (int j = 0; j < w; j++) {  	Color col = img.GetPixel (wofs + j' hofs + i);  	byte b = 0;  	if (col.ToArgb () == Color.White.ToArgb () || col.R != 0)  		b = 0xFF;  	else {  		b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  		if (b == 0xFF)  			b = 0xFE;  	}  	data [j] = b;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: if (col.ToArgb () == Color.White.ToArgb () || col.R != 0)  	b = 0xFF;  else {  	b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  	if (b == 0xFF)  		b = 0xFE;  }  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: b = (byte)((col.B & 0xF0) | ((col.G & 0xF0) >> 4));  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: hofsc.Add (lines_ofsc [lid] + (cHeight - i) * 4);  
Magic Number,CrusFont,Section,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,importLetter,The following statement contains a magic number: hofsuc.Add (lines_ofsuc [lid] + (cHeight - i) * 4);  
Magic Number,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,Frame,The following statement contains a magic number: for (int i = 0; i < h; i++) {  	ofs.Add (rd.ReadInt32 () - (h - i) * 4);  }  
Magic Number,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,Frame,The following statement contains a magic number: ofs.Add (rd.ReadInt32 () - (h - i) * 4);  
Magic Number,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: for (int i = 0; i < h; i++)  	for (int j = 0; j < w; j++) {  		int col = getCol (j' i);  		res.SetPixel (j' i' col == 0xFF ? Color.White : Color.FromArgb (0' (col << 4) & 0xF0' col & 0xF0));  	}  
Magic Number,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: for (int j = 0; j < w; j++) {  	int col = getCol (j' i);  	res.SetPixel (j' i' col == 0xFF ? Color.White : Color.FromArgb (0' (col << 4) & 0xF0' col & 0xF0));  }  
Magic Number,CrusFont,Frame,C:\repos\old-games_game-utilities\Crusaders\CrusFont\classes.cs,image,The following statement contains a magic number: res.SetPixel (j' i' col == 0xFF ? Color.White : Color.FromArgb (0' (col << 4) & 0xF0' col & 0xF0));  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,process,The following statement contains a magic number: for (int i = 0; i < cnt * 256; i++) {  	int o = rd.ReadInt32 ();  	int sz = rd.ReadInt32 ();  	if (o != 0) {  		sex.Add (new Section (rd' o' sz' i));  	}  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button3_Click,The following statement contains a magic number: if (od.ShowDialog () == DialogResult.OK) {  	Section s = listView1.SelectedItems [0].Tag as Section;  	try {  		Bitmap bmp = new Bitmap (od.FileName);  		s.import (bmp);  		bmp.Dispose ();  		pictureBox1.Image = s.image ();  		listView1.SelectedItems [0].SubItems [3].Text = s.cnt.ToString ();  		button4.Enabled = true;  	}  	catch (Exception ex) {  		MessageBox.Show (ex.Message);  	}  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button3_Click,The following statement contains a magic number: try {  	Bitmap bmp = new Bitmap (od.FileName);  	s.import (bmp);  	bmp.Dispose ();  	pictureBox1.Image = s.image ();  	listView1.SelectedItems [0].SubItems [3].Text = s.cnt.ToString ();  	button4.Enabled = true;  }  catch (Exception ex) {  	MessageBox.Show (ex.Message);  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button3_Click,The following statement contains a magic number: listView1.SelectedItems [0].SubItems [3].Text = s.cnt.ToString ();  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button4_Click,The following statement contains a magic number: if (sd.ShowDialog () == DialogResult.OK) {  	BinaryWriter wr = new BinaryWriter (new FileStream (sd.FileName' FileMode.Create));  	wr.Write (header);  	for (int i = 0; i < cnt * 256; i++) {  		wr.Write ((int)0);  		wr.Write ((int)0);  	}  	foreach (Section s in sex) {  		int ofs = (int)wr.BaseStream.Position;  		int sz = s.data.Length;  		wr.BaseStream.Position = 0x80 + 8 * s.id;  		wr.Write (ofs);  		wr.Write (sz);  		wr.BaseStream.Position = ofs;  		wr.Write (s.data);  	}  	wr.Close ();  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button4_Click,The following statement contains a magic number: if (sd.ShowDialog () == DialogResult.OK) {  	BinaryWriter wr = new BinaryWriter (new FileStream (sd.FileName' FileMode.Create));  	wr.Write (header);  	for (int i = 0; i < cnt * 256; i++) {  		wr.Write ((int)0);  		wr.Write ((int)0);  	}  	foreach (Section s in sex) {  		int ofs = (int)wr.BaseStream.Position;  		int sz = s.data.Length;  		wr.BaseStream.Position = 0x80 + 8 * s.id;  		wr.Write (ofs);  		wr.Write (sz);  		wr.BaseStream.Position = ofs;  		wr.Write (s.data);  	}  	wr.Close ();  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button4_Click,The following statement contains a magic number: for (int i = 0; i < cnt * 256; i++) {  	wr.Write ((int)0);  	wr.Write ((int)0);  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button4_Click,The following statement contains a magic number: foreach (Section s in sex) {  	int ofs = (int)wr.BaseStream.Position;  	int sz = s.data.Length;  	wr.BaseStream.Position = 0x80 + 8 * s.id;  	wr.Write (ofs);  	wr.Write (sz);  	wr.BaseStream.Position = ofs;  	wr.Write (s.data);  }  
Magic Number,CrusFont,Form1,C:\repos\old-games_game-utilities\Crusaders\CrusFont\Form1.cs,button4_Click,The following statement contains a magic number: wr.BaseStream.Position = 0x80 + 8 * s.id;  
