Implementation smell,Namespace,Class,File,Method,Description
Long Method,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,GetrequestMessaageDoc,The method has 219 lines of code.
Long Method,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OldPost,The method has 100 lines of code.
Long Parameter List,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The method has 6 parameters. Parameters: url' token' requestType' eventType' testConcurrence' testConcurrenceCount
Long Statement,Senparc.Weixin.MP.Sample,WebApiApplication,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Global.asax.cs,RegisterWeixinPay,The length of the statement  "            var weixinPayInfo = new TenPayInfo(weixinPay_PartnerId' weixinPay_Key' weixinPay_AppId' weixinPay_AppKey' weixinPay_TenpayNotify); " is 130.
Long Statement,Senparc.Weixin.MP.Sample,WebApiApplication,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Global.asax.cs,RegisterWeixinThirdParty,The length of the statement  "            Action<string' string' RefreshAuthorizerTokenResult> authorizerTokenRefreshedFunc = (componentAppId' auhtorizerId' refreshResult) => " is 132.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,CacheController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\CacheController.cs,RunTest,The length of the statement  "                var finalBagKey = containerCacheStrategy.GetFinalKey(ContainerHelper.GetItemCacheKey(typeof(TestContainerBag1)' shortBagKey));//获取最终缓存中的键 " is 137.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,FilterTestController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\FilterTestController.cs,Index,The length of the statement  "            return Content("访问正常。当前地址：" + Request.Url.PathAndQuery + "<br />请点击右上角转发按钮，使用【在浏览器中打开】功能进行测试！<br />或者也可以直接在外部浏览器打开 http://sdk.weixin.senparc.com/FilterTest/ 进行测试。"); " is 165.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,FilterTestController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\FilterTestController.cs,Redirect,The length of the statement  "            return Content("访问正常。当前地址：" + Request.Url.PathAndQuery + "<br />请点击右上角转发按钮，使用【在浏览器中打开】功能进行测试！<br />或者也可以直接在外部浏览器打开 http://sdk.weixin.senparc.com/FilterTest/Redirect 进行测试。"); " is 173.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,MenuController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\MenuController.cs,GetIP,The length of the statement  "                    "https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd=IP&rsv_pq=db4eb7d40002dd86&rsv_t=14d7uOUvNnTdrhnrUx0zdEVTPEN8XDq4aH7KkoHAEpTIXkRQkUD00KJ2p94&rqlang=cn&rsv_enter=1&rsv_sug3=2&rsv_sug1=2&rsv_sug7=100&rsv_sug2=0&inputT=875&rsv_sug4=875"; " is 255.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Notice,The length of the statement  "            //using (TextWriter tw = new StreamWriter(Path.Combine(logPath' string.Format("{0}_RequestStream.txt"' DateTime.Now.Ticks)))) " is 125.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Notice,The length of the statement  "                //messageHandler.EcryptRequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request.txt"' DateTime.Now.Ticks))); " is 121.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Notice,The length of the statement  "                messageHandler.RequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request_{1}.txt"' DateTime.Now.Ticks' messageHandler.RequestMessage.AppId))); " is 154.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Notice,The length of the statement  "                using (TextWriter tw = new StreamWriter(Path.Combine(logPath' string.Format("{0}_Response_{1}.txt"' DateTime.Now.Ticks' messageHandler.RequestMessage.AppId)))) " is 159.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenOAuthController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenOAuthController.cs,OpenOAuthCallback,The length of the statement  "                //var component_access_token = Open.ComponentAPIs.ComponentApi.GetComponentAccessToken(component_AppId' component_Secret' openTicket).component_access_token; " is 157.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenOAuthController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenOAuthController.cs,Index,The length of the statement  "            ViewData["UrlUserInfo"] = Open.OAuthAPIs.OAuthApi.GetAuthorizeUrl(appId' component_AppId' "http://sdk.weixin.senparc.com/OpenOAuth/UserInfoCallback"' "JeffreySu"' new[] { Open.OAuthScope.snsapi_userinfo' Open.OAuthScope.snsapi_base }); " is 235.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenOAuthController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenOAuthController.cs,Index,The length of the statement  "            ViewData["UrlBase"] = Open.OAuthAPIs.OAuthApi.GetAuthorizeUrl(appId' component_AppId' "http://sdk.weixin.senparc.com/OpenOAuth/BaseCallback"' "JeffreySu"' new[] { Open.OAuthScope.snsapi_userinfo' Open.OAuthScope.snsapi_base }); " is 227.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,OpenOAuthController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenOAuthController.cs,BaseCallback,The length of the statement  "            var result = Open.OAuthAPIs.OAuthApi.GetAccessToken(appId' component_AppId' componentAccessToken' code);//TODO:使用Container " is 122.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,TestAsyncTask,The length of the statement  "                    Senparc.Weixin.Helpers.DateTimeHelper.GetWeixinDateTime(DateTime.Now.AddSeconds(Thread.CurrentThread.GetHashCode())).ToString(); " is 128.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The length of the statement  "                    return Json(new { Success = true' LoadTime = (dt2 - dt1).TotalMilliseconds.ToString("##.####")' Result = responseMessageXml }); " is 127.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The length of the statement  "                    var msg = string.Format("{0}\r\n{1}\r\n{2}"' ex.Message' null' ex.InnerException != null ? ex.InnerException.Message : null); " is 125.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,JsApi,The length of the statement  "                var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.JSAPI' openId' TenPayV3Info.Key' nonceStr); " is 228.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeNotifyUrl,The length of the statement  "            var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' "test"' sp_billno' 1' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.JSAPI' openId' TenPayV3Info.Key' nonceStr); " is 226.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeByCodeUrl,The length of the statement  "            var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' "test"' sp_billno' 1' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.NATIVE' productId' TenPayV3Info.Key' nonceStr); " is 230.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,PayNotifyUrl,The length of the statement  "                var logPath = Path.Combine(logDir' string.Format("{0}-{1}-{2}.txt"' DateTime.Now.ToString("yyyyMMdd")' DateTime.Now.ToString("HHmmss")' Guid.NewGuid().ToString("n").Substring(0' 8))); " is 183.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,Refund,The length of the statement  "            //ServicePointManager.ServerCertificateValidationCallback = new RemoteCertificateValidationCallback(CheckValidationResult); " is 123.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,Refund,The length of the statement  "            //X509Certificate2 cer = new X509Certificate2(cert' password' X509KeyStorageFlags.PersistKeySet | X509KeyStorageFlags.MachineKeySet); " is 133.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,DownloadBill,The length of the statement  "            TenPayV3DownloadBillRequestData data = new TenPayV3DownloadBillRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' nonceStr' null' date' "ALL"' TenPayV3Info.Key' null); " is 168.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,SendGroupRedPack,The length of the statement  "            packageReqHandler.SetParameter("amt_type"' "ALL_RAND");               //红包金额设置方式ALL_RAND—全部随机'商户指定总金额和红包发放总人数，由微信支付随机计算出各红包金额 " is 125.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,SendGroupRedPack,The length of the statement  "            ServicePointManager.ServerCertificateValidationCallback = new RemoteCertificateValidationCallback(CheckValidationResult); " is 121.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,SendGroupRedPack,The length of the statement  "            X509Certificate2 cer = new X509Certificate2(cert' password' X509KeyStorageFlags.PersistKeySet | X509KeyStorageFlags.MachineKeySet); " is 131.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,GetHBInfo,The length of the statement  "            ServicePointManager.ServerCertificateValidationCallback = new RemoteCertificateValidationCallback(CheckValidationResult); " is 121.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,GetHBInfo,The length of the statement  "            X509Certificate2 cer = new X509Certificate2(cert' password' X509KeyStorageFlags.PersistKeySet | X509KeyStorageFlags.MachineKeySet); " is 131.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,H5Pay,The length of the statement  "                    var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.MWEB/*此处无论传什么，方法内部都会强制变为MWEB*/' openId' TenPayV3Info.Key' nonceStr); " is 253.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,H5Pay,The length of the statement  "                     * result:{"device_info":""'"trade_type":"MWEB"'"prepay_id":"wx20170810143223420ae5b0dd0537136306"'"code_url":""'"mweb_url":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx20170810143223420ae5b0dd0537136306\u0026package=1505175207"'"appid":"wx669ef95216eef885"'"mch_id":"1241385402"'"sub_appid":""'"sub_mch_id":""'"nonce_str":"juTchIZyhXvZ2Rfy"'"sign":"5A37D55A897C854F64CCCC4C94CDAFE3"'"result_code":"SUCCESS"'"err_code":""'"err_code_des":""'"return_code":"SUCCESS"'"return_msg":null} " is 502.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Get,The length of the statement  "                return Content("failed:" + postModel.Signature + "'" + MP.CheckSignature.GetSignature(postModel.Timestamp' postModel.Nonce' Token) + "。" + " is 138.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Post,The length of the statement  "                messageHandler.RequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request_{1}_{2}.txt"' _getRandomFileName()'  " is 120.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Post,The length of the statement  "                    messageHandler.EcryptRequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request_Ecrypt_{1}_{2}.txt"' _getRandomFileName()'  " is 133.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Post,The length of the statement  "                    messageHandler.ResponseDocument.Save(Path.Combine(logPath' string.Format("{0}_Response_{1}_{2}.txt"' _getRandomFileName()'  " is 122.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Post,The length of the statement  "                    messageHandler.FinalResponseDocument.Save(Path.Combine(logPath' string.Format("{0}_Response_Final_{1}_{2}.txt"' _getRandomFileName()'  " is 133.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OldPost,The length of the statement  "                requestDoc.Save(Server.MapPath("~/App_Data/" + DateTime.Now.Ticks + "_Request_" + requestMessage.FromUserName + ".txt"));//测试时可开启，帮助跟踪数据 " is 136.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OldPost,The length of the statement  "                responseDoc.Save(Server.MapPath("~/App_Data/" + DateTime.Now.Ticks + "_Response_" + responseMessage.ToUserName + ".txt"));//测试时可开启，帮助跟踪数据 " is 137.
Long Statement,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,Delivernotify,The length of the statement  "            //string appId' string openId' string transId' string out_Trade_No' string deliver_TimesTamp' string deliver_Status' string deliver_Msg' string app_Signature'  " is 158.
Long Statement,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Get,The length of the statement  "                return Content("failed:" + postModel.Signature + "'" + MP.CheckSignature.GetSignature(postModel.Timestamp' postModel.Nonce' Token) + "。" + " is 138.
Long Statement,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Post,The length of the statement  "                messageHandler.RequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request_{1}.txt"' _getRandomFileName()' messageHandler.RequestMessage.FromUserName))); " is 163.
Long Statement,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Post,The length of the statement  "                    messageHandler.EcryptRequestDocument.Save(Path.Combine(logPath' string.Format("{0}_Request_Ecrypt_{1}.txt"' _getRandomFileName()' messageHandler.RequestMessage.FromUserName))); " is 176.
Long Statement,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Post,The length of the statement  "                    messageHandler.ResponseDocument.Save(Path.Combine(logPath' string.Format("{0}_Response_{1}.txt"' _getRandomFileName()' messageHandler.RequestMessage.FromUserName))); " is 165.
Long Statement,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Post,The length of the statement  "                    messageHandler.FinalResponseDocument.Save(Path.Combine(logPath' string.Format("{0}_Response_Final_{1}.txt"' _getRandomFileName()' messageHandler.RequestMessage.FromUserName))); " is 176.
Empty Catch Block,Senparc.Weixin.MP.Sample.Controllers,HomeController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\HomeController.cs,TestElmah,The method has an empty catch block.
Magic Number,Senparc.Weixin.MP.Sample,WebApiApplication,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Global.asax.cs,RegisterWeixinCache,The following statement contains a magic number: var memcachedConfig = new Dictionary<string' int>()              {                  { "localhost"'9101 }              };
Magic Number,Senparc.Weixin.MP.Sample.Controllers,AsyncMethodsController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\AsyncMethodsController.cs,QrCodeTest,The following statement contains a magic number: var sceneId = int.Parse(ticks.Substring(ticks.Length - 7' 7));
Magic Number,Senparc.Weixin.MP.Sample.Controllers,AsyncMethodsController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\AsyncMethodsController.cs,QrCodeTest,The following statement contains a magic number: var sceneId = int.Parse(ticks.Substring(ticks.Length - 7' 7));
Magic Number,Senparc.Weixin.MP.Sample.Controllers,AsyncMethodsController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\AsyncMethodsController.cs,QrCodeTest,The following statement contains a magic number: var qrResult = await QrCodeApi.CreateAsync(appId' 100' sceneId' QrCode_ActionName.QR_SCENE' "QrTest");
Magic Number,Senparc.Weixin.MP.Sample.Controllers,AsyncMethodsController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\AsyncMethodsController.cs,GetRemoteData,The following statement contains a magic number: await Task.Run(() =>                 {                     Task.Delay(1000);                     result = "hi " + DateTime.Now.ToString();                 });
Magic Number,Senparc.Weixin.MP.Sample.Controllers,AsyncMethodsController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\AsyncMethodsController.cs,GetRemoteData2,The following statement contains a magic number: await Task.Run(() =>              {                  Task.Delay(1000);                  result = "hi " + DateTime.Now.ToString();              }).ConfigureAwait(false);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,CacheController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\CacheController.cs,RunTest,The following statement contains a magic number: for (int i = 0; i < 3; i++)              {                  sb.AppendFormat("<br />====== {0}：{1} ======<br /><br />"' "开始一轮测试"' i + 1);                  var shortBagKey = DateTime.Now.Ticks.ToString();                  var finalBagKey = containerCacheStrategy.GetFinalKey(ContainerHelper.GetItemCacheKey(typeof(TestContainerBag1)' shortBagKey));//获取最终缓存中的键                  var bag = new TestContainerBag1()                  {                      Key = shortBagKey'                      DateTime = DateTime.Now                  };                  TestContainer1.Update(shortBagKey' bag); //更新到缓存（队列）                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "bag.DateTime"' bag.DateTime.ToLongTimeString()'                      bag.DateTime.Ticks);                    Thread.Sleep(1);                    bag.DateTime = DateTime.Now; //进行修改                    //读取队列                  var mq = new SenparcMessageQueue();                  var mqKey = SenparcMessageQueue.GenerateKey("ContainerBag"' bag.GetType()' bag.Key' "UpdateContainerBag");                  var mqItem = mq.GetItem(mqKey);                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "bag.DateTime"' bag.DateTime.ToLongTimeString()'                      bag.DateTime.Ticks);                  sb.AppendFormat("{0}：{1}<br />"' "已经加入队列"' mqItem != null);                  sb.AppendFormat("{0}：{1}<br />"' "当前消息队列数量（未更新缓存）"' mq.GetCount());                    var itemCollection = containerCacheStrategy.GetAll<TestContainerBag1>();                  var existed = itemCollection.ContainsKey(finalBagKey);                  sb.AppendFormat("{0}：{1}<br />"' "当前缓存是否存在"' existed);                  sb.AppendFormat("{0}：{1}<br />"' "插入缓存时间"'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.Ticks.ToString()); //应为0                    var waitSeconds = i;                  sb.AppendFormat("{0}：{1}<br />"' "操作"' "等待" + waitSeconds + "秒");                  Thread.Sleep(waitSeconds * 1000); //线程默认轮询等待时间为2秒                  sb.AppendFormat("{0}：{1}<br />"' "当前消息队列数量（未更新缓存）"' mq.GetCount());                    itemCollection = containerCacheStrategy.GetAll<TestContainerBag1>();                  existed = itemCollection.ContainsKey(finalBagKey);                  finalExisted = existed;                  sb.AppendFormat("{0}：{1}<br />"' "当前缓存是否存在"' existed);                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "插入缓存时间"'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.ToLongTimeString()'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.Ticks.ToString()); //应为当前加入到缓存的最新时间                }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,CacheController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\CacheController.cs,RunTest,The following statement contains a magic number: for (int i = 0; i < 3; i++)              {                  sb.AppendFormat("<br />====== {0}：{1} ======<br /><br />"' "开始一轮测试"' i + 1);                  var shortBagKey = DateTime.Now.Ticks.ToString();                  var finalBagKey = containerCacheStrategy.GetFinalKey(ContainerHelper.GetItemCacheKey(typeof(TestContainerBag1)' shortBagKey));//获取最终缓存中的键                  var bag = new TestContainerBag1()                  {                      Key = shortBagKey'                      DateTime = DateTime.Now                  };                  TestContainer1.Update(shortBagKey' bag); //更新到缓存（队列）                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "bag.DateTime"' bag.DateTime.ToLongTimeString()'                      bag.DateTime.Ticks);                    Thread.Sleep(1);                    bag.DateTime = DateTime.Now; //进行修改                    //读取队列                  var mq = new SenparcMessageQueue();                  var mqKey = SenparcMessageQueue.GenerateKey("ContainerBag"' bag.GetType()' bag.Key' "UpdateContainerBag");                  var mqItem = mq.GetItem(mqKey);                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "bag.DateTime"' bag.DateTime.ToLongTimeString()'                      bag.DateTime.Ticks);                  sb.AppendFormat("{0}：{1}<br />"' "已经加入队列"' mqItem != null);                  sb.AppendFormat("{0}：{1}<br />"' "当前消息队列数量（未更新缓存）"' mq.GetCount());                    var itemCollection = containerCacheStrategy.GetAll<TestContainerBag1>();                  var existed = itemCollection.ContainsKey(finalBagKey);                  sb.AppendFormat("{0}：{1}<br />"' "当前缓存是否存在"' existed);                  sb.AppendFormat("{0}：{1}<br />"' "插入缓存时间"'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.Ticks.ToString()); //应为0                    var waitSeconds = i;                  sb.AppendFormat("{0}：{1}<br />"' "操作"' "等待" + waitSeconds + "秒");                  Thread.Sleep(waitSeconds * 1000); //线程默认轮询等待时间为2秒                  sb.AppendFormat("{0}：{1}<br />"' "当前消息队列数量（未更新缓存）"' mq.GetCount());                    itemCollection = containerCacheStrategy.GetAll<TestContainerBag1>();                  existed = itemCollection.ContainsKey(finalBagKey);                  finalExisted = existed;                  sb.AppendFormat("{0}：{1}<br />"' "当前缓存是否存在"' existed);                  sb.AppendFormat("{0}：{1}（Ticks：{2}）<br />"' "插入缓存时间"'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.ToLongTimeString()'                      !existed ? "不存在" : itemCollection[finalBagKey].CacheTime.Ticks.ToString()); //应为当前加入到缓存的最新时间                }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,DocumentController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\DocumentController.cs,Index,The following statement contains a magic number: var qrResult = AdvancedAPIs.QrCodeApi.Create(appId' 10000' qrCodeId' QrCode_ActionName.QR_SCENE);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,MediaController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\MediaController.cs,TestUploadMediaFile,The following statement contains a magic number: using (FileStream ms = new FileStream(Server.MapPath("~/TestUploadMediaFile.jpg")' FileMode.OpenOrCreate))              {                  inputStream.CopyTo(ms' 256);              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,MenuController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\MenuController.cs,Index,The following statement contains a magic number: for (int i = 0; i < 3; i++)              {                  var subButton = new SubButton();                  for (int j = 0; j < 5; j++)                  {                      var singleButton = new SingleClickButton();                      subButton.sub_button.Add(singleButton);                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,MenuController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\MenuController.cs,Index,The following statement contains a magic number: for (int i = 0; i < 3; i++)              {                  var subButton = new SubButton();                  for (int j = 0; j < 5; j++)                  {                      var singleButton = new SingleClickButton();                      subButton.sub_button.Add(singleButton);                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Callback,The following statement contains a magic number: var maxRecordCount = 10;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,OpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\Open\OpenController.cs,Callback,The following statement contains a magic number: try              {                  var checkPublish = false; //是否在“全网发布”阶段                  if (checkPublish)                  {                      messageHandler = new OpenCheckMessageHandler(Request.InputStream' postModel' 10);                  }                  else                  {                      messageHandler = new CustomMessageHandler(Request.InputStream' postModel' maxRecordCount);                  }                    messageHandler.RequestDocument.Save(Path.Combine(logPath'                      string.Format("{0}_Request_{1}.txt"' DateTime.Now.Ticks' messageHandler.RequestMessage.FromUserName)));                    messageHandler.Execute(); //执行                    if (messageHandler.ResponseDocument != null)                  {                      var ticks = DateTime.Now.Ticks;                      messageHandler.ResponseDocument.Save(Path.Combine(logPath'                          string.Format("{0}_Response_{1}.txt"' ticks'                              messageHandler.RequestMessage.FromUserName)));                        //记录加密后的日志                      //if (messageHandler.UsingEcryptMessage)                      //{                      //    messageHandler.FinalResponseDocument.Save(Path.Combine(logPath'                      // string.Format("{0}_Response_Final_{1}.txt"' ticks'                      //     messageHandler.RequestMessage.FromUserName)));                      //}                  }                  return new FixWeixinBugWeixinResult(messageHandler);              }              catch (Exception ex)              {                  using (                      TextWriter tw =                          new StreamWriter(Server.MapPath("~/App_Data/Open/Error_" + DateTime.Now.Ticks + ".txt")))                  {                      tw.WriteLine("ExecptionMessage:" + ex.Message);                      tw.WriteLine(ex.Source);                      tw.WriteLine(ex.StackTrace);                      //tw.WriteLine("InnerExecptionMessage:" + ex.InnerException.Message);                        if (messageHandler.ResponseDocument != null)                      {                          tw.WriteLine(messageHandler.ResponseDocument.ToString());                      }                        if (ex.InnerException != null)                      {                          tw.WriteLine("========= InnerException =========");                          tw.WriteLine(ex.InnerException.Message);                          tw.WriteLine(ex.InnerException.Source);                          tw.WriteLine(ex.InnerException.StackTrace);                      }                        tw.Flush();                      tw.Close();                      return Content("");                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,TestAsyncTask,The following statement contains a magic number: var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString()' 1000 * 20);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,TestAsyncTask,The following statement contains a magic number: var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString()' 1000 * 20);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,TestAsyncTask,The following statement contains a magic number: Thread.Sleep(100);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The following statement contains a magic number: using (MemoryStream ms = new MemoryStream())              {                  var requestMessaageDoc = GetrequestMessaageDoc(url' token' requestType' eventType);                  requestMessaageDoc.Save(ms);                  ms.Seek(0' SeekOrigin.Begin);                    var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString());                    if (string.IsNullOrEmpty(responseMessageXml))                  {                      responseMessageXml = "返回消息为空，可能已经被去重。\r\nMsgId相同的连续消息将被自动去重。";                  }                    try                  {                      DateTime dt1 = DateTime.Now;                      if (testConcurrence)                      {                          testConcurrenceCount = testConcurrenceCount > 30 ? 30 : testConcurrenceCount;//设定最高限额                            //模拟并发请求                          List<Task<string>> taskList = new List<Task<string>>();                          for (int i = 0; i < testConcurrenceCount; i++)                          {                              var task = Task.Factory.StartNew(() => TestAsyncTask(url' token' requestMessaageDoc));                              taskList.Add(task);                          }                          Task.WaitAll(taskList.ToArray()' 1000 * 10);                      }                      DateTime dt2 = DateTime.Now;                        return Json(new { Success = true' LoadTime = (dt2 - dt1).TotalMilliseconds.ToString("##.####")' Result = responseMessageXml });                  }                  catch (Exception ex)                  {                      var msg = string.Format("{0}\r\n{1}\r\n{2}"' ex.Message' null' ex.InnerException != null ? ex.InnerException.Message : null);                      return Json(new { Success = false' Result = msg });                    }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The following statement contains a magic number: using (MemoryStream ms = new MemoryStream())              {                  var requestMessaageDoc = GetrequestMessaageDoc(url' token' requestType' eventType);                  requestMessaageDoc.Save(ms);                  ms.Seek(0' SeekOrigin.Begin);                    var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString());                    if (string.IsNullOrEmpty(responseMessageXml))                  {                      responseMessageXml = "返回消息为空，可能已经被去重。\r\nMsgId相同的连续消息将被自动去重。";                  }                    try                  {                      DateTime dt1 = DateTime.Now;                      if (testConcurrence)                      {                          testConcurrenceCount = testConcurrenceCount > 30 ? 30 : testConcurrenceCount;//设定最高限额                            //模拟并发请求                          List<Task<string>> taskList = new List<Task<string>>();                          for (int i = 0; i < testConcurrenceCount; i++)                          {                              var task = Task.Factory.StartNew(() => TestAsyncTask(url' token' requestMessaageDoc));                              taskList.Add(task);                          }                          Task.WaitAll(taskList.ToArray()' 1000 * 10);                      }                      DateTime dt2 = DateTime.Now;                        return Json(new { Success = true' LoadTime = (dt2 - dt1).TotalMilliseconds.ToString("##.####")' Result = responseMessageXml });                  }                  catch (Exception ex)                  {                      var msg = string.Format("{0}\r\n{1}\r\n{2}"' ex.Message' null' ex.InnerException != null ? ex.InnerException.Message : null);                      return Json(new { Success = false' Result = msg });                    }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The following statement contains a magic number: using (MemoryStream ms = new MemoryStream())              {                  var requestMessaageDoc = GetrequestMessaageDoc(url' token' requestType' eventType);                  requestMessaageDoc.Save(ms);                  ms.Seek(0' SeekOrigin.Begin);                    var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString());                    if (string.IsNullOrEmpty(responseMessageXml))                  {                      responseMessageXml = "返回消息为空，可能已经被去重。\r\nMsgId相同的连续消息将被自动去重。";                  }                    try                  {                      DateTime dt1 = DateTime.Now;                      if (testConcurrence)                      {                          testConcurrenceCount = testConcurrenceCount > 30 ? 30 : testConcurrenceCount;//设定最高限额                            //模拟并发请求                          List<Task<string>> taskList = new List<Task<string>>();                          for (int i = 0; i < testConcurrenceCount; i++)                          {                              var task = Task.Factory.StartNew(() => TestAsyncTask(url' token' requestMessaageDoc));                              taskList.Add(task);                          }                          Task.WaitAll(taskList.ToArray()' 1000 * 10);                      }                      DateTime dt2 = DateTime.Now;                        return Json(new { Success = true' LoadTime = (dt2 - dt1).TotalMilliseconds.ToString("##.####")' Result = responseMessageXml });                  }                  catch (Exception ex)                  {                      var msg = string.Format("{0}\r\n{1}\r\n{2}"' ex.Message' null' ex.InnerException != null ? ex.InnerException.Message : null);                      return Json(new { Success = false' Result = msg });                    }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,SimulateToolController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\SimulateToolController.cs,Index,The following statement contains a magic number: using (MemoryStream ms = new MemoryStream())              {                  var requestMessaageDoc = GetrequestMessaageDoc(url' token' requestType' eventType);                  requestMessaageDoc.Save(ms);                  ms.Seek(0' SeekOrigin.Begin);                    var responseMessageXml = MessageAgent.RequestXml(null' url' token' requestMessaageDoc.ToString());                    if (string.IsNullOrEmpty(responseMessageXml))                  {                      responseMessageXml = "返回消息为空，可能已经被去重。\r\nMsgId相同的连续消息将被自动去重。";                  }                    try                  {                      DateTime dt1 = DateTime.Now;                      if (testConcurrence)                      {                          testConcurrenceCount = testConcurrenceCount > 30 ? 30 : testConcurrenceCount;//设定最高限额                            //模拟并发请求                          List<Task<string>> taskList = new List<Task<string>>();                          for (int i = 0; i < testConcurrenceCount; i++)                          {                              var task = Task.Factory.StartNew(() => TestAsyncTask(url' token' requestMessaageDoc));                              taskList.Add(task);                          }                          Task.WaitAll(taskList.ToArray()' 1000 * 10);                      }                      DateTime dt2 = DateTime.Now;                        return Json(new { Success = true' LoadTime = (dt2 - dt1).TotalMilliseconds.ToString("##.####")' Result = responseMessageXml });                  }                  catch (Exception ex)                  {                      var msg = string.Format("{0}\r\n{1}\r\n{2}"' ex.Message' null' ex.InnerException != null ? ex.InnerException.Message : null);                      return Json(new { Success = false' Result = msg });                    }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,JsApi,The following statement contains a magic number: try              {                  //获取产品信息                  var products = ProductModel.GetFakeProductList();                  var product = products.FirstOrDefault(z => z.Id == productId);                  if (product == null || product.GetHashCode() != hc)                  {                      return Content("商品信息不存在，或非法进入！1002");                  }                    //var openId = User.Identity.Name;                  var openId = (string)Session["OpenId"];                    string sp_billno = Request["order_no"];                  if (string.IsNullOrEmpty(sp_billno))                  {                      //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                      sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                          TenPayV3Util.BuildRandomStr(6));                  }                  else                  {                      sp_billno = Request["order_no"];                  }                    var timeStamp = TenPayV3Util.GetTimestamp();                  var nonceStr = TenPayV3Util.GetNoncestr();                    var body = product == null ? "test" : product.Name;                  var price = product == null ? 100 : (int)product.Price * 100;//单位：分                  var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.JSAPI' openId' TenPayV3Info.Key' nonceStr);                    var result = TenPayV3.Unifiedorder(xmlDataInfo);//调用统一订单接口                                                                  //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                  var package = string.Format("prepay_id={0}"' result.prepay_id);                    ViewData["product"] = product;                    ViewData["appId"] = TenPayV3Info.AppId;                  ViewData["timeStamp"] = timeStamp;                  ViewData["nonceStr"] = nonceStr;                  ViewData["package"] = package;                  ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                    //临时记录订单信息，留给退款申请接口测试使用                  Session["BillNo"] = sp_billno;                  Session["BillFee"] = price;                    return View();              }              catch (Exception ex)              {                  var msg = ex.Message;                  msg += "<br>" + ex.StackTrace;                  msg += "<br>==Source==<br>" + ex.Source;                    if (ex.InnerException != null)                  {                      msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                  }                  return Content(msg);              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,JsApi,The following statement contains a magic number: try              {                  //获取产品信息                  var products = ProductModel.GetFakeProductList();                  var product = products.FirstOrDefault(z => z.Id == productId);                  if (product == null || product.GetHashCode() != hc)                  {                      return Content("商品信息不存在，或非法进入！1002");                  }                    //var openId = User.Identity.Name;                  var openId = (string)Session["OpenId"];                    string sp_billno = Request["order_no"];                  if (string.IsNullOrEmpty(sp_billno))                  {                      //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                      sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                          TenPayV3Util.BuildRandomStr(6));                  }                  else                  {                      sp_billno = Request["order_no"];                  }                    var timeStamp = TenPayV3Util.GetTimestamp();                  var nonceStr = TenPayV3Util.GetNoncestr();                    var body = product == null ? "test" : product.Name;                  var price = product == null ? 100 : (int)product.Price * 100;//单位：分                  var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.JSAPI' openId' TenPayV3Info.Key' nonceStr);                    var result = TenPayV3.Unifiedorder(xmlDataInfo);//调用统一订单接口                                                                  //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                  var package = string.Format("prepay_id={0}"' result.prepay_id);                    ViewData["product"] = product;                    ViewData["appId"] = TenPayV3Info.AppId;                  ViewData["timeStamp"] = timeStamp;                  ViewData["nonceStr"] = nonceStr;                  ViewData["package"] = package;                  ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                    //临时记录订单信息，留给退款申请接口测试使用                  Session["BillNo"] = sp_billno;                  Session["BillFee"] = price;                    return View();              }              catch (Exception ex)              {                  var msg = ex.Message;                  msg += "<br>" + ex.StackTrace;                  msg += "<br>==Source==<br>" + ex.Source;                    if (ex.InnerException != null)                  {                      msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                  }                  return Content(msg);              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,JsApi,The following statement contains a magic number: try              {                  //获取产品信息                  var products = ProductModel.GetFakeProductList();                  var product = products.FirstOrDefault(z => z.Id == productId);                  if (product == null || product.GetHashCode() != hc)                  {                      return Content("商品信息不存在，或非法进入！1002");                  }                    //var openId = User.Identity.Name;                  var openId = (string)Session["OpenId"];                    string sp_billno = Request["order_no"];                  if (string.IsNullOrEmpty(sp_billno))                  {                      //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                      sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                          TenPayV3Util.BuildRandomStr(6));                  }                  else                  {                      sp_billno = Request["order_no"];                  }                    var timeStamp = TenPayV3Util.GetTimestamp();                  var nonceStr = TenPayV3Util.GetNoncestr();                    var body = product == null ? "test" : product.Name;                  var price = product == null ? 100 : (int)product.Price * 100;//单位：分                  var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.JSAPI' openId' TenPayV3Info.Key' nonceStr);                    var result = TenPayV3.Unifiedorder(xmlDataInfo);//调用统一订单接口                                                                  //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                  var package = string.Format("prepay_id={0}"' result.prepay_id);                    ViewData["product"] = product;                    ViewData["appId"] = TenPayV3Info.AppId;                  ViewData["timeStamp"] = timeStamp;                  ViewData["nonceStr"] = nonceStr;                  ViewData["package"] = package;                  ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                    //临时记录订单信息，留给退款申请接口测试使用                  Session["BillNo"] = sp_billno;                  Session["BillFee"] = price;                    return View();              }              catch (Exception ex)              {                  var msg = ex.Message;                  msg += "<br>" + ex.StackTrace;                  msg += "<br>==Source==<br>" + ex.Source;                    if (ex.InnerException != null)                  {                      msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                  }                  return Content(msg);              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,Native,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(url' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,Native,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(url' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeNotifyUrl,The following statement contains a magic number: var sp_billno = DateTime.Now.ToString("HHmmss") + TenPayV3Util.BuildRandomStr(26);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeByCodeUrl,The following statement contains a magic number: var sp_billno = DateTime.Now.ToString("HHmmss") + TenPayV3Util.BuildRandomStr(26);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeByCodeUrl,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(codeUrl' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,NativeByCodeUrl,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(codeUrl' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,MicroPay,The following statement contains a magic number: var sp_billno = DateTime.Now.ToString("HHmmss") + TenPayV3Util.BuildRandomStr(28);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,PayNotifyUrl,The following statement contains a magic number: try              {                  ResponseHandler resHandler = new ResponseHandler(null);                    string return_code = resHandler.GetParameter("return_code");                  string return_msg = resHandler.GetParameter("return_msg");                    string res = null;                    resHandler.SetKey(TenPayV3Info.Key);                  //验证请求是否从微信发过来（安全）                  if (resHandler.IsTenpaySign() && return_code.ToUpper() == "SUCCESS")                  {                      res = "success";//正确的订单处理                      //直到这里，才能认为交易真正成功了，可以进行数据库操作，但是别忘了返回规定格式的消息！                  }                  else                  {                      res = "wrong";//错误的订单处理                  }                    /* 这里可以进行订单处理的逻辑 */                    //发送支付成功的模板消息                  try                  {                      string appId = WebConfigurationManager.AppSettings["WeixinAppId"];//与微信公众账号后台的AppId设置保持一致，区分大小写。                      string openId = resHandler.GetParameter("openid");                      var templateData = new WeixinTemplate_PaySuccess("https://weixin.senparc.com"' "购买商品"' "状态：" + return_code);                        Senparc.Weixin.WeixinTrace.SendCustomLog("支付成功模板消息参数"' appId+" ' "+openId);                        var result = AdvancedAPIs.TemplateApi.SendTemplateMessage(appId' openId' templateData);                  }                  catch(Exception ex)                  {                      Senparc.Weixin.WeixinTrace.SendCustomLog("支付成功模板消息"'ex.ToString());                  }                    #region 记录日志                    var logDir = Server.MapPath(string.Format("~/App_Data/TenPayNotify/{0}"' DateTime.Now.ToString("yyyyMMdd")));                  if (!Directory.Exists(logDir))                  {                      Directory.CreateDirectory(logDir);                  }                    var logPath = Path.Combine(logDir' string.Format("{0}-{1}-{2}.txt"' DateTime.Now.ToString("yyyyMMdd")' DateTime.Now.ToString("HHmmss")' Guid.NewGuid().ToString("n").Substring(0' 8)));                    using (var fileStream = System.IO.File.OpenWrite(logPath))                  {                      var notifyXml = resHandler.ParseXML();                      //fileStream.Write(Encoding.Default.GetBytes(res)' 0' Encoding.Default.GetByteCount(res));                        fileStream.Write(Encoding.Default.GetBytes(notifyXml)' 0' Encoding.Default.GetByteCount(notifyXml));                      fileStream.Close();                  }                    #endregion                      string xml = string.Format(@"<xml>  <return_code><![CDATA[{0}]]></return_code>  <return_msg><![CDATA[{1}]]></return_msg>  </xml>"' return_code' return_msg);                  return Content(xml' "text/xml");              }              catch (Exception ex)              {                  new WeixinException(ex.Message' ex);                  throw;              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,SendRedPack,The following statement contains a magic number: var sendNormalRedPackResult = RedPackApi.SendNormalRedPack(                  TenPayV3Info.AppId' TenPayV3Info.MchId' TenPayV3Info.Key'                  @"F:\apiclient_cert.p12"'     //证书物理地址                  "接受收红包的用户的openId"'   //接受收红包的用户的openId                  "红包发送者名称"'             //红包发送者名称                  Request.UserHostAddress'      //IP                  100'                          //付款金额，单位分                  "红包祝福语"'                 //红包祝福语                  "活动名称"'                   //活动名称                  "备注信息"'                   //备注信息                  out nonceStr'                  out paySign'                  null'                         //场景id（非必填）                  null'                         //活动信息（非必填）                  null                          //资金授权商户号，服务商替特约商户发放时使用（非必填）                  );
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,SendGroupRedPack,The following statement contains a magic number: string mchbillno = DateTime.Now.ToString("HHmmss") + TenPayV3Util.BuildRandomStr(28);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,ProductPayCode,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(url' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,ProductPayCode,The following statement contains a magic number: bitMatrix = new MultiFormatWriter().encode(url' BarcodeFormat.QR_CODE' 600' 600);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,H5Pay,The following statement contains a magic number: {                  try                  {                      //获取产品信息                      var products = ProductModel.GetFakeProductList();                      var product = products.FirstOrDefault(z => z.Id == productId);                      if (product == null || product.GetHashCode() != hc)                      {                          return Content("商品信息不存在，或非法进入！1002");                      }                        string openId = null;//此时在外部浏览器，无法或得到OpenId                        string sp_billno = Request["order_no"];                      if (string.IsNullOrEmpty(sp_billno))                      {                          //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                          sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                              TenPayV3Util.BuildRandomStr(6));                      }                      else                      {                          sp_billno = Request["order_no"];                      }                        var timeStamp = TenPayV3Util.GetTimestamp();                      var nonceStr = TenPayV3Util.GetNoncestr();                        var body = product == null ? "test" : product.Name;                      var price = product == null ? 100 : (int)product.Price * 100;                      //var ip = Request.Params["REMOTE_ADDR"];                      var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.MWEB/*此处无论传什么，方法内部都会强制变为MWEB*/' openId' TenPayV3Info.Key' nonceStr);                        var result = TenPayV3.Html5Order(xmlDataInfo);//调用统一订单接口                                                                    //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                        /*                       * result:{"device_info":""'"trade_type":"MWEB"'"prepay_id":"wx20170810143223420ae5b0dd0537136306"'"code_url":""'"mweb_url":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx20170810143223420ae5b0dd0537136306\u0026package=1505175207"'"appid":"wx669ef95216eef885"'"mch_id":"1241385402"'"sub_appid":""'"sub_mch_id":""'"nonce_str":"juTchIZyhXvZ2Rfy"'"sign":"5A37D55A897C854F64CCCC4C94CDAFE3"'"result_code":"SUCCESS"'"err_code":""'"err_code_des":""'"return_code":"SUCCESS"'"return_msg":null}                       */                      //return Json(result' JsonRequestBehavior.AllowGet);                        var package = string.Format("prepay_id={0}"' result.prepay_id);                        ViewData["product"] = product;                        ViewData["appId"] = TenPayV3Info.AppId;                      ViewData["timeStamp"] = timeStamp;                      ViewData["nonceStr"] = nonceStr;                      ViewData["package"] = package;                      ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                        //设置成功页面（也可以不设置，支付成功后默认返回来源地址）                      var returnUrl =                          string.Format("https://sdk.weixin.senparc.com/TenpayV3/H5PaySuccess?productId={0}&hc={1}"'                              productId' hc);                        var mwebUrl = result.mweb_url;                      if (!string.IsNullOrEmpty(returnUrl))                      {                          mwebUrl += string.Format("&redirect_url={0}"' returnUrl.AsUrlData());                      }                        ViewData["MWebUrl"] = mwebUrl;                        //临时记录订单信息，留给退款申请接口测试使用                      Session["BillNo"] = sp_billno;                      Session["BillFee"] = price;                        return View();                  }                  catch (Exception ex)                  {                      var msg = ex.Message;                      msg += "<br>" + ex.StackTrace;                      msg += "<br>==Source==<br>" + ex.Source;                        if (ex.InnerException != null)                      {                          msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                      }                      return Content(msg);                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,H5Pay,The following statement contains a magic number: {                  try                  {                      //获取产品信息                      var products = ProductModel.GetFakeProductList();                      var product = products.FirstOrDefault(z => z.Id == productId);                      if (product == null || product.GetHashCode() != hc)                      {                          return Content("商品信息不存在，或非法进入！1002");                      }                        string openId = null;//此时在外部浏览器，无法或得到OpenId                        string sp_billno = Request["order_no"];                      if (string.IsNullOrEmpty(sp_billno))                      {                          //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                          sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                              TenPayV3Util.BuildRandomStr(6));                      }                      else                      {                          sp_billno = Request["order_no"];                      }                        var timeStamp = TenPayV3Util.GetTimestamp();                      var nonceStr = TenPayV3Util.GetNoncestr();                        var body = product == null ? "test" : product.Name;                      var price = product == null ? 100 : (int)product.Price * 100;                      //var ip = Request.Params["REMOTE_ADDR"];                      var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.MWEB/*此处无论传什么，方法内部都会强制变为MWEB*/' openId' TenPayV3Info.Key' nonceStr);                        var result = TenPayV3.Html5Order(xmlDataInfo);//调用统一订单接口                                                                    //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                        /*                       * result:{"device_info":""'"trade_type":"MWEB"'"prepay_id":"wx20170810143223420ae5b0dd0537136306"'"code_url":""'"mweb_url":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx20170810143223420ae5b0dd0537136306\u0026package=1505175207"'"appid":"wx669ef95216eef885"'"mch_id":"1241385402"'"sub_appid":""'"sub_mch_id":""'"nonce_str":"juTchIZyhXvZ2Rfy"'"sign":"5A37D55A897C854F64CCCC4C94CDAFE3"'"result_code":"SUCCESS"'"err_code":""'"err_code_des":""'"return_code":"SUCCESS"'"return_msg":null}                       */                      //return Json(result' JsonRequestBehavior.AllowGet);                        var package = string.Format("prepay_id={0}"' result.prepay_id);                        ViewData["product"] = product;                        ViewData["appId"] = TenPayV3Info.AppId;                      ViewData["timeStamp"] = timeStamp;                      ViewData["nonceStr"] = nonceStr;                      ViewData["package"] = package;                      ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                        //设置成功页面（也可以不设置，支付成功后默认返回来源地址）                      var returnUrl =                          string.Format("https://sdk.weixin.senparc.com/TenpayV3/H5PaySuccess?productId={0}&hc={1}"'                              productId' hc);                        var mwebUrl = result.mweb_url;                      if (!string.IsNullOrEmpty(returnUrl))                      {                          mwebUrl += string.Format("&redirect_url={0}"' returnUrl.AsUrlData());                      }                        ViewData["MWebUrl"] = mwebUrl;                        //临时记录订单信息，留给退款申请接口测试使用                      Session["BillNo"] = sp_billno;                      Session["BillFee"] = price;                        return View();                  }                  catch (Exception ex)                  {                      var msg = ex.Message;                      msg += "<br>" + ex.StackTrace;                      msg += "<br>==Source==<br>" + ex.Source;                        if (ex.InnerException != null)                      {                          msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                      }                      return Content(msg);                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayV3Controller,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayV3Controller.cs,H5Pay,The following statement contains a magic number: {                  try                  {                      //获取产品信息                      var products = ProductModel.GetFakeProductList();                      var product = products.FirstOrDefault(z => z.Id == productId);                      if (product == null || product.GetHashCode() != hc)                      {                          return Content("商品信息不存在，或非法进入！1002");                      }                        string openId = null;//此时在外部浏览器，无法或得到OpenId                        string sp_billno = Request["order_no"];                      if (string.IsNullOrEmpty(sp_billno))                      {                          //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                          sp_billno = string.Format("{0}{1}{2}"' TenPayV3Info.MchId/*10位*/' DateTime.Now.ToString("yyyyMMddHHmmss")'                              TenPayV3Util.BuildRandomStr(6));                      }                      else                      {                          sp_billno = Request["order_no"];                      }                        var timeStamp = TenPayV3Util.GetTimestamp();                      var nonceStr = TenPayV3Util.GetNoncestr();                        var body = product == null ? "test" : product.Name;                      var price = product == null ? 100 : (int)product.Price * 100;                      //var ip = Request.Params["REMOTE_ADDR"];                      var xmlDataInfo = new TenPayV3UnifiedorderRequestData(TenPayV3Info.AppId' TenPayV3Info.MchId' body' sp_billno' price' Request.UserHostAddress' TenPayV3Info.TenPayV3Notify' TenPayV3Type.MWEB/*此处无论传什么，方法内部都会强制变为MWEB*/' openId' TenPayV3Info.Key' nonceStr);                        var result = TenPayV3.Html5Order(xmlDataInfo);//调用统一订单接口                                                                    //JsSdkUiPackage jsPackage = new JsSdkUiPackage(TenPayV3Info.AppId' timeStamp' nonceStr');                        /*                       * result:{"device_info":""'"trade_type":"MWEB"'"prepay_id":"wx20170810143223420ae5b0dd0537136306"'"code_url":""'"mweb_url":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx20170810143223420ae5b0dd0537136306\u0026package=1505175207"'"appid":"wx669ef95216eef885"'"mch_id":"1241385402"'"sub_appid":""'"sub_mch_id":""'"nonce_str":"juTchIZyhXvZ2Rfy"'"sign":"5A37D55A897C854F64CCCC4C94CDAFE3"'"result_code":"SUCCESS"'"err_code":""'"err_code_des":""'"return_code":"SUCCESS"'"return_msg":null}                       */                      //return Json(result' JsonRequestBehavior.AllowGet);                        var package = string.Format("prepay_id={0}"' result.prepay_id);                        ViewData["product"] = product;                        ViewData["appId"] = TenPayV3Info.AppId;                      ViewData["timeStamp"] = timeStamp;                      ViewData["nonceStr"] = nonceStr;                      ViewData["package"] = package;                      ViewData["paySign"] = TenPayV3.GetJsPaySign(TenPayV3Info.AppId' timeStamp' nonceStr' package' TenPayV3Info.Key);                        //设置成功页面（也可以不设置，支付成功后默认返回来源地址）                      var returnUrl =                          string.Format("https://sdk.weixin.senparc.com/TenpayV3/H5PaySuccess?productId={0}&hc={1}"'                              productId' hc);                        var mwebUrl = result.mweb_url;                      if (!string.IsNullOrEmpty(returnUrl))                      {                          mwebUrl += string.Format("&redirect_url={0}"' returnUrl.AsUrlData());                      }                        ViewData["MWebUrl"] = mwebUrl;                        //临时记录订单信息，留给退款申请接口测试使用                      Session["BillNo"] = sp_billno;                      Session["BillFee"] = price;                        return View();                  }                  catch (Exception ex)                  {                      var msg = ex.Message;                      msg += "<br>" + ex.StackTrace;                      msg += "<br>==Source==<br>" + ex.Source;                        if (ex.InnerException != null)                      {                          msg += "<br>===InnerException===<br>" + ex.InnerException.Message;                      }                      return Content(msg);                  }              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinAsyncController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinAsyncController.cs,MiniPost,The following statement contains a magic number: return Task.Factory.StartNew<ActionResult>(() =>              {                  if (!CheckSignature.Check(postModel.Signature' postModel.Timestamp' postModel.Nonce' Token))                  {                      return new WeixinResult("参数错误！");                  }                    postModel.Token = Token;                  postModel.EncodingAESKey = EncodingAESKey; //根据自己后台的设置保持一致                  postModel.AppId = AppId; //根据自己后台的设置保持一致                    var messageHandler = new CustomMessageHandler(Request.InputStream' postModel' 10);                    messageHandler.Execute(); //执行微信处理过程                    return new FixWeixinBugWeixinResult(messageHandler);                }).ContinueWith<ActionResult>(task => task.Result);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinAsyncController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinAsyncController.cs,ForTest,The following statement contains a magic number: return Task.Factory.StartNew<ActionResult>(() =>              {                  DateTime begin = DateTime.Now;                  int t1' t2' t3;                  System.Threading.ThreadPool.GetAvailableThreads(out t1' out t3);                  System.Threading.ThreadPool.GetMaxThreads(out t2' out t3);                  System.Threading.Thread.Sleep(TimeSpan.FromSeconds(0.1));                  DateTime end = DateTime.Now;                  var thread = System.Threading.Thread.CurrentThread;                  var result = string.Format("TId:{0}\tApp:{1}\tBegin:{2:mm:ss'ffff}\tEnd:{3:mm:ss'ffff}\tTPool：{4}"'                      thread.ManagedThreadId'                      HttpContext.ApplicationInstance.GetHashCode()'                      begin'                      end'                      t2 - t1                      );                  return Content(result);              });
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,Post,The following statement contains a magic number: var maxRecordCount = 10;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,MiniPost,The following statement contains a magic number: var messageHandler = new CustomMessageHandler(Request.InputStream' postModel' 10);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,ForTest,The following statement contains a magic number: System.Threading.Thread.Sleep(TimeSpan.FromSeconds(0.5));
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OriginalPost,The following statement contains a magic number: var responseTime = (DateTime.Now.Ticks - new DateTime(1970' 1' 1).Ticks) / 10000000 - 8 * 60 * 60;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OriginalPost,The following statement contains a magic number: var responseTime = (DateTime.Now.Ticks - new DateTime(1970' 1' 1).Ticks) / 10000000 - 8 * 60 * 60;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OriginalPost,The following statement contains a magic number: var responseTime = (DateTime.Now.Ticks - new DateTime(1970' 1' 1).Ticks) / 10000000 - 8 * 60 * 60;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OriginalPost,The following statement contains a magic number: var responseTime = (DateTime.Now.Ticks - new DateTime(1970' 1' 1).Ticks) / 10000000 - 8 * 60 * 60;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,WeixinController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WeixinController.cs,OriginalPost,The following statement contains a magic number: var responseTime = (DateTime.Now.Ticks - new DateTime(1970' 1' 1).Ticks) / 10000000 - 8 * 60 * 60;
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,JsApi,The following statement contains a magic number: if (null == sp_billno)              {                  //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                  sp_billno = DateTime.Now.ToString("HHmmss") + TenPayUtil.BuildRandomStr(4);              }              else              {                  sp_billno = Request["order_no"].ToString();              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,Native,The following statement contains a magic number: if (null == sp_billno)              {                  //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                  sp_billno = DateTime.Now.ToString("HHmmss") + TenPayUtil.BuildRandomStr(4);              }              else              {                  sp_billno = Request["order_no"].ToString();              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,NativeCall,The following statement contains a magic number: string out_trade_no = "" + DateTime.Now.ToString("HHmmss") + TenPayUtil.BuildRandomStr(4);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,NativeCall,The following statement contains a magic number: if (null == sp_billno)              {                  //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                  sp_billno = DateTime.Now.ToString("HHmmss") + TenPayUtil.BuildRandomStr(4);              }              else              {                  sp_billno = Request["order_no"].ToString();              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,Refund,The following statement contains a magic number: httpClient.SetTimeOut(10);
Magic Number,Senparc.Weixin.MP.Sample.Controllers,TenPayController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\TenPayController.cs,Delivernotify,The following statement contains a magic number: if (null == sp_billno)              {                  //生成订单10位序列号，此处用时间和随机数生成，商户根据自己调整，保证唯一                  sp_billno = DateTime.Now.ToString("HHmmss") + TenPayUtil.BuildRandomStr(4);              }              else              {                  sp_billno = Request["order_no"].ToString();              }
Magic Number,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,Post,The following statement contains a magic number: var maxRecordCount = 10;
Magic Number,Senparc.Weixin.MP.Sample.Controllers.WxOpen,WxOpenController,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Controllers\WxOpen\WxOpenController.cs,TemplateTest,The following statement contains a magic number: var data = new WxOpenTemplateMessage_PaySuccessNotice(                  "在线购买（小程序Demo测试）"' DateTime.Now' "图书众筹"' "1234567890"'                  100' "400-9939-858"' "http://sdk.senparc.weixin.com");
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
Magic Number,Senparc.Weixin.MP.Sample.Models,ProductModel,C:\repos\JeffreySu_WeiXinMPSDK\src\Senparc.Weixin.MP.Sample\Senparc.Weixin.MP.Sample\Models\ProductModel.cs,GetFakeProductList,The following statement contains a magic number: var list = ProductList ?? new List<ProductModel>()              {                  new ProductModel(1'"产品1"'(decimal)1.00)'                  new ProductModel(2'"产品2"'(decimal)2.00)'                  new ProductModel(3'"产品3"'(decimal)3.00)'                  new ProductModel(4'"产品4"'(decimal)4.00)'                  new ProductModel(5'"捐赠1"'(decimal)10.00)'                  new ProductModel(6'"捐赠2"'(decimal)50.00)'                  new ProductModel(7'"捐赠3"'(decimal)100.00)'                  new ProductModel(8'"捐赠4"'(decimal)500.00)'              };
