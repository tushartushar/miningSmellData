Implementation smell,Namespace,Class,File,Method,Description
Long Method,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The method has 105 lines of code.
Complex Method,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,Cyclomatic complexity of the method is 12
Long Parameter List,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The method has 6 parameters. Parameters: packetlength' magic' ver' action' param' body
Empty Catch Block,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The method has an empty catch block.
Empty Catch Block,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,Disconnect,The method has an empty catch block.
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: NetStream.ReadB(stableBuffer' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: packetlength < 16
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: NetStream.ReadB(stableBuffer' 0' 2);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: NetStream.ReadB(stableBuffer' 0' 2);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: NetStream.ReadB(stableBuffer' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: NetStream.ReadB(stableBuffer' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: var playloadlength = packetlength - 16;
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,ReceiveMessageLoop,The following statement contains a magic number: switch (typeId)                          {                              case 0:                              case 1:                              case 2:                                  {                                                                              var viewer = BitConverter.ToUInt32(buffer.Take(4).Reverse().ToArray()' 0); //¹ÛÖÚÈËÊý                                      Console.WriteLine(viewer);                                      if (ReceivedRoomCount != null)                                      {                                          ReceivedRoomCount(this' new ReceivedRoomCountArgs() { UserCount = viewer });                                      }                                      break;                                  }                              case 3:                              case 4://playerCommand                                  {                                                                           var json = Encoding.UTF8.GetString(buffer' 0' playloadlength);                                      if (debuglog)                                      {                                          Console.WriteLine(json);                                        }                                      try                                      {                                          DanmakuModel dama = new DanmakuModel(json' 2);                                          if (ReceivedDanmaku != null)                                          {                                              ReceivedDanmaku(this' new ReceivedDanmakuArgs() { Danmaku = dama });                                          }                                        }                                      catch (Exception)                                      {                                          // ignored                                      }                                        break;                                  }                              case 5://newScrollMessage                                  {                                                                            break;                                  }                              case 7:                                  {                                                                           break;                                  }                              case 16:                                  {                                      break;                                  }                              default:                                  {                                                                           break;                                  }                                  //                                               }
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,HeartbeatLoop,The following statement contains a magic number: await Task.Delay(30000);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendHeartbeatAsync,The following statement contains a magic number: SendSocketData(2);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: SendSocketData(0' 16' protocolversion' action' 1' body);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: packetlength = playload.Length + 16;
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: ms.Write(b' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: ms.Write(b' 0' 2);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: ms.Write(b' 0' 2);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: ms.Write(b' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendSocketData,The following statement contains a magic number: ms.Write(b' 0' 4);
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendJoinChannel,The following statement contains a magic number: var tmpuid = (long)(1e14 + 2e14*r.NextDouble());
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendJoinChannel,The following statement contains a magic number: var tmpuid = (long)(1e14 + 2e14*r.NextDouble());
Magic Number,BiliDMLib,DanmakuLoader,D:\research\architectureSmells\repos\copyliu_bililive_dm\BiliDMLib\DanmakuLoader.cs,SendJoinChannel,The following statement contains a magic number: SendSocketData(7' playload);
