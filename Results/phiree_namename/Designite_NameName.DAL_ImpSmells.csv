Implementation smell,Namespace,Class,File,Method,Description
Complex Method,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,Cyclomatic complexity of the method is 9
Long Parameter List,NameName.DAL,DALDuty,C:\repos\phiree_namename\NameName.DAL\DALDuty.cs,OnDuty,The method has 5 parameters.
Long Parameter List,NameName.DAL,DALProInfo,C:\repos\phiree_namename\NameName.DAL\DALProInfo.cs,GetProsPaged,The method has 5 parameters.
Long Statement,NameName.DAL,DALDuty,C:\repos\phiree_namename\NameName.DAL\DALDuty.cs,GetDutyUser,The length of the statement  "	Shop_DutyInfo duty = QueryFutureValue (string.Format (@"select u from Shop_DutyInfo u where u.Shop.ShopID='{0}'"' shop.ShopID)); " is 128.
Long Statement,NameName.DAL,DALDuty,C:\repos\phiree_namename\NameName.DAL\DALDuty.cs,GetDutyShop,The length of the statement  "	Shop_DutyInfo duty = QueryFutureValue (string.Format (@"select u from Shop_DutyInfo u where u.User.UserName='{0}'"' user.UserName)); " is 132.
Long Statement,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The length of the statement  "	IList<Sys_FormatSerialNo> flagNos = QueryFutureList ("select s from Sys_FormatSerialNo s where s.Flag='" + flag + "' "); " is 120.
Long Statement,NameName.DAL,HybridSessionBuilder,C:\repos\phiree_namename\NameName.DAL\HybridSessionBuilder.cs,getSessionFactory,The length of the statement  "		_sessionFactory = Fluently.Configure ().Database (MsSqlConfiguration.MsSql2008.ShowSql ().ConnectionString (c => c.Server (DbConfig.Server).Database (DbConfig.DataBase).Username (DbConfig.Uid).Password (DbConfig.Pwd))).Mappings (m => //  m.FluentMappings.Add(AssemblyOf<Model.Area>(cfg))) " is 288.
Long Statement,NameName.DAL,HybridSessionBuilder,C:\repos\phiree_namename\NameName.DAL\HybridSessionBuilder.cs,getSessionFactory,The length of the statement  "		m.FluentMappings.AddFromAssemblyOf<NameName.Model.Mapping.ShopInfoMap> ()).ExposeConfiguration (BuildSchema).BuildSessionFactory (); " is 132.
Long Statement,NameName.DAL,DALUser,C:\repos\phiree_namename\NameName.DAL\DALUser.cs,GetUsersByDepartAndNotAssign,The length of the statement  "                        where u.DepartInfo.DepartID='" + departid.ToString () + "' and u.ShopInfo = null and u.IsShopUser = true and u.DeleteFlag=false"; " is 129.
Long Statement,NameName.DAL,DALProInfo,C:\repos\phiree_namename\NameName.DAL\DALProInfo.cs,GetProsByLastUpDateTime,The length of the statement  "	return QueryFutureList (" select a from ProInfo a where a.DeleteFlag=false and a.LastUpDateTime > '" + lastupdate + "'"); " is 121.
Long Statement,NameName.DAL,DALProInfo,C:\repos\phiree_namename\NameName.DAL\DALProInfo.cs,GetProCatesByAreaID,The length of the statement  "	string sql = "Select distinct a.ProCate from ProInfo a'ProPrice b where a.DeleteFlag=false and a.ProID = b.ProInfo.ProID And b.AreaInfo.AreaID='" + areaid.ToString () + "' order by a.ProCate "; " is 193.
Long Statement,NameName.DAL,DALProInfo,C:\repos\phiree_namename\NameName.DAL\DALProInfo.cs,GetProsByAreaID,The length of the statement  "	return QueryFutureList (" select a from ProInfo a'ProPrice b where a.DeleteFlag=false and a.ProID = b.ProInfo.ProID And b.AreaInfo.AreaID='" + areaid.ToString () + "' order by a.LastUpDateTime desc "); " is 201.
Long Statement,NameName.DAL,DALShopAskList,C:\repos\phiree_namename\NameName.DAL\DALShopAskList.cs,GetByDateTime,The length of the statement  "	string sql = " select a from Shop_AskList a where a.CrtDate between '" + begindate + "' and '" + enddate.AddDays (1) + "' and a.ShopInfo.ShopID = '" + shopid + "'"; " is 164.
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 0) {  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Flag = flag;  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' 1);  	serialNo = format.ToString ();  	session.Save (format);  	session.Flush ();  }  else if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Day = EnsureFormatItemLength (2' now.Day);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Month = EnsureFormatItemLength (2' now.Month);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Year = EnsureFormatItemLength (2' now.Year);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Value = EnsureFormatItemLength (4' 1);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (flagNos.Count == 1) {  	format = flagNos [0];  	int year = int.Parse (format.Year);  	int month = int.Parse (format.Month);  	int day = int.Parse (format.Day);  	int value = int.Parse (format.Value);  	if (now.Year % 100 > year) {  		month = 1;  		day = 1;  		value = 1;  	}  	else if (now.Year % 100 == year) {  		if (now.Month > month) {  			day = 1;  			value = 1;  		}  		else if (now.Month == month) {  			if (now.Day > day) {  				value = 1;  			}  			else if (now.Day == day) {  				value = value + 1;  			}  			else {  				throw new Exception ("日期错误'请检查电脑的时间设置");  			}  		}  		else {  			throw new Exception ("月份错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("年份错误'请检查电脑的时间设置");  	}  	format.Day = EnsureFormatItemLength (2' now.Day);  	format.Month = EnsureFormatItemLength (2' now.Month);  	format.Year = EnsureFormatItemLength (2' now.Year);  	format.Value = EnsureFormatItemLength (4' value);  	serialNo = format.ToString ();  	session.Update (format);  	session.Flush ();  }  else {  	throw new Exception ("流水号生成错误:出现" + flagNos.Count + "个相同的Flag");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (now.Year % 100 > year) {  	month = 1;  	day = 1;  	value = 1;  }  else if (now.Year % 100 == year) {  	if (now.Month > month) {  		day = 1;  		value = 1;  	}  	else if (now.Month == month) {  		if (now.Day > day) {  			value = 1;  		}  		else if (now.Day == day) {  			value = value + 1;  		}  		else {  			throw new Exception ("日期错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("月份错误'请检查电脑的时间设置");  	}  }  else {  	throw new Exception ("年份错误'请检查电脑的时间设置");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (now.Year % 100 > year) {  	month = 1;  	day = 1;  	value = 1;  }  else if (now.Year % 100 == year) {  	if (now.Month > month) {  		day = 1;  		value = 1;  	}  	else if (now.Month == month) {  		if (now.Day > day) {  			value = 1;  		}  		else if (now.Day == day) {  			value = value + 1;  		}  		else {  			throw new Exception ("日期错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("月份错误'请检查电脑的时间设置");  	}  }  else {  	throw new Exception ("年份错误'请检查电脑的时间设置");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: if (now.Year % 100 == year) {  	if (now.Month > month) {  		day = 1;  		value = 1;  	}  	else if (now.Month == month) {  		if (now.Day > day) {  			value = 1;  		}  		else if (now.Day == day) {  			value = value + 1;  		}  		else {  			throw new Exception ("日期错误'请检查电脑的时间设置");  		}  	}  	else {  		throw new Exception ("月份错误'请检查电脑的时间设置");  	}  }  else {  	throw new Exception ("年份错误'请检查电脑的时间设置");  }  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Day = EnsureFormatItemLength (2' now.Day);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Month = EnsureFormatItemLength (2' now.Month);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Year = EnsureFormatItemLength (2' now.Year);  
Magic Number,NameName.DAL,DALSys_FormatSerialNo,C:\repos\phiree_namename\NameName.DAL\DALSys_FormatSerialNo.cs,GetSerialNo,The following statement contains a magic number: format.Value = EnsureFormatItemLength (4' value);  
