Implementation smell,Namespace,Class,File,Method,Description
Complex Method,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetPublishDate,Cyclomatic complexity of the method is 9
Complex Method,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetContent,Cyclomatic complexity of the method is 11
Magic Number,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetArticle,The following statement contains a magic number: if (html.Count(c => c == '\n') < 10)              {                  html = html.Replace(">"' ">\n");              }
Magic Number,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetPublishDate,The following statement contains a magic number: DateTime result = new DateTime(1900' 1' 1);
Magic Number,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetPublishDate,The following statement contains a magic number: if (match.Success)              {                  try                  {                      string dateStr = "";                      for (int i = 0; i < match.Groups.Count; i++)                      {                          dateStr = match.Groups[i].Value;                          if (!String.IsNullOrEmpty(dateStr))                          {                              break;                          }                      }                      // 对中文日期的处理                      if (dateStr.Contains("年"))                      {                          StringBuilder sb = new StringBuilder();                          foreach (var ch in dateStr)                          {                              if (ch == '年' || ch == '月')                              {                                  sb.Append("/");                                  continue;                              }                              if (ch == '日')                              {                                  sb.Append(' ');                                  continue;                              }                              sb.Append(ch);                          }                          dateStr = sb.ToString();                      }                      result = Convert.ToDateTime(dateStr);                  }                  catch (Exception ex)                  {                      Console.WriteLine(ex);                  }                  if (result.Year < 1900)                  {                      result = new DateTime(1900' 1' 1);                  }              }
Magic Number,StanSoft,Html2Article,C:\repos\stanzhai_Html2Article\src\Html2Article\Html2Article.cs,GetPublishDate,The following statement contains a magic number: if (match.Success)              {                  try                  {                      string dateStr = "";                      for (int i = 0; i < match.Groups.Count; i++)                      {                          dateStr = match.Groups[i].Value;                          if (!String.IsNullOrEmpty(dateStr))                          {                              break;                          }                      }                      // 对中文日期的处理                      if (dateStr.Contains("年"))                      {                          StringBuilder sb = new StringBuilder();                          foreach (var ch in dateStr)                          {                              if (ch == '年' || ch == '月')                              {                                  sb.Append("/");                                  continue;                              }                              if (ch == '日')                              {                                  sb.Append(' ');                                  continue;                              }                              sb.Append(ch);                          }                          dateStr = sb.ToString();                      }                      result = Convert.ToDateTime(dateStr);                  }                  catch (Exception ex)                  {                      Console.WriteLine(ex);                  }                  if (result.Year < 1900)                  {                      result = new DateTime(1900' 1' 1);                  }              }
Magic Number,StanSoft,UrlUtility,C:\repos\stanzhai_Html2Article\src\Html2Article\UrlUtility.cs,FixUrl,The following statement contains a magic number: html = Regex.Replace(html' "(?is)(href|src)=(\"|\')([^(\"|\')]+)(\"|\')"' (match) =>              {                  string org = match.Value;                  string link = match.Groups[3].Value;                  if (link.StartsWith("http"))                  {                      return org;                  }                    try                  {                      Uri uri = new Uri(baseUrl);                      Uri thisUri = new Uri(uri' link);                      string fullUrl = String.Format("{0}=\"{1}\""' match.Groups[1].Value' thisUri.AbsoluteUri);                      return fullUrl;                  }                  catch (Exception)                  {                      return org;                  }              });
