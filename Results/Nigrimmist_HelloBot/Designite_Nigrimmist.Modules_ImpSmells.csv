Implementation smell,Namespace,Class,File,Method,Description
Long Statement,Nigrimmist.Modules.Commands,ItHappens,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\ItHappens.cs,HandleMessage,The length of the statement  "                    Jokes.Add(div.InnerHtml.Replace("<p>"' "").Replace("</p>"' Environment.NewLine + Environment.NewLine).RemoveAllTags().Trim()); " is 126.
Long Statement,Nigrimmist.Modules.Commands,LangExecuter,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\LangExecuter.cs,HandleMessage,The length of the statement  "                hrm.Post("http://rextester.com/rundotnet/Run"' string.Format("LanguageChoiceWrapper=1&EditorChoiceWrapper=1&Program={0}&Input=&ShowWarnings=false&Title=&SavedOutput=&WholeError=&WholeWarning=&StatsToSave=&CodeGuid=&IsInEditMode=False&IsLive=False" " is 247.
Long Statement,Nigrimmist.Modules.Commands,Translate,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Translate.cs,HandleMessage,The length of the statement  "            hrm.Get(string.Format("https://translate.google.ru/translate_a/single?client=t&sl={0}&tl={1}&hl=ru&dt=bd&dt=ex&dt=ld&dt=md&dt=qc&dt=rw&dt=rm&dt=ss&dt=t&dt=at&dt=sw&ie=UTF-8&oe=UTF-8&oc=1&otf=2&ssel=0&tsel=0&q="' fromLang' toLang) + HttpUtility.UrlEncode(args)); " is 261.
Magic Number,Nigrimmist.Modules.Commands,Boobs,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Boobs.cs,HandleMessage,The following statement contains a magic number: if (!Images.Any())              {                  HtmlReaderManager hrm = new HtmlReaderManager();                  hrm.Get("http://boobs-selfshots.tumblr.com/page/" + r.Next(1' 600));                  string html = hrm.Html;                  HtmlDocument htmlDoc = new HtmlDocument();                  htmlDoc.LoadHtml(html);                  var divs = htmlDoc.DocumentNode.SelectNodes(@"//./div[@class='photo_post']/a/img");                  StringBuilder sb = new StringBuilder();                  foreach (var div in divs)                  {                      Images.Add(div.Attributes["src"].Value);                  }              }
Magic Number,Nigrimmist.Modules.Commands,Bash,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Bash.cs,HandleMessage,The following statement contains a magic number: if (!Jokes.Any())              {                  HtmlReaderManager hrm = new HtmlReaderManager();                  hrm.Encoding = Encoding.GetEncoding(1251);                  hrm.Get("http://bash.im/random");                  string html = hrm.Html;                  HtmlDocument htmlDoc = new HtmlDocument();                  htmlDoc.LoadHtml(html);                  var divs = htmlDoc.DocumentNode.SelectNodes(@"//./div[@class='text']");                    foreach (var div in divs)                  {                      Jokes.Add(HttpUtility.HtmlDecode(div.InnerHtml.Replace("<br>"' Environment.NewLine)));                  }              }
Magic Number,Nigrimmist.Modules.Commands,Advice,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\FuckingAdvice.cs,HandleMessage,The following statement contains a magic number: hrm.Encoding = Encoding.GetEncoding(1251);
Magic Number,Nigrimmist.Modules.Commands,LangExecuter,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\LangExecuter.cs,HandleMessage,The following statement contains a magic number: if (args.StartsWith("help"))              {                  sendMessageFunc(GetHelpText()'AnswerBehaviourType.Text);              }              else              {                  string templateCode = @"using System;  using System.Collections.Generic;  using System.Linq;  using System.Text.RegularExpressions;    namespace Rextester  {{      public class Program      {{          public static void Main(string[] args)          {{              {0}          }}          public static void Out(object obj){{              Console.WriteLine(obj);          }}      }}  }}";                    HtmlReaderManager hrm = new HtmlReaderManager();                    hrm.Post("http://rextester.com/rundotnet/Run"' string.Format("LanguageChoiceWrapper=1&EditorChoiceWrapper=1&Program={0}&Input=&ShowWarnings=false&Title=&SavedOutput=&WholeError=&WholeWarning=&StatsToSave=&CodeGuid=&IsInEditMode=False&IsLive=False"                      ' HttpUtility.UrlEncode(string.Format(templateCode' args))));                  var response = JsonConvert.DeserializeObject<dynamic>(hrm.Html);                  string toReturn = response.Result.ToString();                    if (string.IsNullOrEmpty(toReturn))                  {                      toReturn = response.Errors.ToString();                  }                    if (!string.IsNullOrEmpty(toReturn))                  {                      toReturn = toReturn.Replace(Environment.NewLine'" ").Trim();                      sendMessageFunc(toReturn.Length > 200 ? toReturn.Substring(0' 50) + "..." : toReturn' AnswerBehaviourType.Text);                  }                                                  }
Magic Number,Nigrimmist.Modules.Commands,LangExecuter,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\LangExecuter.cs,HandleMessage,The following statement contains a magic number: if (args.StartsWith("help"))              {                  sendMessageFunc(GetHelpText()'AnswerBehaviourType.Text);              }              else              {                  string templateCode = @"using System;  using System.Collections.Generic;  using System.Linq;  using System.Text.RegularExpressions;    namespace Rextester  {{      public class Program      {{          public static void Main(string[] args)          {{              {0}          }}          public static void Out(object obj){{              Console.WriteLine(obj);          }}      }}  }}";                    HtmlReaderManager hrm = new HtmlReaderManager();                    hrm.Post("http://rextester.com/rundotnet/Run"' string.Format("LanguageChoiceWrapper=1&EditorChoiceWrapper=1&Program={0}&Input=&ShowWarnings=false&Title=&SavedOutput=&WholeError=&WholeWarning=&StatsToSave=&CodeGuid=&IsInEditMode=False&IsLive=False"                      ' HttpUtility.UrlEncode(string.Format(templateCode' args))));                  var response = JsonConvert.DeserializeObject<dynamic>(hrm.Html);                  string toReturn = response.Result.ToString();                    if (string.IsNullOrEmpty(toReturn))                  {                      toReturn = response.Errors.ToString();                  }                    if (!string.IsNullOrEmpty(toReturn))                  {                      toReturn = toReturn.Replace(Environment.NewLine'" ").Trim();                      sendMessageFunc(toReturn.Length > 200 ? toReturn.Substring(0' 50) + "..." : toReturn' AnswerBehaviourType.Text);                  }                                                  }
Magic Number,Nigrimmist.Modules.Commands,Map,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Map.cs,HandleMessage,The following statement contains a magic number: if (!string.IsNullOrEmpty(args))              {                  string inputProvider = args.Split(' ').First();                    if (inputProvider == "help")                  {                      sendMessageFunc(helpMsg' AnswerBehaviourType.Text);                  }                  else if (args.Contains(fromToDelimeter))                  {                      var addressParts = args.Split(new []{fromToDelimeter}'StringSplitOptions.RemoveEmptyEntries);                      if (addressParts.Count() == 2)                      {                          var leftPart = addressParts[0];                          var rightPart = addressParts[1];                          string foundProvider;                          if (!mapDirectionProviders.TryGetValue(inputProvider' out foundProvider))                          {                              inputProvider = defaultProvider;                              foundProvider = mapDirectionProviders[inputProvider];                          }                          else                          {                              leftPart = leftPart.Substring(inputProvider.Length).Trim();                          }                          string url = string.Format(foundProvider' HttpUtility.UrlEncode(leftPart)' HttpUtility.UrlEncode(rightPart));                          sendMessageFunc(url.ToShortUrl()' AnswerBehaviourType.Link);                      }                  }                  else                  {                      string foundProvider;                      string address = args;                      if (!mapUrlProviders.TryGetValue(inputProvider' out foundProvider))                      {                          inputProvider = defaultProvider;                          foundProvider = mapUrlProviders[inputProvider];                      }                      else                      {                          address = args.Substring(inputProvider.Length).Trim();                          }                      string url = string.Format(foundProvider' HttpUtility.UrlEncode(address));                      sendMessageFunc(url.ToShortUrl()' AnswerBehaviourType.Link);                  }              }
Magic Number,Nigrimmist.Modules.Commands,OrModule,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\OrModule.cs,HandleMessage,The following statement contains a magic number: if (r.Next(1' 101) < ChanceOfSpecialAnswer)                  answer = string.Format(cusstomMessages[r.Next(0' cusstomMessages.Count)]' answer);
Magic Number,Nigrimmist.Modules.Commands,WhatIsIt,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\WhatIsIt.cs,HandleMessage,The following statement contains a magic number: if (content != null && !content.InnerText.Contains("запросу не найдено"))              {                  string h = content.InnerHtml;                  if (h.Contains("<b>"))                  {                                            h = HttpUtility.HtmlDecode(h.Substring(h.IndexOf("<b>"))).Replace("\n"' "");                                            htmlDoc.LoadHtml(h);                                            h = Regex.Replace(htmlDoc.DocumentNode.InnerText' @"( ?\[.*?\])|( ?\(.*?\))"' "");                      if (h.Contains("."))                      {                          h = h.Substring(0'h.IndexOf("."));                          answer = h.Length > 700 ? h.Substring(0' 700) + "..." : h+".";                      }                                        }              }
Magic Number,Nigrimmist.Modules.Commands,WhatIsIt,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\WhatIsIt.cs,HandleMessage,The following statement contains a magic number: if (content != null && !content.InnerText.Contains("запросу не найдено"))              {                  string h = content.InnerHtml;                  if (h.Contains("<b>"))                  {                                            h = HttpUtility.HtmlDecode(h.Substring(h.IndexOf("<b>"))).Replace("\n"' "");                                            htmlDoc.LoadHtml(h);                                            h = Regex.Replace(htmlDoc.DocumentNode.InnerText' @"( ?\[.*?\])|( ?\(.*?\))"' "");                      if (h.Contains("."))                      {                          h = h.Substring(0'h.IndexOf("."));                          answer = h.Length > 700 ? h.Substring(0' 700) + "..." : h+".";                      }                                        }              }
Magic Number,Nigrimmist.Modules.Commands,Translate,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Translate.cs,HandleMessage,The following statement contains a magic number: string anwser = html.Substring(4' html.IndexOf(@"""'""") - 4);
Magic Number,Nigrimmist.Modules.Commands,Translate,C:\repos\Nigrimmist_HelloBot\CustomModules\Nigrimmist.Modules\Commands\Translate.cs,HandleMessage,The following statement contains a magic number: string anwser = html.Substring(4' html.IndexOf(@"""'""") - 4);
