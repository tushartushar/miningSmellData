Implementation smell,Namespace,Class,File,Method,Description
Complex Method,EmaPersonalWiki,DropboxSettings,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\DropboxSettings.cs,GetDropboxPath,Cyclomatic complexity of the method is 17
Complex Method,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,Cyclomatic complexity of the method is 10
Complex Method,EmaPersonalWiki,UpgradeCheck,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\UpgradeCheck.cs,checkUpgrade,Cyclomatic complexity of the method is 8
Complex Method,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,InitializeStorageDir,Cyclomatic complexity of the method is 13
Long Statement,EmaPersonalWiki,DesktopHtmlWrapper,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\DesktopHtmlWrapper.cs,ReplaceFileReferences,The length of the statement  "	return html.Replace (" src=\"emafile:"' string.Concat (" src=\"file:///"' App.StorageDirectory.Replace ("\\"' "/")' "/")); " is 122.
Long Statement,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The length of the statement  "	if (MessageBox.Show ("Copy this file to the wiki?"' "Ema Personal Wiki asks"' MessageBoxButton.OKCancel) == MessageBoxResult.Cancel) " is 132.
Long Statement,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The length of the statement  "			var newFileName = string.Concat (WikiStorage.GetSafePageName (_pageName)' "."' HttpUtility.UrlEncode (fileToCopy.Name)); " is 120.
Long Statement,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The length of the statement  "				if (MessageBox.Show ("The file already exists. Should it be replaced with the new file?"' "Ema Personal Wiki asks"' MessageBoxButton.OKCancel) == MessageBoxResult.Cancel) { " is 172.
Long Statement,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The length of the statement  "			textBox1.SelectedText = string.Format ("{2}[{0}](emafile:{1})"' fileToCopy.Name' newFileName' isImage ? "!" : string.Empty); " is 124.
Long Statement,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The length of the statement  "			if (MessageBox.Show ("Sorry' the file could not be copied. The following excuse is provided:\n" + ex.Message + "\n\nTry again?"' "Ema Personal Wiki apologizes"' MessageBoxButton.OKCancel) == MessageBoxResult.Cancel) { " is 217.
Long Statement,EmaPersonalWiki,LocalWikiStorage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\LocalWikiStorage.cs,getFileOfPage,The length of the statement  "	return new FileInfo (System.IO.Path.Combine (App.StorageDirectory' string.Concat (GetSafePageName (pageName)' Extension))); " is 123.
Long Statement,EmaPersonalWiki,LocalWikiStorage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\LocalWikiStorage.cs,Find,The length of the statement  "				var result = SearchAlgorithm.SearchPage (file2.Name.Substring (0' file2.Name.Length - Extension.Length)' contents' query); " is 122.
Long Statement,EmaPersonalWiki,WikiStorage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\WikiStorage.cs,GetFileContents,The length of the statement  "Create a link to a new or existing page by surrounding a word with curly brackets like {Todo}' or by using a WikiWord (a word with mixed casing)." is 145.
Long Statement,EmaPersonalWiki,WikiStorage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\WikiStorage.cs,GetFileContents,The length of the statement  "To synchronize the wiki pages between your desktop computer and an Android device' install Dropbox on the desktop computer and provide your" is 139.
Long Statement,EmaPersonalWiki,WikiStorage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\WikiStorage.cs,GetFileContents,The length of the statement  "Ema Personal Wiki' version 1.0' is a notebook with linkable pages for tracking your ideas' tasks' projects' notes' brainstorms - in short' your life - in the most flexible way." is 176.
Long Statement,EmaPersonalWiki,PagesDal,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\PagesDal.cs,ticker,The length of the statement  "		replacement = m.Groups [0].Value.Replace ("[ ]"' "[_]").Replace ("[x]"' "[ ]").Replace ("[X]"' "[ ]").Replace ("[_]"' "[x]"); " is 125.
Long Statement,EmaPersonalWiki,SettingsWindow,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SettingsWindow.xaml.cs,buttonReset_Click,The length of the statement  "	switch (MessageBox.Show ("Should I try to use the Dropbox directory?"' "Ema Personal Wiki asks"' MessageBoxButton.YesNoCancel)) { " is 129.
Long Statement,EmaPersonalWiki,SettingsWindow,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SettingsWindow.xaml.cs,buttonStyling_Click,The length of the statement  "		MessageBox.Show ("Sorry' I could not open the css file. You can try to find or create it yourself in the application directory."' "Ema Personal Wiki apologizes"); " is 162.
Long Statement,EmaPersonalWiki,UpgradeCheck,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\UpgradeCheck.cs,checkUpgrade,The length of the statement  "		mShouldAskFirst = latest.Attribute ("ask") != null && latest.Attribute ("ask").Value.Equals ("true"' StringComparison.CurrentCultureIgnoreCase); " is 144.
Long Statement,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,App_DispatcherUnhandledException,The length of the statement  "	if (MessageBox.Show ("Unfortunately' an error occurred from which Ema Personal Wiki could not recover.\n\nThe application will close. For what it's worth' the error message is:\n" + e.Exception.Message + "\n\nIf it annoys you' please report the error to ema@janwillemboer.nl.\nDo you want to copy the error details to the clipboard?"' "Ema regrets to inform you"' MessageBoxButton.YesNo) == MessageBoxResult.Yes) { " is 414.
Long Statement,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,Application_Exit,The length of the statement  "			if (!mUpgradeCheck.ShouldAskFirst || MessageBox.Show ("There is a new version of Ema Personal Wiki. Would you like to install it now?\n\n" + mUpgradeCheck.UpgradeText' "Ema Personal Wiki says"' MessageBoxButton.YesNo) == MessageBoxResult.Yes) { " is 244.
Long Statement,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,Application_Exit,The length of the statement  "				if (MessageBox.Show ("Do you want to be remembered about this update the next time?"' "Ema Personal Wiki asks"' MessageBoxButton.YesNo) == MessageBoxResult.No) { " is 161.
Long Statement,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,MenuItemDelete_Click,The length of the statement  "	if (System.Windows.MessageBox.Show ("You're about to delete page " + _currentPage.PageName + ". You can undo this if changes are synchronized with Dropbox."' "Ema Personal Wiki states"' MessageBoxButton.OKCancel) == MessageBoxResult.OK) { " is 238.
Empty Catch Block,EmaPersonalWiki,EditPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\EditPage.xaml.cs,textBox1_Drop,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,closeSplash,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,log,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,Main,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,InitializeStorageDir,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,InitializeStorageDir,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,registerHotkey,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,unregisterHotkey,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,getCurrentScrollPos,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,getCurrentScrollPos,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,mWatcher_Changed,The method has an empty catch block.
Empty Catch Block,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,focusOnBrowser,The method has an empty catch block.
Magic Number,EmaPersonalWiki,FileHelpers,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\FileHelpers.cs,DoRetryableFileIO,The following statement contains a magic number: for (int i = 0; i < Settings.Default.NumberOfRetriesAfterFileFailure; i++) {  	ex = null;  	try {  		a.Invoke ();  		break;  	} catch (IOException e) {  		ex = e;  		Thread.Sleep (500);  	}  }  
Magic Number,EmaPersonalWiki,FileHelpers,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\FileHelpers.cs,DoRetryableFileIO,The following statement contains a magic number: try {  	a.Invoke ();  	break;  } catch (IOException e) {  	ex = e;  	Thread.Sleep (500);  }  
Magic Number,EmaPersonalWiki,FileHelpers,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\FileHelpers.cs,DoRetryableFileIO,The following statement contains a magic number: Thread.Sleep (500);  
Magic Number,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,The following statement contains a magic number: if (pageName.IndexOf (query' StringComparison.OrdinalIgnoreCase) > -1) {  	retval.Relevance = 1.0;  	createSnippet (retval' originalText' 0);  } else {  	var queryPos = textToSearch.IndexOf (query' StringComparison.OrdinalIgnoreCase);  	if (queryPos > -1) {  		retval.Relevance = 0.9;  		createSnippet (retval' originalText' queryPos);  	} else {  		var relevancePart = 0.8 / queryWords.Count ();  		foreach (var word in queryWords) {  			if (pageName.IndexOf (word' StringComparison.OrdinalIgnoreCase) > -1) {  				retval.Relevance += relevancePart;  				if (string.IsNullOrEmpty (retval.Snippet)) {  					createSnippet (retval' originalText' 0);  				}  			} else {  				var pos = textToSearch.IndexOf (word' StringComparison.OrdinalIgnoreCase);  				if (pos > -1) {  					retval.Relevance += relevancePart;  					if (string.IsNullOrEmpty (retval.Snippet)) {  						createSnippet (retval' originalText' pos);  					}  				}  			}  		}  	}  }  
Magic Number,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,The following statement contains a magic number: if (pageName.IndexOf (query' StringComparison.OrdinalIgnoreCase) > -1) {  	retval.Relevance = 1.0;  	createSnippet (retval' originalText' 0);  } else {  	var queryPos = textToSearch.IndexOf (query' StringComparison.OrdinalIgnoreCase);  	if (queryPos > -1) {  		retval.Relevance = 0.9;  		createSnippet (retval' originalText' queryPos);  	} else {  		var relevancePart = 0.8 / queryWords.Count ();  		foreach (var word in queryWords) {  			if (pageName.IndexOf (word' StringComparison.OrdinalIgnoreCase) > -1) {  				retval.Relevance += relevancePart;  				if (string.IsNullOrEmpty (retval.Snippet)) {  					createSnippet (retval' originalText' 0);  				}  			} else {  				var pos = textToSearch.IndexOf (word' StringComparison.OrdinalIgnoreCase);  				if (pos > -1) {  					retval.Relevance += relevancePart;  					if (string.IsNullOrEmpty (retval.Snippet)) {  						createSnippet (retval' originalText' pos);  					}  				}  			}  		}  	}  }  
Magic Number,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,The following statement contains a magic number: if (queryPos > -1) {  	retval.Relevance = 0.9;  	createSnippet (retval' originalText' queryPos);  } else {  	var relevancePart = 0.8 / queryWords.Count ();  	foreach (var word in queryWords) {  		if (pageName.IndexOf (word' StringComparison.OrdinalIgnoreCase) > -1) {  			retval.Relevance += relevancePart;  			if (string.IsNullOrEmpty (retval.Snippet)) {  				createSnippet (retval' originalText' 0);  			}  		} else {  			var pos = textToSearch.IndexOf (word' StringComparison.OrdinalIgnoreCase);  			if (pos > -1) {  				retval.Relevance += relevancePart;  				if (string.IsNullOrEmpty (retval.Snippet)) {  					createSnippet (retval' originalText' pos);  				}  			}  		}  	}  }  
Magic Number,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,The following statement contains a magic number: if (queryPos > -1) {  	retval.Relevance = 0.9;  	createSnippet (retval' originalText' queryPos);  } else {  	var relevancePart = 0.8 / queryWords.Count ();  	foreach (var word in queryWords) {  		if (pageName.IndexOf (word' StringComparison.OrdinalIgnoreCase) > -1) {  			retval.Relevance += relevancePart;  			if (string.IsNullOrEmpty (retval.Snippet)) {  				createSnippet (retval' originalText' 0);  			}  		} else {  			var pos = textToSearch.IndexOf (word' StringComparison.OrdinalIgnoreCase);  			if (pos > -1) {  				retval.Relevance += relevancePart;  				if (string.IsNullOrEmpty (retval.Snippet)) {  					createSnippet (retval' originalText' pos);  				}  			}  		}  	}  }  
Magic Number,EmaPersonalWiki,SearchAlgorithm,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SearchAlgorithm.cs,SearchPage,The following statement contains a magic number: retval.Relevance = 0.9;  
Magic Number,EmaPersonalWiki,UpgradeCheck,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\UpgradeCheck.cs,checkUpgrade,The following statement contains a magic number: try {  	Thread.Sleep (10000);  	var versionInfo = XDocument.Load (baseUrl + "versioninfo.xml");  	var latest = (from v in versionInfo.Descendants ("upgrade")  	where v.Attribute ("version") != null && int.Parse (v.Attribute ("version").Value) > CURRENT_VERSION  	orderby int.Parse (v.Attribute ("version").Value) descending  	select v).FirstOrDefault ();  	if (latest == null)  		return;  	//there is an upgrade  	upgrade = true;  	mUpgradeText = latest.Element ("info") != null ? latest.Element ("info").Value : string.Empty;  	var number = latest.Attribute ("version").Value;  	mAvailableVersion = number;  	mShouldAskFirst = latest.Attribute ("ask") != null && latest.Attribute ("ask").Value.Equals ("true"' StringComparison.CurrentCultureIgnoreCase);  	if (number == Settings.Default.SkipUpdate) {  		upgrade = false;  		return;  	}  	//create a dir to download to  	var tempPath = Path.Combine (Environment.ExpandEnvironmentVariables ("%TEMP%")' "EmaPersonalWiki.v" + number);  	if (!Directory.Exists (tempPath)) {  		Directory.CreateDirectory (tempPath);  	}  	using (var infoFile = File.CreateText (Path.Combine (tempPath' "ema.info"))) {  		infoFile.WriteLine ("InstallDir=" + AppDomain.CurrentDomain.BaseDirectory);  	}  	//download the files  	var wc = new WebClient ();  	foreach (var f in latest.Elements ("file")) {  		if (f.Attribute ("name") == null)  			continue;  		var fileName = f.Attribute ("name").Value;  		wc.DownloadFile (baseUrl + "v" + number + "/" + fileName' Path.Combine (tempPath' fileName));  	}  	mUpgradeCommand = Path.Combine (tempPath' latest.Attribute ("installer").Value);  } catch (Exception) {  	//if there was an error' still point out that there is   	//an update' which then can be downloaded manually.  	if (upgrade) {  		mShouldAskFirst = true;  		mUpgradeText = @"After you click 'Yes'' a browser Window with the Ema Personal Wiki homepage will be opened.";  		mUpgradeCommand = "http://www.janwillemboer.nl/blog/ema-personal-wiki";  	}  } finally {  	mHasUpgrade = upgrade;  }  
Magic Number,EmaPersonalWiki,UpgradeCheck,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\UpgradeCheck.cs,checkUpgrade,The following statement contains a magic number: Thread.Sleep (10000);  
Magic Number,EmaPersonalWiki,WikiWordsPattern,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\WikiWordsPattern.cs,transform,The following statement contains a magic number: if (replacement.StartsWith ("{") && replacement.EndsWith ("}")) {  	//trim wikiword markers  	replacement = replacement.Substring (1' replacement.Length - 2);  }  
Magic Number,EmaPersonalWiki,WikiWordsPattern,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\WikiWordsPattern.cs,transform,The following statement contains a magic number: replacement = replacement.Substring (1' replacement.Length - 2);  
Magic Number,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,closeSplash,The following statement contains a magic number: try {  	splash.Close (TimeSpan.FromSeconds (0.3));  } catch (Exception) {  	try {  		splash.Close (TimeSpan.Zero);  	} catch {  		//whatever   	}  }  
Magic Number,EmaPersonalWiki,App,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\App.xaml.cs,closeSplash,The following statement contains a magic number: splash.Close (TimeSpan.FromSeconds (0.3));  
Magic Number,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,mWatcher_Error,The following statement contains a magic number: Thread.Sleep (500);  
Magic Number,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,webBrowser1_Navigating,The following statement contains a magic number: if (m.Success) {  	var pageName = HttpUtility.UrlDecode (m.Groups [1].Value);  	setCurrentPageWithHistory (pageName);  	var a = new Action (() => {  		Thread.Sleep (10);  		refresh ();  	}).BeginInvoke (null' null);  } else {  	var file = uri.OriginalString;  	m = filesUrlRegex.Match (uri.OriginalString);  	if (m.Success) {  		file = Path.Combine (App.StorageDirectory' m.Groups [1].Value);  	}  	Process.Start (file);  }  
Magic Number,EmaPersonalWiki,ViewPage,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\ViewPage.xaml.cs,webBrowser1_Navigating,The following statement contains a magic number: Thread.Sleep (10);  
Missing Default,EmaPersonalWiki,SettingsWindow,F:\newReposMay17\janwillemb_Ema-Personal-Wiki\DesktopClient\SettingsWindow.xaml.cs,buttonReset_Click,The following switch statement is missing a default case: switch (MessageBox.Show ("Should I try to use the Dropbox directory?"' "Ema Personal Wiki asks"' MessageBoxButton.YesNoCancel)) {  case MessageBoxResult.Yes:  	App.InitializeStorageDir (true' false);  	break;  case MessageBoxResult.No:  	App.InitializeStorageDir (false' false);  	break;  }  
