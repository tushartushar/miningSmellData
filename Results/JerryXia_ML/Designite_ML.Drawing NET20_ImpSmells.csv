Implementation smell,Namespace,Class,File,Method,Description
Complex Method,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,Cyclomatic complexity of the method is 15
Long Parameter List,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The method has 5 parameters.
Long Parameter List,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,CreateMiddle,The method has 5 parameters.
Long Parameter List,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The method has 8 parameters.
Long Parameter List,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The method has 10 parameters.
Long Parameter List,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart2,The method has 8 parameters.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The length of the statement  "	aGh.DrawImage (originalImage' new Rectangle (0' 0' towidth' toheight)' new Rectangle (x' y' ow' oh)' GraphicsUnit.Pixel); " is 121.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeSmallImg,The length of the statement  "	g.DrawImage (myImage' new System.Drawing.Rectangle (0' 0' bitmap.Width' bitmap.Height)' new System.Drawing.Rectangle (0' 0' myImage.Width' myImage.Height)' System.Drawing.GraphicsUnit.Pixel); " is 191.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeSmallImg,The length of the statement  "	//System.Drawing.Image   copyImage   =   System.Drawing.Image.FromFile(System.Web.HttpContext.Current.Server.MapPath("pic/1.gif"));   " is 131.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeSmallImg,The length of the statement  "	//a.DrawImage(copyImage'   new   Rectangle(bitmap.Width-copyImage.Width'bitmap.Height-copyImage.Height'copyImage.Width'   copyImage.Height)'0'0'   copyImage.Width'   copyImage.Height'   GraphicsUnit.Pixel);   " is 206.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeMiddleImg,The length of the statement  "	g.DrawImage (myImage' new System.Drawing.Rectangle (0' 0' bitmap.Width' bitmap.Height)' new System.Drawing.Rectangle (0' 0' myImage.Width' myImage.Height)' System.Drawing.GraphicsUnit.Pixel); " is 191.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The length of the statement  "		Rectangle destRect = new Rectangle (new Point (pPartStartPointX' pPartStartPointY)' new Size (pPartWidth' pPartHeight)); " is 120.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The length of the statement  "		Rectangle origRect = new Rectangle (new Point (pOrigStartPointX' pOrigStartPointY)' new Size (pPartWidth' pPartHeight)); " is 120.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The length of the statement  "			GetPart (pPath' pSavedPath' pPartStartPointX' pPartStartPointY' pPartWidth' pPartHeight' pOrigStartPointX' pOrigStartPointY); " is 125.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The length of the statement  "		Rectangle destRect = new Rectangle (new Point (pPartStartPointX' pPartStartPointY)' new Size (pPartWidth' pPartHeight)); " is 120.
Long Statement,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The length of the statement  "		Rectangle origRect = new Rectangle (new Point (pOrigStartPointX' pOrigStartPointY)' new Size (pPartWidth' pPartHeight)); " is 120.
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: switch (mode) {  case "HW":  	//指定高宽缩放（可能变形）     	break;  case "W":  	//指定宽，高按比例     	toheight = originalImage.Height * width / originalImage.Width;  	break;  case "H":  	//指定高，宽按比例     	towidth = originalImage.Width * height / originalImage.Height;  	break;  case "Cut":  	//指定高宽裁减（不变形）     	if ((double)originalImage.Width / (double)originalImage.Height > (double)towidth / (double)toheight) {  		oh = originalImage.Height;  		ow = originalImage.Height * towidth / toheight;  		y = 0;  		x = (originalImage.Width - ow) / 2;  	}  	else {  		ow = originalImage.Width;  		oh = originalImage.Width * height / towidth;  		x = 0;  		y = (originalImage.Height - oh) / 2;  	}  	break;  default:  	break;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: switch (mode) {  case "HW":  	//指定高宽缩放（可能变形）     	break;  case "W":  	//指定宽，高按比例     	toheight = originalImage.Height * width / originalImage.Width;  	break;  case "H":  	//指定高，宽按比例     	towidth = originalImage.Width * height / originalImage.Height;  	break;  case "Cut":  	//指定高宽裁减（不变形）     	if ((double)originalImage.Width / (double)originalImage.Height > (double)towidth / (double)toheight) {  		oh = originalImage.Height;  		ow = originalImage.Height * towidth / toheight;  		y = 0;  		x = (originalImage.Width - ow) / 2;  	}  	else {  		ow = originalImage.Width;  		oh = originalImage.Width * height / towidth;  		x = 0;  		y = (originalImage.Height - oh) / 2;  	}  	break;  default:  	break;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: if ((double)originalImage.Width / (double)originalImage.Height > (double)towidth / (double)toheight) {  	oh = originalImage.Height;  	ow = originalImage.Height * towidth / toheight;  	y = 0;  	x = (originalImage.Width - ow) / 2;  }  else {  	ow = originalImage.Width;  	oh = originalImage.Width * height / towidth;  	x = 0;  	y = (originalImage.Height - oh) / 2;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: if ((double)originalImage.Width / (double)originalImage.Height > (double)towidth / (double)toheight) {  	oh = originalImage.Height;  	ow = originalImage.Height * towidth / toheight;  	y = 0;  	x = (originalImage.Width - ow) / 2;  }  else {  	ow = originalImage.Width;  	oh = originalImage.Width * height / towidth;  	x = 0;  	y = (originalImage.Height - oh) / 2;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: x = (originalImage.Width - ow) / 2;  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: y = (originalImage.Height - oh) / 2;  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,CreateMiddle,The following statement contains a magic number: if (fileExt == "gif") {  	TargetImage.Save (ThumbUrl' ImageFormat.Gif);  	myBitmap2.Dispose ();  }  else {  	ImageCodecInfo myImageCodecInfo = GetEncoderInfo ("image/jpeg");  	EncoderParameters myEncoderParameters = new EncoderParameters (2);  	System.Drawing.Imaging.Encoder myEncoder = System.Drawing.Imaging.Encoder.Quality;  	System.Drawing.Imaging.Encoder myEncoder2 = System.Drawing.Imaging.Encoder.ColorDepth;  	System.Drawing.Imaging.Encoder myEncoder3 = System.Drawing.Imaging.Encoder.ChrominanceTable;  	EncoderParameter myEncoderParameter1 = new EncoderParameter (myEncoder' 100L);  	EncoderParameter myEncoderParameter2 = new EncoderParameter (myEncoder2' 16L);  	myEncoderParameters.Param [0] = myEncoderParameter1;  	myEncoderParameters.Param [1] = myEncoderParameter2;  	TargetImage.Save (ThumbUrl' myImageCodecInfo' myEncoderParameters);  	myBitmap2.Dispose ();  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The following statement contains a magic number: using (Image originalImg = Image.FromFile (pPath)) {  	originalImg.Save (pSavedPath + ".gif"' ImageFormat.Gif);  	//宽度小于48的图片直接复制原图  	if (originalImg.Width <= 48) {  		originalImg.Save (pSavedPath' ImageFormat.Jpeg);  		return;  	}  	if (originalImg.Width == imageWidth && originalImg.Height == imageHeight) {  		GetPart (pPath' pSavedPath' pPartStartPointX' pPartStartPointY' pPartWidth' pPartHeight' pOrigStartPointX' pOrigStartPointY);  		return;  	}  	Image.GetThumbnailImageAbort callback = new Image.GetThumbnailImageAbort (ThumbnailCallback);  	Image zoomImg = originalImg.GetThumbnailImage (imageWidth' imageHeight' callback' IntPtr.Zero);  	//缩放  	zoomImg.Save (pSavedPath + ".zoomImg.gif"' ImageFormat.Gif);  	Bitmap partImg = new Bitmap (imageWidth' imageHeight);  	Graphics graphics = Graphics.FromImage (partImg);  	Rectangle destRect = new Rectangle (new Point (pPartStartPointX' pPartStartPointY)' new Size (pPartWidth' pPartHeight));  	//目标位置  	Rectangle origRect = new Rectangle (new Point (pOrigStartPointX' pOrigStartPointY)' new Size (pPartWidth' pPartHeight));  	//原图位置（默认从原图中截取的图片大小等于目标图片的大小）  	///文字水印    	System.Drawing.Graphics G = System.Drawing.Graphics.FromImage (partImg);  	//System.Drawing.Font f = new Font("Lucida Grande"' 6);  	//System.Drawing.Brush b = new SolidBrush(Color.Gray);  	G.Clear (Color.White);  	graphics.DrawImage (originalImg' destRect' origRect' GraphicsUnit.Pixel);  	//G.DrawString("Ftodo.com"' f' b' 0' 0);  	G.Dispose ();  	originalImg.Dispose ();  	if (File.Exists (normalJpgPath)) {  		File.SetAttributes (normalJpgPath' FileAttributes.Normal);  		File.Delete (normalJpgPath);  	}  	//partImg.Save(normalJpgPath' ImageFormat.Jpeg);  	if (pSavedPath.IndexOf (".gif") != -1) {  		partImg.Save (normalJpgPath' ImageFormat.Gif);  	}  	else {  		ImageCodecInfo myImageCodecInfo;  		System.Drawing.Imaging.Encoder myEncoder;  		EncoderParameter myEncoderParameter;  		EncoderParameters myEncoderParameters;  		myImageCodecInfo = GetEncoderInfo ("image/jpeg");  		myEncoder = System.Drawing.Imaging.Encoder.Quality;  		myEncoderParameters = new EncoderParameters (1);  		myEncoderParameter = new EncoderParameter (myEncoder' 99L);  		myEncoderParameters.Param [0] = myEncoderParameter;  		partImg.Save (normalJpgPath' myImageCodecInfo' myEncoderParameters);  	}  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,GetPart,The following statement contains a magic number: if (originalImg.Width <= 48) {  	originalImg.Save (pSavedPath' ImageFormat.Jpeg);  	return;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: if ((double)image.Width / image.Height > (double)toWidth / toHeight) {  	oh = image.Height;  	ow = image.Height * toWidth / toHeight;  	x = (image.Width - ow) / 2;  }  else {  	ow = image.Width;  	oh = image.Width * toHeight / toWidth;  	y = (image.Height - oh) / 2;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: if ((double)image.Width / image.Height > (double)toWidth / toHeight) {  	oh = image.Height;  	ow = image.Height * toWidth / toHeight;  	x = (image.Width - ow) / 2;  }  else {  	ow = image.Width;  	oh = image.Width * toHeight / toWidth;  	y = (image.Height - oh) / 2;  }  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: x = (image.Width - ow) / 2;  
Magic Number,ML.Drawing,ImageHelper,C:\repos\JerryXia_ML\src\ML.Drawing NET20\ImageHelper.cs,MakeThumbnail,The following statement contains a magic number: y = (image.Height - oh) / 2;  
